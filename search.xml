<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>[翻译]Dropbox Web 服务启用 HTTP/2：经验和观察</title>
      <link href="/post/enabling-http2-for-dropbox-web-services-experiences-and-observations.html"/>
      <url>/post/enabling-http2-for-dropbox-web-services-experiences-and-observations.html</url>
      <content type="html"><![CDATA[<p>Haowei Yuan | 2016年5月11日 最近，为了启用 HTTP/2，我们 Dropbox 的流量团队升级了前端的 Nginx 服务器。本文将分享我们迁移到 HTTP/2 的过程中的体验和新发现。整个过程较为顺利，但还是有发现一些坑，也许对大家有帮助。</p><h2 id="背景：HTTP-2-与-Dropbox-Web-服务架构"><a href="#背景：HTTP-2-与-Dropbox-Web-服务架构" class="headerlink" title="背景：HTTP/2 与 Dropbox Web 服务架构"></a>背景：HTTP/2 与 Dropbox Web 服务架构</h2><p>HTTP/2 (<a href="https://tools.ietf.org/html/rfc7540" target="_blank" rel="noopener">RFC 7540</a>) 是 HTTP 协议的新的大版本。它基于 <a href="https://www.chromium.org/spdy" target="_blank" rel="noopener">SPDY</a> 协议，而且相比于 HTTP/1.1 提供了好多性能优化。这些优化包括：更高效的报头压缩、Server Push、多路复用等等。至今，<a href="http://caniuse.com/#feat=http2" target="_blank" rel="noopener">过半浏览器已经支持HTTP/2</a>。 Dropbox 使用开源的 Nginx 做 SSL 终结前端和为流量提供七层负载均衡。升级前，我们的前端服务器跑的是基于 Nginx 1.7 的软件，并且支持 SPDY。另一个升级的动力来自，虽然 Chrome 目前既支持 SPDY 也支持 HTTP/2 ，但他们很快会在5月15日 <a href="http://blog.chromium.org/2016/02/transitioning-from-spdy-to-http2.html" target="_blank" rel="noopener">放弃SPDY支持</a>。如果那时不支持 HTTP/2 ，我们的 Chrome 用户就会从 SPDY 降级到使用 HTTP/1.1。</p><h2 id="HTTP-2-升级步骤"><a href="#HTTP-2-升级步骤" class="headerlink" title="HTTP/2 升级步骤"></a>HTTP/2 升级步骤</h2><p>升级 HTTP/2 对我们来说是个直截、而且平滑的切换。Nginx 1.9.5 增加了 HTTP/2 模块（也由 Dropbox 共同协助），并默认弃用了 SPDY 支持。我们当时就决定升级到 Nginx 1.9.15，即那时的最新稳定版。 用 Nginx 升级 HTTP/2 只需对配置文件做小小的改动。只需将 <code>http2</code> 关键字增加到 <code>listen</code> 指令后面。因为我们之前启用了 SPDY，所以只需将 <code>spdy</code> 替换成 <code>http2</code>。</p><p>升级前  (SPDY): listen A.B.C.D:443 ssl <strong>spdy</strong>; </p><p>升级后 (HTTP/2): listen A.B.C.D:443 ssl <strong>http2**</strong>;** </p><p>当然，您或许会需要浏览完整的 <a href="http://nginx.org/en/docs/http/ngx_http_v2_module.html" target="_blank" rel="noopener">Nginx HTTP/2 配置选项</a>，好针对某些特定的场景做优化。 部署方面，我们首先在小流量机器上启用 HTTP/2 了一个星期，同时线上依然使用 SPDY。在确定了正确性，并且评估了性能之后，HTTP/2 才全量启用。 <a href="https://dropboxtechblog.files.wordpress.com/2016/05/http2_transition.png" target="_blank" rel="noopener"><img src="https://dropboxtechblog.files.wordpress.com/2016/05/http2_transition.png?w=1300" alt="http2 transition"></a> 从 SPDY 到 HTTP/2 的平滑切换 (60 分钟的流量数据) 上图展示了从 SPDY 到 HTTP/2 的平滑切换。余留的 HTTP/1.1 连接在图中没有显示。我们分别在大约第 23 、第36 和第 50 分钟，逐步将所有前端 Web 服务器启用了 HTTP/2。在此之前，在线连接既有小流量机器的 HTTP/2 流量，也有线上机器的 SPDY 流量。如您所见，基本上所有 SPDY 连接着的客户端最终都转移到了 HTTP/2 上。</p><h2 id="观测"><a href="#观测" class="headerlink" title="观测"></a>观测</h2><p>在小流量机器上启用了 HTTP/2 后，我们紧密地监测着性能。观察得到的既有代表 HTTP/2 的高效性能的数据，也有一些由于 HTTP/2 的实现还较新而产生的坑。</p><h2 id="性能提升"><a href="#性能提升" class="headerlink" title="性能提升"></a>性能提升</h2><p>我们观测到流入带宽开销显著降低，这是由更高效的报头（Header）压缩(<a href="https://http2.github.io/http2-spec/compression.html" target="_blank" rel="noopener">HPACK</a>)带来的。 <a href="https://dropboxtechblog.files.wordpress.com/2016/05/traffic_bandwidth.png" target="_blank" rel="noopener"><img src="https://dropboxtechblog.files.wordpress.com/2016/05/traffic_bandwidth.png?w=1300" alt="traffic bandwidth"></a> 降低的流入带宽开销 (24 个小时的流量数据) 上图展示了HTTP/2 只在小流量机器上启用时，小流量和线上机器平均（每台机器）的带宽开销。每一台小流量机器和线上机器都从负载均衡服务器上拿到了几乎一样大的流量。可以看到，启用 HTTP/2 以后，入网带宽流量降低很显著（差不多50%）。值得一提的是，虽然我们之前在所有小流量和线上机器启用了 SPDY，但并没有开启 SPDY 的报头压缩，因为有一个相关联的安全问题 (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2012-4929" target="_blank" rel="noopener">CVE-2012-4929</a> 也就是 CRIME）存在。至于出网流量，则并没有显著的改变，因为报头在响应流量中通常只占很小一部分。</p><h2 id="一些坑"><a href="#一些坑" class="headerlink" title="一些坑"></a>一些坑</h2><p><strong>更新: POST 请求延迟增加和 REFUSED_STREAM 错误h的问题在最近的 <a href="http://hg.nginx.org/nginx/rev/ce94f07d5082" target="_blank" rel="noopener">Nginx 1.11.0 版本</a> 已经得到了修正。 </strong> 变更后新的 P50 请求延迟的数据图在文末附上。 <strong>POST请求延迟提高了。</strong>当我们在小流量机器上启用 HTTP/2 时，发现延迟中位数上升了。下图展示了小流量和线上机器之间的 P50 请求延迟(P50 request latency，即 50% 的请求延迟比这个时间短，下同)。经过调查这个问题，我们发现，延迟是由 POST 请求产生的。更深入研究之后，这个行为看起来是归咎于 Nginx 1.9.15 的某些实现而产生的。相关的讨论可以在 <a href="http://mailman.nginx.org/pipermail/nginx-devel/2016-May/008211.html" target="_blank" rel="noopener">Nginx 邮件列表</a> 中找到。 <a href="https://dropboxtechblog.files.wordpress.com/2016/05/request_latency.png" target="_blank" rel="noopener"><img src="https://dropboxtechblog.files.wordpress.com/2016/05/request_latency.png?w=1300" alt="request latency"></a> P50 响应延迟提高 (24 个小时的流量数据) 注意在此看到的 P50 请求延迟提高的百分比（大约变成 1.5 倍）取决于特定的流量负荷。在大部分情况下，增加的负担对我们来说大约是一个 RTT（round trip time，往返延时） 那么多，并没有太影响我们的关键性能。然而，如果您的流量负荷包含许多小的、对延迟敏感的 POST 请求，那么增加的延迟时间是您考虑是否升级到 Nginx 1.9.15 的重要考虑因素。 <strong>为所有内容都启用 HTTP/2 要小心，尤其是当您不能控制客户端的时候。</strong>由于 HTTP/2 还是比较新，从我们的经验来看，一些客户端/库和服务器的实现还不是兼容得很好，例如：</p><ul><li>使用 Nginx 1.9.15，如果客户端试图在获知帧（Frame）的连接设置（SETTING）之前发送 数据（DATA）帧，POST 请求就会得到 REFUSED_STREAM 错误。我们发现 Swift SDK 存在该问题。值得一提的是，监测 Nginx 错误日志在部署过程中至关重要，而观察到这个错误信息需要把错误日志的记录严重等级提升到 INFO 。</li><li>Chrome 未能正确处理带有 NO_ERROR 的 RST_STREAM 帧，引发了一些与 Nginx 1.9.14 之间的问题 (<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=603182" target="_blank" rel="noopener">Chromium Issue #603182</a>)。 Nginx 1.9.15 提供了该问题的临时解决方案。</li><li>在没有窗口空间时，Nghttp2 不会发送 END_STREAM 信号， 这个问题也在前述的 <a href="http://mailman.nginx.org/pipermail/nginx-devel/2016-May/008211.html" target="_blank" rel="noopener">Nginx 邮件列表</a> 中有讨论。</li></ul><p>由于我们的 API 用户可能涉及到各种第三方 HTTP 库，我们需要进行更充分的测试才能为我们的 API 开启 HTTP/2 支持。</p><h2 id="调试工具"><a href="#调试工具" class="headerlink" title="调试工具"></a>调试工具</h2><p>CloudFlare 已经有一篇 <a href="https://blog.cloudflare.com/tools-for-debugging-testing-and-using-http-2/" target="_blank" rel="noopener">总结得很好的 HTTP/2 调试工具总结</a>。另外，我们发现 Chrome 的 Net-internals 工具 （Chrome 中通过 chrome://net-internals/#http2 可以访问） 也很有用。下图是当开启一个新的指向 <a href="http://www.dropbox.com" target="_blank" rel="noopener">www.dropbox.com</a> 的会话时，Net-internals 工具记录帧的传输的截屏。 <a href="https://dropboxtechblog.files.wordpress.com/2016/05/net_internals_screenshot.png" target="_blank" rel="noopener"><img src="https://dropboxtechblog.files.wordpress.com/2016/05/net_internals_screenshot.png?w=1300" alt=""></a> 开启一个新的 HTTP/2 会话时 Net-internals 的截屏 总之，我们平滑的迁移到了 HTTP/2。以下是本文的内容的再次概括：</p><ul><li>Nginx 中开启 HTTP/2 很简单。</li><li>由于报头压缩的存在，入网带宽流量开销显著会降低。</li><li>由于 Nginx 1.9.15 的某些 HTTP/2 实现，POST 请求的延迟会提高。</li><li>当现有实现的兼容性还不够全面的时候，为所有内容都开启 HTTP/2 要小心。</li><li>小流量验证和 Nginx 错误日志检查可以帮助尽早发现潜在的问题。</li></ul><p>我们希望本文对有兴趣给服务器开启 HTTP/2 和对网络感兴趣的人有帮助。也欢迎收到您从下方的评论框给予的反馈。 <strong>更新: POST 请求延迟的增加和 REFUSED_STREAM 错误的问题在最近的 <a href="http://hg.nginx.org/nginx/rev/ce94f07d5082" target="_blank" rel="noopener">Nginx 1.11.0 版本</a> 已经得到了修正。</strong> 下图展示了小流量机器变更了之后， P50 请求延迟比例 (小流量机器和线上机器延迟时间的比例) 降低了。要注意图中线上机器的 P50 请求延迟在之前为了支持 HTTP/2 升级到 Nginx 1.9.15 的时候有所增加。 <a href="https://dropboxtechblog.files.wordpress.com/2016/06/updated_request_latency.png" target="_blank" rel="noopener"><img src="https://dropboxtechblog.files.wordpress.com/2016/06/updated_request_latency.png?w=650" alt="Reduced P50 latency"></a> 变更之后 P50 请求延迟比例降低了 (4 个小时的流量数据) <strong>贡献者:</strong> Alexey Ivanov, Dmitry Kopytkov, Dzmitry Markovich, Eduard Snesarev, Haowei Yuan, and Kannan Goundan</p><hr><h2 id="评论翻译"><a href="#评论翻译" class="headerlink" title="评论翻译"></a>评论翻译</h2><p>Haowei Yuan 由于有人感兴趣，我们在小流量机器上启用 HTTP/2 以后，P95 请求延迟比例（小流量机器和线上机器的比值）保持在接近 1.0 。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://http2.github.io/http2-spec/" target="_blank" rel="noopener">Hypertext Transfer Protocol Version 2 (HTTP/2)</a></li><li><a href="https://github.com/fex-team/http2-spec/blob/master/HTTP2%E4%B8%AD%E8%8B%B1%E5%AF%B9%E7%85%A7%E7%89%88%2806-29%29.md" target="_blank" rel="noopener">超文本传输协议版本 2 （中英文对照版）</a></li></ul><hr><p>原文地址：<a href="https://blogs.dropbox.com/tech/2016/05/enabling-http2-for-dropbox-web-services-experiences-and-observations/#disqus_thread" target="_blank" rel="noopener">enabling-http2-for-dropbox-web-services-experiences-and-observations/</a> 首发于<a href="http://www.zcfy.cc" target="_blank" rel="noopener">众成翻译</a>：<a href="http://www.zcfy.cc/article/568" target="_blank" rel="noopener">Dropbox Web 服务启用 HTTP/2：体验和观测</a></p>]]></content>
      
      <categories>
          
          <category> HTTP2 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> HTTP/2 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译]为什么迁移到 HTTPS 有利于网站统计</title>
      <link href="/post/why-switching-to-https-will-make-your-analytics-better.html"/>
      <url>/post/why-switching-to-https-will-make-your-analytics-better.html</url>
      <content type="html"><![CDATA[<p>2016年06月06日 联邦机构要求将所有联邦网站在 2016 年底前都迁移成只能通过 <a href="https://https.cio.gov/" target="_blank" rel="noopener">安全的 HTTPS-only 连接</a> 访问的网站。您也许不知道的是，转换成 HTTPS 后，您网站的引流页面的追踪效果会提升。 <img src="https://www.digitalgov.gov/files/2016/06/600-x-425-Https-internet-security-concept-doguhakan-iStock-Thinkstock-497418668.jpg" alt="Https internet security concept"> <em>doguhakan/iStock/Thinkstock</em> 近日，一位联邦员工在某个 <a href="http://www.digitalgov.gov/communities/" target="_blank" rel="noopener">在线社区</a> 上透露，二月底，有突发的巨量的从 <a href="https://wikipedia.org" target="_blank" rel="noopener">Wikipedia.org</a> 到某个联邦网站的引流。比引流巨大更奇怪的是，这些突发流量全都单单指向一个来源地址 (<a href="http://en.wikipedia.org" target="_blank" rel="noopener">en.wikipedia.org</a>)，而不是从其它具体的页面来的。这突发的巨量引流，和空缺的具体来源页面，都是她希望解决的谜团。 幸运的是，一群社区会员很快找出了问题所在。症结在于：<strong>当访客从 HTTPS 网站点击一个指向 HTTP 站点的链接时，相应的 referer 信息会丢失，而 Google Analytics 就将该流量标记成“直接访问”。但是，从一个 HTTPS 站点到另一个 HTTPS 网站则是会带上引流数据的。</strong>本人之前写到过 <a href="https://www.digitalgov.gov/2015/04/07/why-your-social-traffic-looks-low-in-analytics-tools/" target="_blank" rel="noopener">使用某些短链接服务将导致 referer 丢失</a>，短链接和 HTTP 引流问题都会导致所谓的 “不明流量”。本质上，“不明流量” 就是无法确定来源的访问，而 Google Analytics 将所有不明流量都归入只能知道是 “直接访问” 那一类。 然而，在这个特定的事例中，故事仍有波澜。Wikipedia 实际上已于 2015 年六月 <a href="http://blog.wikimedia.org/2015/06/12/securing-wikimedia-sites-with-https/" target="_blank" rel="noopener">从 HTTP 迁移到了 HTTPS</a>。在那时，几乎所有从 <a href="http://wikipedia.org" target="_blank" rel="noopener">wikipedia.org</a> 到 HTTP 站点的引流数据都消失了。但是，2016年2月，Wikipedia 实现了 “<a href="https://w3c.github.io/webappsec-referrer-policy/" target="_blank" rel="noopener">referrer 策略</a>” ，允许他们对所有的跳出链接设置一个统一的引流来源地址，包括指向 HTTP 站点的链接。他们选择将 referrer 设为 Wikipedia 的域名（带上语言标记），而不是外链到另一个站点的某个具体页面。所以，实际上被当成“直接访问”了几个月的流量突然又带上来源信息出现了，只不过，带上的来源很单一，都是来自 <a href="http://en.wikipedia.org" target="_blank" rel="noopener">en.wikipedia.org</a> 的。 <a href="https://www.digitalgov.gov/files/2016/06/Screen-Shot-2016-06-01-at-11.42.41-AM.png" target="_blank" rel="noopener"><img src="https://www.digitalgov.gov/files/2016/06/600-x-105-Screen-Shot-2016-06-01-at-11.42.41-AM.jpg" alt="某个联邦站点的来自 wikipedia.org 流量的截屏. 当 2015 年 6 月 Wikipedia 迁移至 HTTPS 时几乎完全变平了，又在 2016 年 2 月时由于 Wikipedia 新设置的引流策略重新出现了."></a> <em>某个联邦站点的来自 wikipedia.org 流量的截屏. 当 2015 年 6 月 Wikipedia 迁移至 HTTPS 时几乎完全变平了，又在 2016 年 2 月时由于 Wikipedia 新设置的引流策略重新出现了.</em> 不幸的是，并不是所有 HTTPS 网站都会像 Wikipedia 那样充分的应用 referrer 策略。也就是说，如果您的网站依然是 HTTP 的，则会有潜在的很大百分比的引流流量都被丢入 “直接访问” 的深渊里。而且鉴于 referrer 策略控制在导入流量给您的其它 HTTPS 站点手中，您就是想解决这个问题也无能为力。 当然，除非，您迁移到 HTTPS。 <em>Tim Lowden is the Acting Program Manager for the Digital Analytics Program (DAP). For more information about DAP or to become a DAP participating agency, please <a href="mailto:dap@support.digitalgov.gov" target="_blank" rel="noopener">contact DAP via email</a>.</em></p><hr><h2 id="评论翻译"><a href="#评论翻译" class="headerlink" title="评论翻译"></a>评论翻译</h2><p>原文评论指出，虽然 HTTPS 指向 HTTP 的链接不带 referrer ，但是 HTTP 的站点指向 HTTPS 的链接是会带上 referrer 的。 也就是说，迁移到 HTTPS 以后，就可以享受到来自 HTTP 和 HTTPS 的两种 referrer 。</p><hr><p>原文地址：<a href="https://www.digitalgov.gov/2016/06/06/why-switching-to-https-will-make-your-analytics-better/" target="_blank" rel="noopener">Why Switching to HTTPS Will Make Your Analytics Better</a> 首发地址：<a href="http://www.zcfy.cc/article/561" target="_blank" rel="noopener">众成翻译：为什么迁移到 HTTPS 有利于网站统计</a></p>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTPS </tag>
            
            <tag> referrer </tag>
            
            <tag> referrer为什么为空 </tag>
            
            <tag> 为什么统计不到访问来源 </tag>
            
            <tag> 引流 </tag>
            
            <tag> 统计 </tag>
            
            <tag> 访问来源 </tag>
            
            <tag> 访问来源为空 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Windows 7 修改用户文件夹的方法</title>
      <link href="/post/how-to-change-user-profile-folder-in-windows-7.html"/>
      <url>/post/how-to-change-user-profile-folder-in-windows-7.html</url>
      <content type="html"><![CDATA[<p>Windows 7 安装好了以后，有个 %USERPROFILE% 的变量默认指向 C:/Users/{用户名} 。一些应用程序的设置、临时文件等等都放在这个目录下面。 所以这个目录会非常庞大，至少有 5G 以上。 然而 Windows 7 的 C 盘空间很容易就不够用了。Windows 系统的硬盘分区设计就是个错误。 那么怎么把这个默认的用户目录改到另外一个盘，比如 D 盘呢？</p><h2 id="首先，将-C-Users-目录整体拷贝到-D-盘："><a href="#首先，将-C-Users-目录整体拷贝到-D-盘：" class="headerlink" title="首先，将 C:/Users 目录整体拷贝到 D 盘："></a>首先，将 C:/Users 目录整体拷贝到 D 盘：</h2><ol><li>按一下“Windows”键，输入“计算机管理”之后按“Enter”，呼出“计算机管理器”；</li><li>鼠标点击“Administrator”，选择属性，而后在随后的对话框中去掉“帐户已禁用”之前的勾，而后关闭“计算机管理器”；</li><li>注销当前用户（注意，不是“切换用户”），而后以“Administrator”登录</li><li>打开命令行窗口，输入以下命令：</li></ol><pre><code>robocopy &quot;C:\Users&quot; &quot;D:\Users&quot; /E /COPYALL /XJ /XD &quot;C:\Users\Administrator&quot;</code></pre><ol start="5"><li>注销Administrator，重新用你的用户名登录Windows7，而后到“计算机管理器”里禁用Administrator；</li></ol><p>以上和 “百度经验” 里面的方法一样。</p><h2 id="然后，需要用-mklink-命令将-C-Users-都指向-D-Users"><a href="#然后，需要用-mklink-命令将-C-Users-都指向-D-Users" class="headerlink" title="然后，需要用 mklink 命令将 C:/Users 都指向 D:/Users"></a>然后，需要用 mklink 命令将 C:/Users 都指向 D:/Users</h2><p>接下来需要用 <code>mklink</code> 命令将 C:/Users 目录创建成指向 D:/Users 的接合（Junction）。 但是，当 C:/Users 目录存在时，无法 <code>mklink</code> 成功。 可是，C:/Users 目录总是有文件被占用，Windows 7 不允许删除它。</p><h2 id="所以，先要解除-C-Users-文件夹的删除限制"><a href="#所以，先要解除-C-Users-文件夹的删除限制" class="headerlink" title="所以，先要解除 C:/Users 文件夹的删除限制"></a>所以，先要解除 C:/Users 文件夹的删除限制</h2><ol><li>上一步复制完成后，重启电脑，进入注册表：运行Regedit ；</li><li>进入这个地址： <code>HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindows NTCurrentVersionProfileList</code> ；</li><li>找到含有 {你的用户名} ，比如 Administrator 设置信息的项，我这里是“S-1-5-21-3304176512-2651245909-2883396162-500” ；</li><li>修改”ProfileImagePath”的值为“D:/Users/{你的用户名}”</li><li>有强迫症可以把所有用户名的都改了，我只有一个用户常用所以没改别的，反正待会儿登录的那个用户名一定要改。</li></ol><p>现在重新启动电脑， C:/Users/{你的用户名} 的功能已经被 D:/Users/{你的用户名} 取代了，自然可以删除了。</p><h2 id="现在，终于可以彻底用-D-Users-替换-C-Users-目录的功能。"><a href="#现在，终于可以彻底用-D-Users-替换-C-Users-目录的功能。" class="headerlink" title="现在，终于可以彻底用 D:/Users 替换 C:/Users 目录的功能。"></a>现在，终于可以彻底用 D:/Users 替换 C:/Users 目录的功能。</h2><p>终于可以 rmdir 删除 C:/Users 目录了。 若还有百度拼音什么的非系统进程占用 C:/Users ，用任务管理器关掉占用的进程。 并创建目录接合，将 C:/Users 都指向 D:/Users。 用管理员身份打开 cmd ，输入以下命令：</p><pre><code>rmdir &quot;C:\Users&quot; /S /Qmklink /J &quot;C:\Users&quot; &quot;D:\Users&quot;</code></pre><h2 id="成功"><a href="#成功" class="headerlink" title="成功"></a>成功</h2><p>重新启动电脑，用户目录至此全部修改成功。</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul><li><a href="http://jingyan.baidu.com/article/7f41ececf1c240593c095c5e.html" target="_blank" rel="noopener">Windows7中如何更改“用户文件夹”的默认路径</a></li><li><a href="https://technet.microsoft.com/zh-cn/library/cc753194(v=ws.10" target="_blank" rel="noopener">Mklink</a>.aspx)</li><li><a href="http://www.jb51.net/os/windows/228371.html" target="_blank" rel="noopener">windows7系统自带的CMD命令复制和删除文件夹</a></li><li><a href="http://www.xinze.me/win7%E4%BF%AE%E6%94%B9userprofile%E8%B7%AF%E5%BE%84/" target="_blank" rel="noopener">win7修改%userprofile%路径</a></li></ul>]]></content>
      
      <categories>
          
          <category> 日常小技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C盘空间不够用怎么办 </tag>
            
            <tag> win7 </tag>
            
            <tag> windows7 </tag>
            
            <tag> 修改USERPROFILE </tag>
            
            <tag> 修改用户目录 </tag>
            
            <tag> 修改默认Users目录 </tag>
            
            <tag> 当文件已存在时，无法创建该文件 </tag>
            
            <tag> 清理C盘空间 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>TotalPoll Lite 简体中文汉化包</title>
      <link href="/post/totalpoll-lite-zh-mo-po.html"/>
      <url>/post/totalpoll-lite-zh-mo-po.html</url>
      <content type="html"><![CDATA[<p><a href="http://totalpoll.com/" target="_blank" rel="noopener">TotalPoll</a> 是一个 WordPress 的投票插件（<a href="http://totalpoll.com/demo/poll/demo-1-regular-basic-poll/" target="_blank" rel="noopener">DEMO地址</a>）。其免费版本叫做 TotalPoll Lite，下载地址： <a href="https://wordpress.org/plugins/totalpoll-lite/" target="_blank" rel="noopener">https://wordpress.org/plugins/totalpoll-lite/</a> [caption id=”attachment_2292” align=”alignnone” width=”772”]<a href="https://www.bokeyy.com/wp-content/uploads/2016/04/63a4892b-126f-410c-8c67-9a61739dde26.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/04/63a4892b-126f-410c-8c67-9a61739dde26.jpg" alt="TotalPoll DEMO - Picture Contest"></a> TotalPoll DEMO - Picture Contest[/caption] TotalPoll 简单易用，傻瓜方便，界面美观，SEO 友好，移动优先，无论是外观还是理念都比较现代。 为了方便老妈使用，我做了一个 TotalPoll Lite 的基本汉化包，日常功能和用户界面都是中文了。现在放出来提供免费下载。 [caption id=”attachment_2301” align=”alignnone” width=”1354”]<a href="https://www.bokeyy.com/wp-content/uploads/2016/04/be7f8170-8eff-460c-8b2b-2177b199e3b7.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/04/be7f8170-8eff-460c-8b2b-2177b199e3b7.jpg" alt="TotalPoll Lite 汉化截图"></a> TotalPoll Lite 汉化截图[/caption] 请将 <a href="https://www.bokeyy.com/wp-content/uploads/2016/04/totalpoll-zh.mo" target="_blank" rel="noopener">totalpoll-zh.mo</a> 和 <a href="https://www.bokeyy.com/wp-content/uploads/2016/04/totalpoll-zh.po" target="_blank" rel="noopener">totalpoll-zh.po</a> 文件不改名，直接放入 <code>\languages</code> 目录中，简体中文版 <code>WordPress</code> 会自动识别并启用汉化。 若需要修改，请下载 <a href="https://poedit.net/" target="_blank" rel="noopener">poedit</a> 自行修改。</p>]]></content>
      
      <categories>
          
          <category> 作品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 汉化 </tag>
            
            <tag> TotalPoll </tag>
            
            <tag> TotalPoll Lite </tag>
            
            <tag> 免费下载 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>配置本地的 .gitignore</title>
      <link href="/post/config-a-local-global-gitignore.html"/>
      <url>/post/config-a-local-global-gitignore.html</url>
      <content type="html"><![CDATA[<p>有的时候会需要屏蔽一些本地的文件，如果这时候有洁癖，不想修改项目 .gitignore 并提交，可以采用本地全局 .gitignore 文件的方法。</p><pre><code>git config --global core.excludesfile ~/.gitignore_global</code></pre><p>其中 <code>~/.gitignore_global</code> 就是本地的全局 .gitignore 文件。文件中每一行都会作为补充，应用于本地所有 git 项目中 。</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://help.github.com/articles/ignoring-files/" target="_blank" rel="noopener">https://help.github.com/articles/ignoring-files/</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> gitignore </tag>
            
            <tag> gitignore不用提交 </tag>
            
            <tag> 本地gitignore怎么配置 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>为 WordPress 编译安装 PHP 7.0.3 亲测全攻略</title>
      <link href="/post/build-php-7-0-3-for-wordpress.html"/>
      <url>/post/build-php-7-0-3-for-wordpress.html</url>
      <content type="html"><![CDATA[<h2 id="PHP7-有什么好处？"><a href="#PHP7-有什么好处？" class="headerlink" title="PHP7 有什么好处？"></a>PHP7 有什么好处？</h2><p>首先，比 PHP5 占用更低内存；其次，性能快一倍以上；最后，WordPress 的 QPS 可以提升到原来的 3 倍左右。 [caption width=”800” align=”alignnone”]<a href="https://kinsta.com/blog/the-definitive-php-7-final-version-hhvm-benchmark/" target="_blank" rel="noopener"><img src="https://kinsta.com/wp-content/uploads/2015/12/Copy-of-Copy-of-Transactions-per-second.png" alt="WordPress 4.4 的 QPS 比较"></a> WordPress 4.4 的 QPS 比较：数字越大，QPS 越高[/caption]</p><h2 id="本例的主机-VPS-配置"><a href="#本例的主机-VPS-配置" class="headerlink" title="本例的主机 VPS 配置"></a>本例的主机 VPS 配置</h2><ul><li>带宽:1Mbps</li><li>CPU:1核</li><li>操作系统:Ubuntu 12.04 64位</li><li>内存:1GB</li><li>云盾:是</li><li>环境:Linux + Nginx + Memcached + PHP-FPM</li></ul><h2 id="为什么要编译安装"><a href="#为什么要编译安装" class="headerlink" title="为什么要编译安装"></a>为什么要编译安装</h2><p>并不是为了酷，本站使用的 Ubuntu 12.04 版本太低，apt-get install 安装不到最新版的 GCC 和 PHP7 。</p><h2 id="检查-GCC-版本"><a href="#检查-GCC-版本" class="headerlink" title="检查 GCC 版本"></a>检查 GCC 版本</h2><p><a href="http://www.laruence.com/2015/12/04/3086.html" title="让PHP7达到最高性能的几个Tips | 04 Dec 15 " target="_blank" rel="noopener">@Laruence 推荐用 GCC 4.8 以上编译 PHP7</a>，检查一下 GCC 版本：</p><pre><code>$ gcc -v</code></pre><p>若低于 4.8 ，推荐编译升级 GCC，请参考 <a href="https://www.cppfans.org/1719.html" target="_blank" rel="noopener">linux下升级gcc的方法 – 亲测可用 - C++爱好者博客</a>。 截止 2016年2月15日， GCC 的最新版是 5.3.0 ，请自行到 <a href="https://gcc.gnu.org/" target="_blank" rel="noopener">GCC 官网</a>查看和<a href="https://gcc.gnu.org/mirrors.html" target="_blank" rel="noopener">选择下载地址</a>。 本例从 GCC 4.6.3 升级到了 GCC 5.3.0，步骤如下：</p><pre><code>$ wget http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/gcc-5.3.0/gcc-5.3.0.tar.gz$ tar -xf gcc-5.3.0.tar.gz$ cd gcc-5.3.0</code></pre><p>运行 <code>download_prerequisites</code> 脚本，这个脚本会自动帮你下载所需要的依赖文件和库：</p><pre><code>$ ./contrib/download_prerequisites</code></pre><p>建立输出目录，将所有的中间文件都放到该目录，</p><pre><code>$ mkdir gcc_temp$ cd gcc_temp</code></pre><p>运行</p><pre><code>$ ../configure --enable-checking=release --enable-languages=c,c++ --disable-multilib$ make &amp;&amp; make install</code></pre><h3 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h3><p>编译时间依据机器性能而定，并消耗较多的内存。如果你的服务器内存也很紧张，请开启 500M 的 SWAP 交换区，否则 <a href="http://stackoverflow.com/questions/18389612/make-exits-with-error-2-when-trying-to-install-gcc-4-8-1" title="Make exits with “Error 2” when trying to install gcc-4.8.1" target="_blank" rel="noopener">Make 阶段内存不足会报错</a>。本例服务器 IO 性能非常差，所以结束后再关掉 SWAP 交换区即可。</p><pre><code>$ SWAP=/tmp/swap$ dd if=/dev/zero of=$SWAP bs=1M count=500$ mkswap $SWAP$ sudo swapon $SWAP</code></pre><p>本例编译 GCC 5.3.0 用了 2-3 个小时。PHP7 编译安装也结束后，本例关掉了 SWAP 交换区：</p><pre><code>$ sudo swapoff -a</code></pre><h2 id="开始编译安装-PHP7"><a href="#开始编译安装-PHP7" class="headerlink" title="开始编译安装 PHP7"></a>开始编译安装 PHP7</h2><p>截止 2016年2月15日 ，PHP7 的最新 stable 版本是 PHP 7.0.3 ，最新版本信息：<a href="http://php.net/downloads.php" target="_blank" rel="noopener">http://php.net/downloads.php</a> 。下载最新版：</p><pre><code>$ wget http://cn2.php.net/get/php-7.0.3.tar.bz2/from/this/mirror$ tar jxvf mirror$ cd php-7.0.3/</code></pre><p>可以先看看配置帮助：</p><pre><code>./configure --help</code></pre><p>本例使用的配置，其中 <code>/usr/local/php</code> 是安装目标位置</p><pre><code>./configure --prefix=/usr/local/php --with-curl --with-freetype-dir --with-gd --with-gettext --with-iconv-dir --with-kerberos --with-libdir=lib64 --with-libxml-dir --with-mysqli --with-openssl --with-pcre-regex --with-pdo-mysql --with-pdo-sqlite --with-pear --with-png-dir --with-xmlrpc --with-xsl --with-zlib --enable-fpm --enable-bcmath --enable-libxml --enable-inline-optimization --enable-gd-native-ttf --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-xml --enable-zip</code></pre><p>如果提示某些模块找不到，可能需要单独安装它们，例如</p><pre><code>$ sudo apt-get install libcurl4-gnutls-dev</code></pre><p>您可能需要安装的模块有 <code>libjpeg</code> <code>libjpeg-devel</code> <code>libpng</code> <code>libpng-devel</code> <code>freetype</code> <code>freetype-devel</code> <code>libxml2</code> <code>libxml2-devel</code> <code>mysql</code> <code>pcre-devel</code> <code>curl-devel</code> <code>libxslt-devel</code> 等等…… 接下来运行：</p><pre><code>$ make &amp;&amp; make install</code></pre><p>就开始编译安装了。  [caption width=”2048” align=”alignnone”]<a href="https://www.bokeyy.com/wp-content/uploads/2016/02/img_0500.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/02/img_0500.jpg" alt=" PHP7 编译安装完成的画面" title=" PHP7 编译安装完成的画面"></a> PHP7 编译安装完成的画面[/caption] </p><h3 id="PHP7-的配置和优化"><a href="#PHP7-的配置和优化" class="headerlink" title="PHP7 的配置和优化"></a>PHP7 的配置和优化</h3><h4 id="复制配置文件"><a href="#复制配置文件" class="headerlink" title="复制配置文件"></a>复制配置文件</h4><p>完成后还需要做一些配置和优化。首先，复制配置文件：</p><pre><code>$ cp php.ini-development /usr/local/php/lib/php.ini$ cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf$ cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf$ cp -R ./sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm</code></pre><h4 id="测试启动-PHP7-FPM"><a href="#测试启动-PHP7-FPM" class="headerlink" title="测试启动 PHP7-FPM"></a>测试启动 PHP7-FPM</h4><p>线上服务器一般已有 PHP5-FPM 服务在运行，请修改 <code>www.conf</code> 中的 user 和 group 为线上使用的用户名和用户组，并改掉默认 9000 端口号避免冲突。 启动 PHP7-FPM：</p><pre><code>$ service php-fpm start</code></pre><p>启动成功后可以查看 <code>phpinfo()</code> 等等。 本例 PHP7-FPM 的测试端口是 9008，假设线上 nginx 配置是 bokeyy，那么：</p><pre><code>$ cp /etc/nginx/site-available/bokeyy /etc/nginx/site-enabled/bokeyy_php7$ vim /etc/nginx/site-enabled/bokeyy_php7</code></pre><p>把</p><pre><code>fastcgi_pass 127.0.0.1:9000;</code></pre><p>的 9000 改成 9008，并开过一个端口。然后</p><pre><code>$ service nginx configtest$ service nginx reload</code></pre><p>就可以测试一下新端口的网站各方面是否正常。</p><h4 id="性能对比测试"><a href="#性能对比测试" class="headerlink" title="性能对比测试"></a>性能对比测试</h4><p>接下来直接和 PHP5.3.10 对比测试一下效率如何（<a href="http://blog.csdn.net/21aspnet/article/details/47708763" title="Linux环境PHP7.0安装" target="_blank" rel="noopener">测试代码来源</a>）。 [caption width=”644” id=”attachment_2177” align=”alignnone”]<a href="https://www.bokeyy.com/wp-content/uploads/2016/02/afb39543-5d73-4ced-8dca-54d996055331.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/02/afb39543-5d73-4ced-8dca-54d996055331.jpg" alt="没开Opache的PHP7.0.3和PHP5.3.10的性能比较"></a> 没开Opache的PHP7.0.3和PHP5.3.10的性能比较，PHP7大约快一倍但不是很明显[/caption][caption width=”722” id=”attachment_2178” align=”alignnone”]<a href="https://www.bokeyy.com/wp-content/uploads/2016/02/32778eed-49e6-4aa7-9e50-9e9646cfb72f.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/02/32778eed-49e6-4aa7-9e50-9e9646cfb72f.jpg" alt="开了Opache的PHP7.0.3和PHP5.3.10的性能比较，性能提升非常显著"></a> 开了Opache的PHP7.0.3和PHP5.3.10的性能比较，性能提升非常显著[/caption]test.php 的内容</p><pre><code>&lt;?php$a = array();for($i=0;$i&lt;600000;$i++){$a[$i] = $i;}foreach($a as $i){array_key_exists($i, $a);}?&gt;</code></pre><h4 id="配置-opcache"><a href="#配置-opcache" class="headerlink" title="配置 opcache"></a>配置 opcache</h4><p>所以 Opcache (<a href="http://php.net/opcache" title="opcache官网地址" target="_blank" rel="noopener">http://php.net/opcache</a>)是一定要启用的。而且早已有图证明，它能让 WordPress 提升不少 QPS。 [caption width=”800” align=”alignnone”]<a href="https://kinsta.com/blog/the-definitive-php-7-final-version-hhvm-benchmark/" target="_blank" rel="noopener"><img src="https://kinsta.com/wp-content/uploads/2015/12/WordPress-4.4-1.png" alt="WordPress 4.4 有无 Opache 的 QPS 比较"></a> WordPress 4.4 有无 Opache 的 QPS 比较[/caption]本例结合 <a href="http://php.net/manual/en/opcache.installation.php#opcache.installation.recommended" target="_blank" rel="noopener">Opache 官方推荐的配置</a>和 <a href="http://www.laruence.com/2015/12/04/3086.html" target="_blank" rel="noopener">@Laruence 推荐的 Opache 配置</a>，在 <code>php.ini</code> 加入：</p><pre><code>zend_extension=/usr/local/php/lib/php/extensions/no-debug-non-zts-20151012/opcache.soopcache.memory_consumption=128opcache.interned_strings_buffer=8opcache.max_accelerated_files=4000opcache.revalidate_freq=60opcache.fast_shutdown=1opcache.enable=1opcache.enable_cli=1opcache.file_cache=/tmp</code></pre><p>其中 <code>/usr/local/php/lib/php/extensions/no-debug-non-zts-20151012/opcache.so</code> 是 opcache.so 所在的地址。 重启 PHP7-FPM 即可：</p><pre><code>$ service php-fpm restart</code></pre><p><strong>所有安装和配置到此就结束了。</strong> 亚一程 <a href="http://www.laruence.com/" target="_blank" rel="noopener">@Laruence</a> 有一篇 <a href="http://www.laruence.com/2015/12/04/3086.html" target="_blank" rel="noopener">让PHP7达到最高性能的几个Tips | 04 Dec 15</a> ，提了不少让 PHP7 更快的有用的建议。 本例只采纳了一部分。对于天天被 php5-fpm 进程打满可怜的 1G 小内存的服务器来说，HugePage 和 Opcache file cache 都需要一定冗余内存，不太合适。 <a href="http://www.laruence.com/2015/06/19/3063.html" target="_blank" rel="noopener">让你的PHP7更快(GCC PGO)</a> 建议先训练一下 GCC 再编译针对 WordPress 的定制化 PHP7 版本似乎也值得采纳。但是，由于服务器资源严重不足，基本上所有 WordPress 页面都不是即时生成的，而是走了时效为半天的 WP Super Cache 缓存。所以，生成 WordPress 首页的速度提升 7-10% 对本例的服务器来说意义很有限，所以也没有做了。 <strong>因此最后只采纳了“开启Opache”、“使用 GCC 4.8 以上的编译器”这两项。</strong></p><h4 id="清理环境"><a href="#清理环境" class="headerlink" title="清理环境"></a>清理环境</h4><p>如果测试 PHP7-FPM 没有任何问题，就可以删掉测试网站</p><pre><code>$ rm /etc/nginx/site-enabled/bokeyy_php7</code></pre><p>编辑 <code>www.conf</code> 把 PHP7-FPM 的端口改成 9000</p><pre><code>$ vim /usr/local/php/etc/php-fpm.d/www.conf</code></pre><p>最后关掉 PHP5-FPM，用 PHP7-FPM 来替代：</p><pre><code>$ service php-fpm configtest$ service php5-fpm stop$ service php-fpm restart$ service nginx configtest$ service nginx reload</code></pre><h4 id="增加软链接"><a href="#增加软链接" class="headerlink" title="增加软链接"></a>增加软链接</h4><p>为了无论在哪个目录下输入 php 都能调用刚刚安装的 <code>/usr/local/php/bin/php</code> ，而不用输入这么长，建立几个软链接</p><pre><code>$ cd /usr/bin$ ln -s /usr/local/php/bin/php php$ ln -s /usr/local/php/bin/phpize phpize$ ln -s /usr/local/php/bin/php-config php-config</code></pre><p>现在只要</p><pre><code>$ php -v</code></pre><p>就能查看刚刚安装的 php 版本了。以后安装 PHP 插件也可以直接 phpize 和 php-config 了。</p><hr><p>  本例还有 WordPress 网站需要 Memcache，所以还没有结束。</p><h3 id="安装并配置-PHP7-MEMCACHED"><a href="#安装并配置-PHP7-MEMCACHED" class="headerlink" title="安装并配置 PHP7-MEMCACHED"></a>安装并配置 PHP7-MEMCACHED</h3><p>你一定好奇 PHP 的 <a href="https://pecl.php.net/package/memcached" target="_blank" rel="noopener">memcached</a> 和 <a href="https://pecl.php.net/package/memcache" target="_blank" rel="noopener">memcache</a> 插件有什么区别。事实上，它们功能差不多，都依赖默认在 11211 端口的 memcached 服务，只是封装方法不同，而 php-memcached 更新更勤快一些，功能也更多。 最重要的是，<strong>在安装 PHP 7.0.3 你会发现，你只能装 php-memcached ！</strong>注意有这个 d （截至 2016年2月15日）。让我们开始吧： 请到 github 下载 php-memcached 插件的 php7 分支（<a href="https://github.com/php-memcached-dev/php-memcached/tree/php7" target="_blank" rel="noopener">https://github.com/php-memcached-dev/php-memcached/tree/php7</a>）：</p><pre><code>$ wget https://github.com/php-memcached-dev/php-memcached/archive/php7.zip</code></pre><p>解压并安装：</p><pre><code>$ unzip php7.zip$ cd php-memcached-php7/$ root=/usr/local/php$ $root/bin/phpize$ ./configure --with-php-config=$root/bin/php-config</code></pre><p>这一步可能会提示你没有 libmemcached 库：</p><pre><code>$ cd ..$ wget  https://launchpad.net/libmemcached/1.0/1.0.18/+download/libmemcached-1.0.18.tar.gz$ tar xvf libmemcached-1.0.18.tar.gz$ cd libmemcached-1.0.18$ ./configure$ cd ../php-memcached-php7/$ ./configure --with-php-config=$root/bin/php-config</code></pre><p>可能还提示不支持 <code>memcache sasl</code> ，推荐禁用，好吧！</p><pre><code>$ ./configure --with-php-config=$root/bin/php-config --disable-memcached-sasl</code></pre><p>终于可以运行</p><pre><code>$ make &amp;&amp; make install</code></pre><p>最后将 <code>memcached.so</code> 的地址加入 <code>php.ini</code> 就装好了：</p><pre><code>$ vim /usr/local/php/lib/php.ini</code></pre><p>加入</p><pre><code>extension=/usr/local/php/lib/php/extensions/no-debug-non-zts-20151012/memcached.so</code></pre><p>但是还有一个坑前面没有提及：<strong><a href="https://wordpress.org/plugins/memcached/" target="_blank" rel="noopener">WordPress 官方 Memcached 插件</a>只支持 php-memcache</strong> ，注意没有 d。所以我们用这个支持 php-memcached 的插件 <a href="https://github.com/tollmanz/wordpress-pecl-memcached-object-cache" target="_blank" rel="noopener">https://github.com/tollmanz/wordpress-pecl-memcached-object-cache</a> 。按照链接所示一步步配置来就行了。 感兴趣的还可以看看插件作者关于 php-memcache 和 php-memcached 两个 PHP 插件区别的文章：<a href="https://www.tollmanz.com/wordpress-memcached-object-cache/" target="_blank" rel="noopener">WordPress Object Cache Driven By The PECL Memcache(d) Extension</a> 。</p><h4 id="为什么只能用-php-memcached-（有d）"><a href="#为什么只能用-php-memcached-（有d）" class="headerlink" title="为什么只能用 php-memcached （有d）"></a>为什么只能用 php-memcached （有d）</h4><p>截止 2015年2月15日，PHP7.0.3 下直接试图安装 <a href="https://pecl.php.net/package/memcache" target="_blank" rel="noopener">php-memcache</a> 会报错：</p><pre><code>fatal error: ext/standard/php_smart_str.h: No such file or directory</code></pre><p><a href="https://github.com/phalcon/cphalcon/issues/10378" target="_blank" rel="noopener">查了一下原因</a>，是因为 PHP7 里面，这个文件改成了 <code>php_smart_string.h</code>。博主尝试过手动将文件名改成正确的，然而也没有用，还会报错：</p><pre><code>error: &apos;RETURN STRING&apos; undeclared(first use in this function)</code></pre><p>所以这是插件暂不兼容 PHP7 。只能等待，直到 php-memcache 插件更新。所以博主最后放弃，按照上文，使用了 <a href="https://pecl.php.net/package/memcached" target="_blank" rel="noopener">php-memcached</a> 插件作为替代。</p><h2 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h2><p>从一个 1G 服务器内存常年占满的情况变成居然有一天能看到 400M+ 的内存盈余（如下图)。对于这个效果，博主真心满意。 <a href="https://www.bokeyy.com/wp-content/uploads/2016/02/img_0499.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2016/02/img_0499.jpg" alt=""></a> </p><h2 id="参考的博客文章"><a href="#参考的博客文章" class="headerlink" title="参考的博客文章"></a>参考的博客文章</h2><ul><li><a href="https://kinsta.com/blog/the-definitive-php-7-final-version-hhvm-benchmark/" target="_blank" rel="noopener">The Definitive PHP 7.0 &amp; HHVM Benchmark</a></li><li><a href="https://www.cppfans.org/1719.html" target="_blank" rel="noopener">linux下升级gcc的方法 – 亲测可用 - C++爱好者博客</a></li><li><a href="http://www.laruence.com/2015/12/04/3086.html" target="_blank" rel="noopener">让PHP7达到最高性能的几个Tips | 04 Dec 15</a></li><li><a href="http://blog.csdn.net/21aspnet/article/details/47708763" target="_blank" rel="noopener">Linux环境PHP7.0安装</a></li></ul>]]></content>
      
      <categories>
          
          <category> 前端部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> memcache </tag>
            
            <tag> memcached </tag>
            
            <tag> opache </tag>
            
            <tag> PHP </tag>
            
            <tag> php-fpm </tag>
            
            <tag> php-memcache 和 php-memcached 区别 </tag>
            
            <tag> PHP7 </tag>
            
            <tag> 安装全攻略 </tag>
            
            <tag> 安装攻略 </tag>
            
            <tag> 安装疑难解答 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>NodeJs 用 n 升级失败的解决方案</title>
      <link href="/post/upgrade-nodejs-using-n-failure-solving.html"/>
      <url>/post/upgrade-nodejs-using-n-failure-solving.html</url>
      <content type="html"><![CDATA[<p>如何升级 NodeJs？一般都用 <a href="https://github.com/tj/n" target="_blank" rel="noopener">https://github.com/tj/n</a> 这个工具：</p><p>npm install -g n<br>n stable</p><p>但是，n 的一切安装是自动的，也就是说，要跨过墙获取最新的安装包，于是很容易获取了一半就悲剧了。 这时候，再重试</p><p>n stable</p><p>会提示</p><p>cp: cannot stat <code>/usr/local/n/versions/node/5.4.0/lib&#39;: No such file or directorycp: cannot stat</code>/usr/local/n/versions/node/5.4.0/include’: No such file or directory<br>cp: cannot stat `/usr/local/n/versions/node/5.4.0/share’: No such file or directory</p><p>不仅如此，使用任何 NodeJs 或者 npm 的功能都会返回</p><p>Segmentation Fault</p><p>怎么办呢？ 输入</p><p>n</p><p>列出刚刚试图安装并且失败的版本号，这里是 5.4.0，然后</p><p>n - 5.4.0</p><p>删掉这个失败的安装，再重新来过就行了。 不过，博主在重新来过的路上，又再次在 33% 的时候 curl 失败了T_T</p>]]></content>
      
      <categories>
          
          <category> NodeJS </category>
          
          <category> 前端部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NodeJs </tag>
            
            <tag> 升级 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Firefox 42 setInterval bug?</title>
      <link href="/post/firefox-setinterval-bug-or-not.html"/>
      <url>/post/firefox-setinterval-bug-or-not.html</url>
      <content type="html"><![CDATA[<p>最新的 Firefox 42.0 ，若 setInterval 不传值，则只会触发一次。bug？</p>]]></content>
      
      <categories>
          
          <category> 兼容Firefox </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>参加 D2 2015 技术论坛感想</title>
      <link href="/post/d2-2015-attending-notes.html"/>
      <url>/post/d2-2015-attending-notes.html</url>
      <content type="html"><![CDATA[<p>上周末去杭州阿里巴巴西溪园区参加了 2015 年的 D2 论坛，正好是第十届。 我听了一天的主会场，并在知乎上实时直播： <a href="https://www.zhihu.com/question/38637676/answer/77517597" target="_blank" rel="noopener">参加第十届D2前端技术论坛，你有什么收获？ - yuanyuanVivian 的答案</a> 。在这里谈谈自己的心得感想吧！</p><h2 id="NodeJs-开始绽放"><a href="#NodeJs-开始绽放" class="headerlink" title="NodeJs 开始绽放"></a>NodeJs 开始绽放</h2><p>主会场的几场分享都还算挺不错。其中 NodeJS 相关的两场分享，一个是 Tmall 的线上经验，一个是 QZone 的线上经验，都是耳熟能详的大网站。我认为这代表 <strong>NodeJs 的线上能力已经得到了足够的验证，可以加快推广了</strong>。 这里好多人争论这两份技术方案都不是非 NodeJs 不可，<a href="https://www.zhihu.com/question/38637676/answer/77607930" target="_blank" rel="noopener">推行 NodeJs 像是政治斗争的结果</a>等等。我觉得抛弃性能之争（虽然我认为事件驱动的高并发的能力更强），NodeJs 在这两个高流量网站的线上成功，至少可以说明 <strong>NodeJs 已经是一个“足够好”的后端选择。不仅如此，还有很多不能忽略的好处：前后端同构、HTML5 开发效率、减少为了提高 UI 性能的沟通成本等等</strong>（QZone 的滑动不闪屏就是这样的例子）。把这些作为前提，NodeJs 已经没必要自诩做什么都更强了，正如<a href="https://www.zhihu.com/question/38637676/answer/77607930#comment-109405049" target="_blank" rel="noopener">死马所说</a>：</p><blockquote><p>因为影响一个系统的性能的因素实在有太多太多，语言因素在其中的占比微乎其微，轻微的一个设计不当或者实现有问题就能造成非常大的性能损耗。我们只需要验证基于 node 的方案完全可以支撑这个业务场景面临双十一的流量就足矣。</p></blockquote><p>这样的解释很让我赞同。因为<strong>前端之所以被需要，不是因为“界面能不能用”这样的是非问题，而是“界面流畅不流畅，界面好不好用，操作是否友好”这样的量化问题</strong>。如何量化？只要更便于开发，更便于效率，更便于调试查错，更便于监控，更便于流程等等——只要对产品交互提升有切实的好处，不管是降低成本还是提高效率都行。这个问题，完全不是非要有“只要用了 NodeJs，就一定是最快的”之类的论断来保证的。 更何况，当年的 PHP 和 Java 也不是最快的那一种选择，只是开发成本相对低而已。 不仅如此，《NodeJs 加速 QZone 开发》的讲师也这样解释：</p><blockquote><p>NodeJs 在空间大规模应用，并且规模继续扩大中，这个并不是政治斗争的结果。而是结果导向——谁完成的好谁上。反而是后台和用户体验推动着前端开发不得不用。 搞定了标准化运维、监控以后，就没有人能再挑战这个解决方案了。 公司从来没有规定前端不能做服务器端解决方案。而是一视同仁，一样的质量、问题定位和运维标准。只是这些都要前端来搞定，才能被认可。 光喊口号又不解决这些问题，当然会被喷。但是解决了，心里就会有底。</p></blockquote><p>很显然，QZone 的实例中，NodeJs 把这些问题解决得很好，并得到了认可。 <strong>NodeJS 在 QZone 解决了持续发布问题</strong>，相当于几乎每天都有发布。这是 Nginx 无法做到的。<strong>NodeJs 还做到了开发、运维、监控一体化，</strong>而且 <strong>NodeJs 内部的标准化远高于 Nginx</strong>，并且还在持续迭代，解决各种问题。 还有，NodeJS 在 QZone 也解决了一些业务相关的，不那么通用的，“别的纬度”的问题：</p><blockquote><p>协议转换：比如 HTTP 协议转发为 JCE 协议 带逻辑转发：比如白名单用户转到测试环境 安全对抗：随时随地编码建立模型对抗攻击 内部服务打通：发邮件，发短信，发微信，非常规告警</p></blockquote><p>这里有一篇腾讯 SNG 运维发展的文章 <a href="http://mp.weixin.qq.com/s?__biz=MzA4Nzg5Nzc5OA==&amp;mid=401126293&amp;idx=1&amp;sn=3e1834c1595873f06669bdc9628687dd&amp;scene=23&amp;srcid=12211wamnv9u2mtviFtOYsKM#rd" target="_blank" rel="noopener">《大公司也一样，从QQ运维的历史遗留问题看运维的进化过程》</a>，结论就是标准化程度高才是出路。NodeJS 作为织云的一个标准包，扩容、缩容、运维流程等都有织云的标准化完成。依附于上面的 NodeJs 省了好多事情。对于腾讯的运维同学来说——按这个标准化的就是可运维的，不管里面跑的是什么代码。 讲了那么多，不过，如果明年真的出现所谓的“NodeJs 最适合的场景”，还是拭目以待吧。</p><h2 id="移动端性能问题盖棺定论"><a href="#移动端性能问题盖棺定论" class="headerlink" title="移动端性能问题盖棺定论"></a>移动端性能问题盖棺定论</h2><p>主会场上手机淘宝 Hybrid APP 的性能优化分享其实是一个高大全的分享。一开始让我觉得不知所云，是因为误以为“手机淘宝”指的是手机淘宝的 HTML5 网站。 第一次知道 <a href="http://clouda.baidu.com/blend2" target="_blank" rel="noopener">BlendUI 是在 2014 年的 杭JS 大会（</a><a href="http://www.tuicool.com/articles/7vuiEj" target="_blank" rel="noopener">网上搜索到的 2014 杭JS 参会总结</a>）。那时候所有移动前端相关的会议还在纠结无法解决的性能问题： HTML5 开发快但是能力被浏览器限制死了，只能做做玩具。因此，各种各样试图混合 Native 的功能和性能和 HTML5 开发效率的方案层出不穷。在 Native 提供原生 API ，并配合 WebView 的 Hybrid 就是其中广泛采用的一种方案。然而 WebView 也是浏览器，HTML5 在浏览器中受的限制依然存在。 似乎一提到移动端，回荡在耳边的都是：内存不足、内存不足……存不足……不足…… BlendUI 算是当时真正让人眼前一亮的技术方案之一。从当时的 PPT 上来看，内存不再不足，DOM 个数不再因为内存问题而被限死，本来会很卡的手势交互效果如行云流水。Native 的效果、HTML5 的开发效率，满足了所有人的一切幻想。 BlendUI 真正用起来据说是有坑的。但是它的思想，至少从现在来看，被证明是正确的：</p><blockquote><p>在 WebView 上面再套一层 layer，从而解决每个 WebView DOM 个数成为内存和性能瓶颈的问题。</p></blockquote><p>更宽泛的说，就是</p><blockquote><p>用强大的 Native 功能拓展 HTML5 的功能，并提供更便于 HTML5 运行环境。</p></blockquote><p>手机淘宝不仅采用了 WebView 上面再套一层 layer 的优化方案，更从原生的角度对 WebView 的功能进行了扩展，使 WebView 成为一个“更加强大的浏览器”。从分享来看，至少体现在：</p><ul><li>不兼容时将 WebP 转换回 jpeg 的能力</li><li>支持 HTTP DNS ： 通过 HTTP 协议提前获得域名和 DNS 的映射表</li><li>预加载 ： 能根据网络情况响应推送从而达到超高的缓存覆盖率 \ 全量增量更新支持 \ 个性化 \ 断点续传 \ 安全校验 \ …</li></ul><p>最后，手机淘宝团队实名表达了对 React Native 的鄙视。React Native 作为另一种将 Native 的强大能力和 HTML5 的快速开发能力相结合的技术，由于手机淘宝的历史成（包）果（袱）的存在，并不是最优秀的解决方案。 但是，对于从零开始的小团队，React Native 将会表现如何呢？期待更多的分享吧！ （其它话题继续待续）</p>]]></content>
      
      <categories>
          
          <category> HTML5 </category>
          
          <category> NodeJS </category>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML5 </tag>
            
            <tag> Hybrid </tag>
            
            <tag> NodeJs </tag>
            
            <tag> QQ空间 </tag>
            
            <tag> QZone </tag>
            
            <tag> SNG </tag>
            
            <tag> Tmall </tag>
            
            <tag> 天猫 </tag>
            
            <tag> 性能优化 </tag>
            
            <tag> 手机淘宝 </tag>
            
            <tag> 移动端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>平滑升级 nginx 使之支持 HTTP2</title>
      <link href="/post/upgrade-to-http2-smoothly.html"/>
      <url>/post/upgrade-to-http2-smoothly.html</url>
      <content type="html"><![CDATA[<h2 id="1-得到-HTTPS-证书"><a href="#1-得到-HTTPS-证书" class="headerlink" title="1. 得到 HTTPS 证书"></a>1. 得到 HTTPS 证书</h2><p>本站用的是在 <a href="https://www.startssl.com" target="_blank" rel="noopener">StartSSL.COM</a> 申请的免费证书。请用 PC 浏览器访问，只支持根域名和一个二级域名。<a href="https://buy.wosign.com/free/#ssl" target="_blank" rel="noopener">WoSign</a> 的免费 SSL 证书也不错，全中文，不用翻墙，还支持多个域名。 不介意 Windows XP 用户无法建立 HTTPS 连接的请参考 <a href="https://imququ.com/post/letsencrypt-certificate.html" target="_blank" rel="noopener">Let’s Encrypt，免费好用的 HTTPS 证书</a> ：支持多个域名、高大上的自动化部署。</p><h2 id="2-平滑升级-nginx"><a href="#2-平滑升级-nginx" class="headerlink" title="2. 平滑升级 nginx"></a>2. 平滑升级 nginx</h2><p>所谓平滑升级，保持网站可以访问的情况下，只为新开启的连接采用新的 nginx 服务，参考 <a href="http://www.jb51.net/article/47755.htm" target="_blank" rel="noopener">nginx 平滑升级的详细操作方法</a>。 注意那篇 51脚本 的文章可能有不少谬误，其中一个已知的谬误是第（2）步 备份老版本的可执行文件不应该用 cp，应该用 mv，原因是<a href="http://www.linuxquestions.org/questions/linux-general-1/cannot-create-regular-file-text-file-busy-731644/" target="_blank" rel="noopener">正在执行的文件不能被直接覆盖，但是可以被改名</a>。 注意编译时启用 –with-http_ssl_module –with-http_v2_module 这两个模块，详情参考 <a href="http://picasso250.github.io/2015/12/03/nignx-http2-cipher.html" target="_blank" rel="noopener">Nginx HTTP 2 的编译和配置</a>。</p><h2 id="3-修改-nginx-站点配置"><a href="#3-修改-nginx-站点配置" class="headerlink" title="3. 修改 nginx 站点配置"></a>3. 修改 nginx 站点配置</h2><pre><code>server {    listen 443 ssl http2 default_server;    ssl_certificate    server.crt;    ssl_certificate_key server.key;    ...}</code></pre><h2 id="4-测试无误后重新加载-nginx"><a href="#4-测试无误后重新加载-nginx" class="headerlink" title="4. 测试无误后重新加载 nginx"></a>4. 测试无误后重新加载 nginx</h2><pre><code>service nginx configtestservice nginx reload</code></pre>]]></content>
      
      <categories>
          
          <category> HTTP2 </category>
          
          <category> 前端部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> HTTPS </tag>
            
            <tag> HTTP/2 </tag>
            
            <tag> 免费 https 证书 </tag>
            
            <tag> 免费SSL证书 </tag>
            
            <tag> 平滑升级 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>HTTP/2 十分钟速知</title>
      <link href="/post/get-to-know-http-2-in-10-minutes.html"/>
      <url>/post/get-to-know-http-2-in-10-minutes.html</url>
      <content type="html"><![CDATA[<p><strong>升级到 HTTP/2 后，那些针对HTTP/1.x 的优化手段需要如何变化？</strong> 答：总结来说，除了多域名增加并行 TCP 连接数不再适用以外，启用 HTTP/2 几乎不用考虑太多。 首先，由于 HTTP/2 是复用了一个 TCP 连接进行多次传输，所以适用于 HTTP/1.x 的多域名增加并发 TCP 连接数的策略已经不再适用了。不仅如此，如果你的 CDN 和主站不是指向同一 IP 且共用同一个 https 证书的话，HTTP/2 就不会在同一个 TCP 连接中也完成来自 CDN 的资源的传递，而是会为 CDN 徒增一个额外的 TCP 连接。 [caption id=”attachment_2005” align=”alignnone” width=”660”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/12/IMG_0311.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/12/IMG_0311-1024x768.png" alt="HTTP/2 is here"></a> HTTP/2 is here[/caption] 第二，虽然HTTP/2 让同一 TCP 连接下的多文件的传输速度变快了，但是其实，适度的合并资源文件中行为在 HTTP/2 也是可以接受的（<a href="https://www.nginx.com/wp-content/uploads/2015/09/NGINX_HTTP2_White_Paper_v4.pdf" title="Nginx HTTP2 White Paper v4" target="_blank" rel="noopener">参考文献</a>），不需要为了升级 HTTP/2 就背上沉重的负担，对合并资源赶尽杀绝。 最后，其实 Server Push 只是一个升级版的内联资源。 Server Push 是个很好的特性。由于 HTTP/2 的 Server Push 特性允许服务器充分利用带宽，并按一定的优先次序向客户端推送资源，客户端甚至都还没获取完 HTML 文档就可以接收。因此，使用 Server Push 特性，不仅资源加载时机提前了，对带宽的利用更加充分了，而且也更加灵活了。但是， Nginx 最新版本目前还不支持 Server Push 特性。 [caption id=”attachment_2007” align=”alignnone” width=”660”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-1024x608.jpg" alt="HTTP/1.x升级到HTTP/2所需的前端优化调整总结"></a> HTTP/1.x升级到HTTP/2所需的前端优化调整总结[/caption] <strong>HTTP/2 的浏览器支持情况如何？</strong> 答：全球过半份额的浏览器已经支持 HTTP/2 了。当然，中国 IE8/9/10 和非 Windows10 下的IE11 的份额可能比国外大不少。 然而这并不用太担心，服务器会向客户端发送一份支持协议的列表，不支持 HTTP/2 的客户端可以选择自己支持的协议，一般是 HTTP/1.x 协议。 [caption id=”attachment_2008” align=”alignnone” width=”660”]<a href="http://caniuse.com/#search=http2" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-0-1024x426.jpg" alt="2015年底HTTP/2的浏览器支持情况"></a> <a href="http://caniuse.com/#search=http2" target="_blank" rel="noopener">2015年底HTTP/2的浏览器支持情况</a>（点击查看最新）[/caption] <strong>HTTP/2 的性能优化方面要注意什么吗？</strong> 答：当一个 TCP 连接需要同时需要加载很多文件的时候，HTTP/2 的多路复用和 Server Push 的优先级机制可以带来性能的很大提升。然而，HTTP/2 带来的性能提升却往往不能弥补 TLS（https） 带来的负面影响。甚至于，对于某些非常大的文件和视频直播流，有可能有时候会需要禁用 https 得到可接受的性能。 不过，好消息是，你可以参照此文（<a href="https://istlsfastyet.com/" target="_blank" rel="noopener">Is TLS Fast Yet?</a>）检查一下，关于 https 性能有什么可以做的（<a href="https://www.nginx.com/wp-content/uploads/2015/09/NGINX_HTTP2_White_Paper_v4.pdf" title="Nginx HTTP2 White Paper v4" target="_blank" rel="noopener">参考文献</a>）。因为网络环境的不同、延迟也不同，每个应用的特点也不尽相同，所以升级前后还需要自行做性能测试，判断什么最适合自己。 <strong>升级 HTTP/2 的前提条件是什么？</strong> 答：由于现在所有支持 HTTP/2 的浏览器都强制只使用 TLS(https) 连接，所以：获取证书，并且让服务器支持 https 是必须的先决条件。 <strong>用 nginx 如何启用 HTTP/2 支持？</strong> 答：很简单，只需编译安装最新版 Nginx，并在配置中启用：</p><pre><code>server {    listen 443 ssl http2 default_server;    ssl_certificate    server.crt;    ssl_certificate_key server.key;    ...}</code></pre><p>详见中文指南（<a href="http://picasso250.github.io/2015/12/03/nignx-http2-cipher.html" target="_blank" rel="noopener">Nginx HTTP2 的编译和配置</a>）。也可以看官方文章（<a href="https://www.nginx.com/blog/nginx-1-9-5/" target="_blank" rel="noopener">NGINX Open Source 1.9.5 Released with HTTP/2 Support</a>）。 <strong>HTTP/2 的 Server Push 的特性是怎样的？有什么用？</strong> 答：浏览器为了不浪费带宽，会先分析完文档再下载资源。而由于各个资源的相互掣肘依赖，其中还会有某个资源阻塞的情况。当然，现代浏览器也不是傻瓜，它们会通过预加载来提速。通常浏览器预加载提速有两种方法： 1. 分析文档，提前加载； 2. 根据用户行为预加载，如鼠标在链接上的 hover 悬停动作等。 除此之外，前端开发工程师也可以通过 dns-prefetch 等属性指定浏览器的预加载行为，更流行的方法是放弃缓存带来的便利性，将几个特别重要的资源内联在 HTML 文档中。 [caption id=”attachment_2013” align=”alignnone” width=”660”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-1.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-1-1024x582.jpg" alt="没有 Server Push，HTTP/1.1 的资源加载流"></a> 没有 Server Push，HTTP/1.1 的资源加载流[/caption] HTTP/2 的 Server Push 特性把这些包袱从浏览器或者前端工程师手里拿过来，直接丢给了应用层。使用 HTTP/2 的 Server Push 就相当于使用升级版的内联资源。首先，浏览器在完全不清楚 HTML 文档是什么情况的前提下，就可以得到服务器推送的资源文件。而且，与内联资源不同的是，客户端也可以选择暂停、或者拒绝这份推送。 [caption id=”attachment_2014” align=”alignnone” width=”660”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/IMG_0318-0.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/IMG_0318-0-1024x558.jpg" alt="有 Server Push 的 HTTP/2 资源加载流"></a> 有 Server Push 的 HTTP/2 资源加载流[/caption] 还有，将内联资源换成 Server Push 的好处还有很多，可以被缓存、被多个页面共用、和其它资源一起多路复用，还可以享受服务器端指定的优先级权重和次序（如图）。 [caption id=”attachment_2015” align=”alignnone” width=”660”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-2.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/exportfile-2-1024x501.jpg" alt="Server Push 中，每个资源（每个资源都是一个 steam ）都可以有权重和优先次序"></a> Server Push 中，每个资源（每个资源都是一个 steam ）都可以有权重和优先次序[/caption] 作为一个前端工程师，我认为 HTTP/2 的 Server Push 特性解决了 HTTP/1.x 的无脑顺序加载资源，导致前端不得不为了预加载、首屏时间、省流量延迟加载等问题，用有限的标签和内联 JavaScript 脚本的方式去弥补的这个问题。由于 Server Push 触发的时机远早于内联 JavaScript Loader ，而且从 HTTP 协议等语义上定义了资源优先权重和 先后次序，允许客户端启动或暂停 Server Push，有望从根本上让加载时机和次序的控制变得既高效又容易。虽然 Server Push 不会暴露接口给 JavaScript ，但是可以和 Sever Sent Event 协同合作（<a href="https://www.igvita.com/2013/06/12/innovating-with-http-2.0-server-push/" target="_blank" rel="noopener">参考文献</a>）。 [caption id=”attachment_2034” align=”alignnone” width=”624”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/CNYFaJlUkAA7oS9.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/CNYFaJlUkAA7oS9.jpg" alt="HTTP/2 Server Push 的实测效果"></a> HTTP/2 Server Push 的实测效果[/caption] <strong>HTTP/2 的 Server Push 和 Server Sent Event 的关系？</strong> HTTP/2 的 Server Push 不向浏览器端暴露 API，也并不是 SSE（Server Sent Event）的替代。相反，它可以和 SSE 很好的协作。具体参见<a href="https://www.igvita.com/2013/06/12/innovating-with-http-2.0-server-push/" target="_blank" rel="noopener">此文末尾</a>。 <strong>HTTP/2 改变了什么？带来了哪些提升？</strong> HTTP/1.x 公认最大的性能瓶颈就是 TCP 连接数过多。建立一个 TCP 连接需要三次握手，也就是三次往返于服务器和客户端之间。三次握手所需的时间无法用提升带宽来弥补。而现在的网页一般都内容丰富，在 HTTP/1.x 下载完整个网页一般需要很多很多个 TCP 连接。如果用开发者工具查看网络加载流，可以看到阻塞时间（也叫做 Time To First Byte，<a href="https://www.nginx.com/http2-ebook/" title="High Performance Browser Network Special Edition: Selected Content For HTTP2" target="_blank" rel="noopener">参考文献</a>），尤其是小资源的阻塞时间占比非常大。此外，每次 TCP 连接都需要传递 HTTP Header 信息，也是一笔带宽开销。这还不够，HTTP/1.x 由于基本是无脑按顺序加载资源，需要浏览器和前端工程师对预加载、加载优先级等做很多额外的工作。 [caption id=”attachment_2031” align=”alignnone” width=”750”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/12/d811a507-3599-4630-9add-bbf6e2ec8fa2.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/12/d811a507-3599-4630-9add-bbf6e2ec8fa2.jpg" alt="HTTP/1.x 协议下绿色的 Waiting Time 延迟可观"></a> HTTP/1.x 协议下绿色的阻塞时间延迟可观[/caption] 而 HTTP/2 解决了这个问题。相比之下，HTTP/2 一方面复用同一IP且同一证书下的一个 TCP 连接，另一方面压缩了 HTTP Header，最后还提供了 Server Push 特性，解决了这些问题。 更多可翻阅 <a href="http://www.infoq.com/cn/news/2015/02/https-spdy-http2-comparison" target="_blank" rel="noopener">HTTPS、SPDY和HTTP/2的性能比较</a> <a href="http://www.webpagetest.org/video/compare.php?tests=150324_RB_60944f6da93253f7ecb9148584ebee11,150324_MR_b218a2ade1b90e679a525964061ef7b6" target="_blank" rel="noopener">某个TCP连接数非常多的网页性能实测比较</a>。 <strong>国内外有哪些网站已经启用了 HTTP/2 支持？</strong> 答：HTTP/2的试验版本是SPDY。SPDY 在国内外已经有很多生产环境采用了。此外，国外的 Google 、Twitter 和 Facebook 这三个著名的网站已经启用了 HTTP/2 支持。</p><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul><li><a href="https://http2.github.io/faq/" target="_blank" rel="noopener">HTTP/2 Frequently Asked Questions</a></li><li><a href="https://www.youtube.com/watch?v=4Ai_rrhM8gA" target="_blank" rel="noopener">Jetty SPDY Push Demonstration</a></li><li><a href="https://www.igvita.com/2013/06/12/innovating-with-http-2.0-server-push/" target="_blank" rel="noopener">Innovating with HTTP 2.0 Server Push</a></li><li><a href="https://www.nginx.com/blog/7-tips-for-faster-http2-performance/" target="_blank" rel="noopener">7 Tips for Faster HTTP/2 Performance</a></li><li><a href="http://caniuse.com/#search=http2" target="_blank" rel="noopener">Can I Use HTTP/2</a></li><li><a href="https://www.nginx.com/blog/nginx-1-9-5/" target="_blank" rel="noopener">NGINX Open Source 1.9.5 Released with HTTP/2 Support</a></li><li><a href="https://www.nginx.com/blog/early-alpha-patch-http2/" target="_blank" rel="noopener">Announcing an Early Alpha Patch for HTTP/2</a></li><li><a href="https://www.nginx.com/blog/http2-r7/" target="_blank" rel="noopener">HTTP/2 Now Fully Supported in NGINX Plus</a></li><li><a href="https://www.nginx.com/wp-content/uploads/2015/09/NGINX_HTTP2_White_Paper_v4.pdf" target="_blank" rel="noopener">Nginx HTTP2 White Paper v4</a></li><li><a href="https://www.nginx.com/http2-ebook/" target="_blank" rel="noopener">High Performance Browser Network Special Edition: Selected Content For HTTP2</a></li><li><a href="http://picasso250.github.io/2015/12/03/nignx-http2-cipher.html" target="_blank" rel="noopener">Nginx HTTP 2 的编译和配置</a></li><li><a href="http://nginx.org/en/docs/http/ngx_http_v2_module.html" target="_blank" rel="noopener">Module ngx_http_v2_module</a></li><li><a href="https://plus.google.com/+IlyaGrigorik/posts/NMtAVPTkAzg?pid=6189982894154826786&amp;oid=103330502635338602217" target="_blank" rel="noopener">What effect does HTTP2 push have on a web app w/ HTML Imports?</a></li><li><a href="https://docs.google.com/presentation/d/1r7QXGYOLCh4fcUq0jDdDwKJWNqWK1o4xMtYpKZCJYjM/present?slide=id.p19" target="_blank" rel="noopener">[Slides]HTTP/2 is here, let’s optimize</a></li></ul>]]></content>
      
      <categories>
          
          <category> HTTP2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> HTTP </tag>
            
            <tag> HTTP/2 </tag>
            
            <tag> HTTP/1.x </tag>
            
            <tag> Server Push </tag>
            
            <tag> SPDY </tag>
            
            <tag> SSE（Server Sent Event） </tag>
            
            <tag> 十分钟速知 </tag>
            
            <tag> 变动总结 </tag>
            
            <tag> 快速了解 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AngularJS 小技巧</title>
      <link href="/post/angular-js-tips.html"/>
      <url>/post/angular-js-tips.html</url>
      <content type="html"><![CDATA[<p>AngularJS 开发过程中用得到的日常小技巧。</p><h2 id="默认提交为-JSON-的问题"><a href="#默认提交为-JSON-的问题" class="headerlink" title="默认提交为 JSON 的问题"></a>默认提交为 JSON 的问题</h2><p>这是一个 AngularJS 专用补丁，确保 POST 提交的不是 JSON 而是正常的 payload。</p><pre><code>$http.defaults.headers.post[&quot;Content-Type&quot;] = &quot;application/x-www-form-urlencoded&quot;;</code></pre><p>且 json 数据必须转换成 form 数据，详情请见 <a href="http://stackoverflow.com/questions/11442632/how-can-i-post-data-as-form-data-instead-of-a-request-payload" target="_blank" rel="noopener">How can I post data as form data instead of a request payload?</a> （别的技巧待续，想听哪方面的技巧请留言）</p>]]></content>
      
      <categories>
          
          <category> AngularJS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AngularJS </tag>
            
            <tag> 工作经验 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>【转载】BootStrap 的 10 个错误用法</title>
      <link href="/post/do-not-use-bootstrap-like-this.html"/>
      <url>/post/do-not-use-bootstrap-like-this.html</url>
      <content type="html"><![CDATA[<p><em>将繁体转为简体并转载，原文地址：<a href="http://jimmysu.logdown.com/posts/254007-do-not-use-bootstrap-like-this" target="_blank" rel="noopener">Bootstrap 的 10 個錯誤用法</a></em> 近几年很流行 在网页项目导入一个叫Twitter Bootstrap的前端framework，例如网站的管理后台，网页系统的后台，新创网站，甚至一些预算不低的网站前台，也是套Bootstrap的默认样式，或是套上某个Bootstrap的免费样式， 就端出来给大家用，让那些慢慢手工刻网页的劳工觉得自己好像智障。 导入Framework的意义何在?就是Write less, do more. Bootstrap 针对一些常见、常用的网页元素写好定义样式，有漂亮的按钮，现代风格的窗体等等，在IE8等主流浏览器都能得到统一的视觉呈现，甚至还有内建一些常见网站功能的js，像多层下拉菜单、tooltip、表格隔行变色、页签、收阖菜单、对话窗口等等， 可以快速做出看起来比较象样的东西，而且还有许多以Bootstrap为基础发展出来的JS plugin，与Bootstrap无缝接轨。 国内几个大网站，如iCook、KKBOX，都使用Bootstrap来做前端的接口架构呢! 像是 <a href="http://jobs.inside.com.tw/" target="_blank" rel="noopener">Inside Job Board - 网络业工作职缺广告牌</a> 跟 <a href="http://taiwansamsungleaks.org/" target="_blank" rel="noopener">TaiwanSamsungLeaks.Org</a> 的网页样式，就是用Bootstrap 2的默认样式排的。 我键盘金田一推测我们公司这边是工程师提议开始用Bootstrap的，工程师花许多时间做出能动的程序，但可能在东西的外观与互动上却完全不吸引人，黑白灰色又正正方方的区块、接近色盲的愚蠢配色，美工也不是整天闲闲帮你做版型、套样式，但是有了Bootstrap， 工程师只要在写按钮或是表格循环的时候，加上几个Bootstrap的class名称，马上就从粗糙的裸机变成比较象样的网页。 [caption id=”attachment_1804” align=”alignnone” width=”800”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/11/bootstrap.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/11/bootstrap.jpg" alt="Bootstrap Magic!"></a> Magic![/caption] Bootstrap 这么强大，但它完美吗? 人做的东西怎么会有完美的嘛 ! 一个东西红当然不是坏事，大家会想办法让他变得更好。 但是对Twitter bootstrap的用户我不禁有些话想讲讲。</p><h2 id="一、注意中文font-size地雷"><a href="#一、注意中文font-size地雷" class="headerlink" title="一、注意中文font-size地雷"></a>一、注意中文font-size地雷</h2><p>我们先来看一张截图，截图中有4个文章段落，哪一段的字体看起来最不清楚? [caption id=”attachment_1805” align=”alignnone” width=”578”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/11/9231169696_8a9da7ce50_o.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/11/9231169696_8a9da7ce50_o.jpg" alt="网页中文字型与尺寸范例"></a> 网页中文字型与尺寸范例[/caption] 首先是Bootstrap的第一个问题，上图有四段繁体中文的段落文字，哪一段的字体看起来最不清楚? 一般人平常可能不太会去注意这种小事，但摆在一起看，就发现第一段中文字有点古怪。 中文字有一些地雷font-size，用错font-size会让网页上的文字特别难看。 Bootstrap毕竟是洋人的东西，偏偏就用上了14px的地雷设定，文字长这样你可能不陌生，Google Blogger的一些样式版型也是这种字体大小设定，看起来会令人不爽。 诸位网页劳工你用Bootstrap时font-size爱怎么设都可以，但是就不要照默认的设，拜托。 然后因为Bootstrap有许多地方都是基于body的font-size来计算尺寸，所以改了body的font-size之后，一些窗体元素可能会出现古怪，例如高度对不齐，窗体框框字的下半部被吃掉啊，麻烦也顾一下。 不然就用 <a href="http://getbootstrap.com/customize/" target="_blank" rel="noopener">Customize Bootstrap</a> 来产生对的值，不要浪费宝贵的人力。 除了字体缺点，Bootstrap让不会用的人用，code会非常乱，造成接手的人的困扰。</p><h2 id="二、不要让网站的CSS变成维护地狱"><a href="#二、不要让网站的CSS变成维护地狱" class="headerlink" title="二、不要让网站的CSS变成维护地狱"></a>二、不要让网站的CSS变成维护地狱</h2><p>最常见的错误用法有五种:</p><h3 id="第一种是不爱看文档"><a href="#第一种是不爱看文档" class="headerlink" title="第一种是不爱看文档:"></a>第一种是不爱看文档:</h3><p>例如用官网提供的范例来修改，看范例的导览列是黑色的，想改成浅色的。 于是千辛万苦设定nav-bar的背景色、超链接的颜色、菜单的背景色，其实可以多花两分钟先看看文档，把class名称navbar-inverse改成navbar-default就好了。</p><h3 id="第二种是只看眼前"><a href="#第二种是只看眼前" class="headerlink" title="第二种是只看眼前:"></a>第二种是只看眼前:</h3><p>直接把样式改在bootstrap.css里面，后续就发生用了BS（<em>指Bootstrap，下同</em>）的class名称，却出现非预期的效果。 或是下次要更新boostrap版本，或是又用 <a href="http://getbootstrap.com/customize/" target="_blank" rel="noopener">Customize Bootstrap</a> 产生新的bootstrap.css的时候，样式又要重写一遍。</p><h3 id="第三种是css继承与优先序的概念薄弱"><a href="#第三种是css继承与优先序的概念薄弱" class="headerlink" title="第三种是css继承与优先序的概念薄弱:"></a>第三种是css继承与优先序的概念薄弱:</h3><p>发现自己怎么写都盖不过BS的默认样式后，就开始!important，或是写行内样式，快速解决问题，但后续却制造更多问题，这样乱搞，在RWD（<em>Responsive Web Design, 响应式设计，下同</em>）时更容易发生问题。 或是又发生第二点的问题，直接跑去改bootstrap.css。 其他有套bootstrap的页面也跟着乱掉，又要再多写好几行css去控制乱掉的页面。 甚至有时候赶工的时候，可能写在DOM inline，也有可能写在head里面，或是除了bootstrap.css跟style.css以外又多了一支pageOOXX.css，为了RWD可能又有一支 responsive.css，然后哪天突然又不得不多一支!@#$%^&amp;.css…… 真是一场灾难! 当然如果贵公司是照程序代码有几行来算薪水的，那当然code写越多越好。</p><h3 id="第四种是用人工去做机器做的事"><a href="#第四种是用人工去做机器做的事" class="headerlink" title="第四种是用人工去做机器做的事:"></a>第四种是用人工去做机器做的事:</h3><p>比如说在bootstrap.css看到这段，btn-primary按钮颜色的CSS code:</p><p>.btn-primary {<br>color: #ffffff;<br>text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);<br>background-color: #006dcc;<br>*background-color: #0044cc;<br>background-image: -moz-linear-gradient(top, #0088cc, #0044cc);<br>background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0044cc));<br>background-image: -webkit-linear-gradient(top, #0088cc, #0044cc);<br>background-image: -o-linear-gradient(top, #0088cc, #0044cc);<br>background-image: linear-gradient(to bottom, #0088cc, #0044cc);<br>background-repeat: repeat-x;<br>border-color: #0044cc #0044cc #002a80;<br>border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);<br>filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=’#ff0088cc’, endColorstr=’#ff0044cc’, GradientType=0);<br>filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);<br>}</p><p>btn-primary 的按钮本来是蓝色的，但是你要把他改成紫色系的，于是你一行一行去改，按钮的一般状态改完了又去改hover, active, focus的状态，然后客户说紫色太鲜艳了，要换一个比较“有人情味”的紫色，于是你又重复再做一遍…。 万一有一个没改好的话，就容易发生像下面这样的情况。 [caption id=”attachment_1806” align=”alignnone” width=”175”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/11/wre2w5.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/11/wre2w5.jpg" alt="是不是也看过这种症状呢?"></a> 是不是也看过这种症状呢?[/caption] 其实bootstrap的css是用LESS语言写成的，就是一种css的预处理工具，其中一个功能是你只要写一行，工具就会帮你编译成加上前缀字符，或是符合各种浏览器的css语法。 所以你看到上述那种东西，都是机器跑出来的。 不是真的人去一行一行写的。 所以你要修改做这些code的话，请用LESS去重新编译CSS，不然就用 <a href="http://getbootstrap.com/customize/" target="_blank" rel="noopener">Customize Bootstrap</a> 去产生新的css，不要花人力去做机器做的事。</p><h3 id="第五种是乱删"><a href="#第五种是乱删" class="headerlink" title="第五种是乱删:"></a>第五种是乱删:</h3><p>比如上面那一段，有人觉得background-image为什么要写这么多行? 就把其他看不懂的全删掉，除非你的网页只给自己看，不然这就糟了。 其实现在网页浏览环境很复杂，不像以前只有IE，800X600，现在有各种装置与各种浏览器，为了让各浏览器都能看到统一的样式，所以不得不写这么多。 有人觉得说现在除了IE以外的浏览器不都很强大，支持主流标准网页语法吗? 但你知道CSS3有一个常用的box-sizing属性，在Firefox版本29以前，都要加前缀字符(prefix) -moz-box-sizing才能正常运作吗? 你知道有些css属性在android 4.2的默认browser不支持吗? 诸如此类狗屁倒灶的东西还有一大堆。 还有些浏览者只知道自己是用Firefox, Chrome,却不知道自己的浏览器版本从未更新过，或是自动更新根本就故障了(<a href="http://blog.3bro.info/archives/google-chrome-update-error/" target="_blank" rel="noopener">如[教学]如何解决Google Chrome 的更新错误？ （错误：管理员已停用更新）</a>)。 所以还是需要这些加上前缀字符的写法，才能正常显示样式。 基本上Bootstrap对主流浏览器的支持算是不错了。 来下个结论，合理的Bootstrap css用法，是保留bootstrap.css不去动，然后用另外一支theme.css去override控制bootstrap.css，或是用一些css的预处理器，再 mixin一些boostrap的东西来用。</p><h2 id="三、增加额外的流量负担"><a href="#三、增加额外的流量负担" class="headerlink" title="三、增加额外的流量负担"></a>三、增加额外的流量负担</h2><p>常见的一个初学者错误，把bootstrap.css跟bootstrap.min.css一起嵌入网页中，其实两支都是一样的东西，只要用一支就好。 那为什么他要提供两支档案给大家用? 因为一支保留可读性与维护性，min档案则是删除所有缩排、换行，让档案达到最小化，节省流量，也有人则是想故意打乱原始码让人看不出来(骗小孩而已)。 总之压缩器(compressor)的使用与最小化的档案，在现在的网页设计是很常见的。 Bootstrap 提供自定义功能，用户可以从官网选择会用到bootstrap的哪些功能，下载对应的JS跟CSS code来用就好，像是你要grid系统就勾grid，要窗体样式就勾窗体样式。 但一般人都会有一次到位的心态，直接下载完整版，省得夜长梦多。 于是可能只有两三页的网站，就包了120(min)~140几KB，有6000多行的css，还有一个30(min)~60KB的JS，好啦，现在的网页主机都很勇，大家也都用宽带上网，区区几百KB 何足畏惧? 但别忘了，还有吃不饱的手机上网，或是有人是用流量计费的3G上网，或是有些租屋族是用手机分享网络讯号给PC的，这些都会对他们的机器造成额外的负担。</p><h2 id="四、reset、normalize，与bootstrap"><a href="#四、reset、normalize，与bootstrap" class="headerlink" title="四、reset、normalize，与bootstrap"></a>四、reset、normalize，与bootstrap</h2><p>有些人知道css要reset，但是只知其一，不知其二。 例如客人会反应他在后台打文章时，项目符号明明有点点或是编号，但是在前台看就不见了，或是表格有设内外距，但是距离没出来。 这种情况九成九就是做网页的人用了css reset，把ul跟ol的list-style:none了，把table, th ,td的border-spacing变成0了， 甚至把一些段落都变成0距离。 但是又忘了把文章内文区、编辑页面区的再设定回来，所以同一篇文章在前后台看起来的样式会差很多，于是就又要有人去收烂摊子，或是客人自己加一些●▲☆★◆■▼㊣⊕⊙◎当项目符号，拜托 ! 用了css reset之后请再顾虑一下用户输入内容的地方。 然后有时候会看到网页上套了reset.css，再套了normalize.css，然后又再套了bootstrap.css。 其实上bootstrap 1就已经有包含css reset，升级到2代的时候则舍弃reset，改用css normalize，第三代仍是采用css normalize，所以Bootstrap 的骨子里已经包含normalize.css的血液了，自己又再套一次是毫无意义。 爱套framework没关系，觉得不套个某大神的css reset或css normalize的话网页用起来会不安心。 只要能完成任务，一个网页套100个也没关系，但重点是要知道framework的作用是什么，不要一股脑乱套。</p><h2 id="五、怕被bootstrap默认样式影响，不想用一般的html-tag去包东西"><a href="#五、怕被bootstrap默认样式影响，不想用一般的html-tag去包东西" class="headerlink" title="五、怕被bootstrap默认样式影响，不想用一般的html tag去包东西"></a>五、怕被bootstrap默认样式影响，不想用一般的html tag去包东西</h2><p>Bootstrap 默认会给一些网页元素p, h1, h2… 之类的套上样式，但有些网页劳工不想让网页上的元素被套上bootstrap那种行距超大的p, h1, h2… 样式，DOM架构的容器名称又没取好，所以本来该用p, h1, h2之类的语意卷标排的东西，硬是用div、span套额外的class再去排。 然后又产生一堆怪问题，例如在后台编辑器里面显示的，跟前台显示出来的，又会差超多。 当然一些常见的后台所见即所得编辑器都支持嵌入外部CSS，让前后台显示的样式可以几乎一样。 但是就是要多花时间处理。 如果你觉得内建样式不理想，请自己再定义过p, h1, h2… 样式。 如果觉得Bootstrap这种洋人的东西太不接地气，可以试试 <a href="http://amazeui.org/" target="_blank" rel="noopener">Amaze ~ 妹子 UI中国首个开源 HTML5 跨屏前端框架</a>。</p><h2 id="六、元素乱套"><a href="#六、元素乱套" class="headerlink" title="六、元素乱套"></a>六、元素乱套</h2><p>举例来说，像是可能觉得Label and badge的绿色背景、红色背景看起来不错，就把它拿去套在文章的标题。 Alerts的淡黄、淡绿的底色很好看，拿去套在小段文字的段落上。 这样套会死吗? 不会啊! 网页会不能看吗? 也没有啊! 用户会不会觉得明明操作成功，却是红字，红背景? 或是代表警告的视觉样式，为什么会用在一个奇怪的地方? 或是明明有两个一样的样式，一个是文章标题，一个是代表警示讯息? 不过其实网页是很现实的东西，以上这些技术问题都不是问题， 案子无法结案，还有客人的产品在你做的网站上卖不出去，这才是问题。</p><h2 id="七、Responsive-Web-Design问题"><a href="#七、Responsive-Web-Design问题" class="headerlink" title="七、Responsive Web Design问题"></a>七、Responsive Web Design问题</h2><p>终于有越来越多的业主终于发现，他家网站的Flash动画跟Flash菜单在他的iPhone上看不到，还有竞争对手的网站用手机或平板看起来是很舒服的，自己家的网站的图不但糊掉，还要一直缩放滑动，非常难用。 于是有改版网站的需求。 Bootstrap 特点之一就是内建RWD的设计，你可以简单加一些visible-xs之类的class属性，就能控制网页上的元素在某尺寸的装置上显示与否，不需知道breakpoint，也不用知道media query，基本功不用学好， 马上就可以越级打怪。 懒得指导新人做网页时，就可以丢bootstrap给他用。 但是这就造成大家以为Bootstrap等于RWD，要做RWD网站就一定要用Bootstrap，用Boostrap做出来的网站就一定有RWD。 世界是很大的。 先别说Bootstrap了，你听过 <a href="http://foundation.zurb.com/" target="_blank" rel="noopener">Foundation</a> 跟 <a href="https://developers.google.com/web/starter-kit/" target="_blank" rel="noopener">Web Starter Kit</a> 吗? 除了用Bootstrap来做RWD ，还有有些网页劳工会忘记bootstrap有RWD功能，只要观念薄弱，就可能导致悲剧发生。 例如以下两种情况… [caption id=”attachment_1807” align=”alignnone” width=”800”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/11/20141116-1104.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/11/20141116-1104.jpg" alt="navbar-fixed-top 的菜单项目太多"></a> navbar-fixed-top 的菜单项目太多[/caption] Bootstrap 的默认值是屏幕宽度小于768 px时，菜单才会缩成hamburger icon。 但是主菜单项目太多，而且屏幕比较小，或是没有把窗口放到最大时，本来显示成一排的brand、nav、nav pull-right菜单变成了三块，还盖住主内容。 这时候就要改Bootstrap的breakpoint，或是不要用fixed的菜单。 [caption id=”attachment_1808” align=”alignnone” width=”405”]<a href="http://www.bokeyy.com/wp-content/uploads/2015/11/Screenshot_2014-11-16-11-09-32.jpg" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/11/Screenshot_2014-11-16-11-09-32.jpg" alt="用错 grid Class名称"></a> 用错 grid Class名称[/caption] 本来只打算做 for pc 的网站，但如果 class 名称用错，用移动设备浏览会大爆炸。</p><h2 id="八、如果有兼容旧浏览器的需求，不要随时追到最新版的-framework-版本"><a href="#八、如果有兼容旧浏览器的需求，不要随时追到最新版的-framework-版本" class="headerlink" title="八、如果有兼容旧浏览器的需求，不要随时追到最新版的 framework 版本"></a>八、如果有兼容旧浏览器的需求，不要随时追到最新版的 framework 版本</h2><p>什么东西都会更新，Bootstrap 也不例外，基本上版本越新的前端 framework，就对用 XP 与 IE8、IE7 的使用者越不友善，有些计算机也不是想升级就升级，想安装什么就安装什么啊! 有些是内嵌式系统，有的是 ERP 或工业软件的包袱，不得不用旧计算机。 但就像你不会问为什么 Nokia 3310 不能传 LINE 跟上 FB，你要 IE7 的技术团队在开发时，就可以支持到 10 年后的网页技术规格，这也是挺强人所难的。拿 2006 年的 Firefox 或 Opera 版本来跑现在的网页，也是一样的惨。 Bootstrap 从 2.x 成长到 3 代目，主要是增加了一些新的网页组件样式，然后把一些冗余的 class 名称与 dom 架构改得更精简。Boostrap 2 对旧的 IE 浏览器的策略基本上是勉强支持，但 Bootstrap 3 则是建议你为旧版 IE 另外写一支 css ，并加挂许多兼容性的 js plugin (如html5.js, respond.js…)，白话翻译就是，<strong>BS升级到新版之后，反而你要做的事变多了</strong>。 另一种情况是旧架构的网站更新，网站本来是用 BS2 来 layout，看到 BS3 出了一些新功能，很想用。于是有两条路可以走，第一种是器官移植，把 BS3 新功能的 css 跟 JS 拆出来，然后塞到 BS2 的 css 跟 JS 里面，但是会不会出问题? 其实还满容易出问题的。 于是你走第二条路，就是脱胎换骨，把 BS2 更新成 BS3。只有置换 CSS 与 JS 档案就好了吗? 当然不可能。 举例来说，Bootstrap 方便之处，在于它预先写好许多类别样式，比如在 html 加一个 class 名字叫 row-fluid 的 div，然后用循环跑 class=”span4” 的 div，就可以完成一排 3 个的产品列表，不用写半行 css ，就可以让每一块 div 有间距跟排成一排。 但是在 BS3，row-fluid 跟 span 1~12 的 class 名称通通都没了，于是你要重新看一次 BS3 的 class name 与架构长怎样，还有把程序循环里的 span4 拿掉，换成 col-xs-12 col-md-4，这时候有前车之鉴，有人可能会记得要帮每个 item 加一个另外的 class 了，除了 grid system，其他还有 .input-group , .btn, .bar, .label, .inline 这些通常会写在后端程序做判断产生的东西，通通都要再改过后端程序，然后测试一遍显示与执行是否正常。 别忘了还有人把 css 定义成这样 .Prodlist .span4{} 或是在 JS 里面 写 $(‘#reg .btn-mini’).click(function() {…..}); 这种的。 有些工程师可能已经干过一次把 BS2 的后台改成 BS3 的事情了， 那以后会不会隔一段时间又要再更新成 BS4, BS5 呢? 搞不好那时候又会有比 Bootstrap 更强的 Framework 出现呢。</p><h2 id="九、让只会-photoshop-table-切版的美工处理-Bootstrap-的网站"><a href="#九、让只会-photoshop-table-切版的美工处理-Bootstrap-的网站" class="headerlink" title="九、让只会 photoshop table 切版的美工处理 Bootstrap 的网站"></a>九、让只会 photoshop table 切版的美工处理 Bootstrap 的网站</h2><p>有些号称「网页制作经验丰富」，很会用Flash，很熟 Firework，很会用 Photoshop 的切片工具 + Dreamweaver 的所见即所得功能做网页，他现在的职称不一定是网页设计师，可能是销售大师，可能是设计部经理，也许是什么都会的助理或业务什么的，要是没跟上新时代，遇到 Bootstrap 就会碰壁。 有时候只是在 Dreamweaver 的所见即所得模式打开要改的网页，把一个东西选起来，换一下颜色，加个超链接，或是移动一下网页上电话区块的位置，或是想把一组图文拿掉，就把 Bootstrap 的网页改坏了。 通常是 end tag 跑错地方，或是 dreamweaver 自动多加了一层 div，或是 class name 被所见即所得的软件删掉了。 这时候就看谁要出来收拾。</p><h2 id="十、把-Bootstrap-的命名方式当成团队的-style-guide。"><a href="#十、把-Bootstrap-的命名方式当成团队的-style-guide。" class="headerlink" title="十、把 Bootstrap 的命名方式当成团队的 style guide。"></a>十、把 Bootstrap 的命名方式当成团队的 style guide。</h2><p>有时候后端工程师对 html 跟 css 的概念不好，写出来的程序常常都会乱包乱套，虽然后端管的是传递数据是否正确，至于 html 怎么包、好不好看不关他的事，但就容易引发团队间的对立与纷争。 或是后台是由很多工程师撰写与维护的，但公司没有规范团队的 style guide，所以可能每个人取名称的习惯都不一样，比如说常见的会有以下几种:</p><ul><li>驼峰式(camel case)，如 “ProdTab” 或 “prodTab”</li><li>用全小写 “prodtab”</li><li>加下底线或 dash 区隔，如 “prod-tab” 或 “Prod_tab” 或 “_prodTab”</li><li>流水号命名，如 “tab34”, “item3”</li><li>乱取名，如”top-box”</li><li>拼错单字，如 “Probtob” …族繁不及备载。</li></ul><p>就会发生对视觉设计师而言，在视觉上明明要长一样的东西，因为每支程序命名方式的不同，造成很难维护与调整样式。例如样式宣告要写一长串，顾及所有的程序: ProdTab, .prodTab, .tab34, top-box, Prob_tob, .prodtab {content:”damnit”} 但是只要团队导入一些 framework 之后，一些常见的网页组件，如 input-group 或是 nav-tabs，会直接使用 framework 的组件，而不再是随便乱取，各自为政。 这样的情况短期来看是好的。网页组件与命名得到统一，后台也有基本的样式，大家不用花太多心力处理样式。但是这样又会产生本文第八点的问题。</p><hr><p>Bootstrap 只是一个工具，要怎样用，没人管得着，但要告诉大家可能会碰到的问题，事先预防。 网页设计师基本上就是一个会中年转职的行业，要嘛换工作，要嘛变成用嘴巴做网页。 所以青春岁月要浪费在美好的事物上，而不是花在 debug 上面。</p>]]></content>
      
      <categories>
          
          <category> Bootstrap </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bootstrap </tag>
            
            <tag> bootstrap使用注意事项 </tag>
            
            <tag> 后端转前端的注意事项 </tag>
            
            <tag> 怎么正确使用bootstrap </tag>
            
            <tag> 错误用法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>生物成功转型程序媛？——我的个人陈述</title>
      <link href="/post/personal-statement.html"/>
      <url>/post/personal-statement.html</url>
      <content type="html"><![CDATA[<p><strong>重要的事放前面：推荐想转行的童鞋关注一下<a href="http://ife.baidu.com/" target="_blank" rel="noopener">百度前端技术学院</a></strong> 最近前端开发好像莫名其妙火起来了，不仅很多科班出身毕业生的开始摩拳擦掌，别的行业都想往这方面转。确实，非科班的前端很多，甚至高中学历、专升本的也有，大家都是自学走上了这条路。 现在很多大公司已经着手开始改变前端开发招人难这件事了。</p><hr><p>说我从销售成功转程序媛，或者生物成功转型程序媛的博友们。首先要谢谢你们的关心和支持。然而，可能要让你们失望的，就是我并非那么“励志”。事实上我真实的经历可能反而是一个，因为脑子进水，所以才需要“转型”的经历。 之所以这么说，因为实际情况和你们想象的不同，本人不算是完全零基础的。 唯恐你们不信，我是 1999 年开始接触电脑的，玩了几年后就开始自学了。由于出生在偏远山区，信息不通畅（上网费很贵！），天天泡在县新华书店也只能学到个皮毛。然而，当我高考完毕的时候，我早已能够独立建立一个网站了。 这个“网站”和现在用的技术完全不同，只有表格布局，没有 SEO（那时候百度不知道成立没），表单漏洞到处都是。然而这些并不妨碍大家劝我选填一个计算机相关专业。 这时候我脑子进水了，选了生物工程。后来我觉得自己能够进一个专业就爱一个专业，就开始自发的做实验，发文章，准备读研读博。然而我成绩并不好。你们知道，生物工程在国内其实是微生物与化学工程的交叉学科，真正的英文名是 Biochemical Engineering（生物化工，现在的招生简章好像已经改成这个名字了）。高中教科书只告诉我二十一世纪是生命科学的时代，却没有告诉我是化学工程的时代。作为女生，我确实对冒着刺鼻气味的危险化工厂提不起兴趣。然而，生物相关的课程确也只是主干课程中的一部分，所以我的成绩并不好。 我成绩不好的另一个原因是我脑子进水了，在读本专业的同时还在兼着看计算机相关的书和课程，想要维持这个爱好。结果自然是两边都得不到。 后来本科毕业后，家里的负担比较重。但我又还想考另一门交叉学科，也就是生物信息学。我觉得这既能让我的专业不白学，又能兼顾兴趣爱好。我就心比天高的报了北大生物信息学的研究生专业。同时找了一份糊口的工作。对，就是那个仪器销售。 后来考研结果出来，录取三人，我总分第五。其中计算机排第二，生物课程没及格。对，生物工程里教的生物化学比生命科学院里教的，差太远了。而我又确实没能静下心来好好重新学。生物相关课程能考得好才怪。 于是我只好找工作去了。先去了厦门的一家做外包的企业做前端开发，后来跳槽到网易（这一步的原因其实是，当时，计算机科班出身的学生往往不会做/不愿做前端开发）。后面的事情你们都知道了。 所以，其实，真实的故事并不是你们心目中的那个典型。我曾经一入学就跟老师说我要读研读博。而现在，回首而望，如今的我少了当初那份傻劲和锐气，而且什么都没有做好。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>最近一两年，总有知乎私信、博客履历留言、微博私信问我类似的问题。我每次都澄清了。然而前端开发越来越热门，这件事还是时有发生。思来想去还是写下了这篇文章，希望不要误导想转行的众人。生物相关专业的毕业生分布在各行各业，并不是因为生物专业和这么多行业都相关，而是因为大家很多都被迫转行罢了。 其实后来我也并没有停下犯二的脚步，比如傻兮兮的在网易呆了快三年，根本不考虑跳槽机会，不知道外面的世界原来这么大这件事，我现在深以为憾呢。</p>]]></content>
      
      <categories>
          
          <category> 陈年旧事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> 交叉学科 </tag>
            
            <tag> 生物化工 </tag>
            
            <tag> 生物工程 </tag>
            
            <tag> 网站建设 </tag>
            
            <tag> 网页制作 </tag>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 第6章 HTTP 首部</title>
      <link href="/post/chapter-6-of-illustrating-http-notes.html"/>
      <url>/post/chapter-6-of-illustrating-http-notes.html</url>
      <content type="html"><![CDATA[<p>本章学习 HTTP 首部的结构，以及首部中各字段的用法。  </p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这是最厚的一章了。HTTP 协议最有讲头的就是首部了。接下来五章的篇幅都比较短。 博客只发读书笔记显得人有点 low：<strong>只知道学习，不知道产出</strong>。每当想到这一点，博主就有点没有继续写笔记的动力了。但是，每当思考寻求解决方案时，第一反应还是会想起当初的笔记。所以，既然是自己挖的坑，哪怕很勉强，也还是要填完。</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP HEAD </tag>
            
            <tag> HTTP 首部 </tag>
            
            <tag> HTTP协议 </tag>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> HTTP HEADER </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>【整理】各银行信用卡积分积累比例和价值</title>
      <link href="/post/credit-cards-points-price-and-value-ratio.html"/>
      <url>/post/credit-cards-points-price-and-value-ratio.html</url>
      <content type="html"><![CDATA[<p>2014年由于突发奇想的兴趣，博主办了所有办理流程不太复杂的信用卡。面对五颜六色的卡片，每次刷卡都要犹豫用哪张。 后来，博主把眼花缭乱的信用卡积分规则和积分能兑换的礼品一一列出来，最后得到了下表，在此分享：</p><ul><li>中信i白金 500RMB ：1RMB = 1000积分</li><li>招商银行 500RMB ：1RMB = 25积分</li><li>广发淘宝 500RMB ：1RMB = 100集分宝</li><li>交通银行 500RMB ：1RMB = 500积分</li><li>工商银行 500RMB ：1RMB = 500积分</li></ul><p>也就是说，不管信函上说的积分和消费金额的累积比例是多少（仅考虑人民币），<strong>每消费 500 元人民币，所得到的积分能兑换礼品的价值都是 1 元</strong>。极端情况下（9 积分兑换 30 元工作餐等招牌活动）可能不符合，但是这些情况通常有很多限制条件，很难达到的那种。 既然有极端情况，也有另一个极端。就算这点积分，也常常被银行误导往价值更低的地方消耗（比如中信积分换集分宝）。综上所述，信用卡作为促进超前消费的推销工具，请卡友们不要抱有太不切实际的占便宜想法。遇到“便宜”之前要擦亮眼睛，别为了刮蚊子腿，小心反被吸一口血噢！</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 什么信用卡比较好 </tag>
            
            <tag> 信用卡 </tag>
            
            <tag> 信用卡积分哪家强 </tag>
            
            <tag> 哪家银行的信用卡积分比较好 </tag>
            
            <tag> 积分价值 </tag>
            
            <tag> 积分兑换礼品 </tag>
            
            <tag> 累积积分比例 </tag>
            
            <tag> 累积积分能值多少钱 </tag>
            
            <tag> 累积积分速度 </tag>
            
            <tag> 财务 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AngularJS 父子 scope 之间的交流</title>
      <link href="/post/parent-child-controller-communication.html"/>
      <url>/post/parent-child-controller-communication.html</url>
      <content type="html"><![CDATA[<p>本文是 《<a href="https://rclayton.silvrback.com/parent-child-controller-communication" target="_blank" rel="noopener">Parent/Child Controller Communication</a>》 的译文。 ======译文开始====== 我最近经在教很多个朋友 AngularJS，而他们几乎都问了同样一个问题：</p><blockquote><p>如何在 controller 之间传递消息（状态）？</p></blockquote><p>这是个好问题。通常对初学者来说，它不直观。答案比我们想的要复杂（但实现起来很简单）。 有好多方法可以在 controller 之间通信 。在接下来一系列的博文中（译者注：链接见文末），我会展示这些方法，并讨论它们原理上的缺点。 本文中，我会讨论最简单、也最容易滥用的方法：</p><h2 id="父子-Controller-通信"><a href="#父子-Controller-通信" class="headerlink" title="父子 Controller 通信"></a>父子 Controller 通信</h2><p>和名称一样，这种方法只在一个 controller （子）被另一个 controller （父）所包含的情况下可用。</p><div ng-controller="ParentCtrl"><br>    <div ng-controller="ChildCtrl"></div><br></div>  <p>在 AngularJS 中，<strong>Scope</strong> 是 controller 的上下文（view 层可用的数据）。它是可以继承的。也就是说，父 controller 中定义的变量和函数对子 controller 来说也是可用的。这里有一些例子： <strong>父 controller 中定义的变量会应用到子 controller 中。</strong> 看看如下结构：</p><div ng-controller="ParentCtrl"><br>    <h1>{ { title }}</h1><br>    <div ng-controller="ChildCtrl"><br>        <h1>{ { title }}</h1><br>    </div><br></div><p>假设这些 controller 定义如下：</p><p>app.controller(“ParentCtrl”, [ ‘$scope’, function($scope){<br>    $scope.title = “I’m the Parent.”;<br> }]);</p><p>app.controller(“ChildCtrl”, [ ‘$scope’, function($scope){<br>    // Nothing defined on $scope<br>}]);</p><p>你会得到像这样的输出结果： <a href="http://www.bokeyy.com/wp-content/uploads/2015/04/blog-ang-pcc-1.png" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/04/blog-ang-pcc-1.png" alt="实例：父 controller 定义的变量会应用到子 controller 中"></a> <strong>如果子 scope 中定义了父 scope 中的同名变量，父 scope 中那个变量在子 scope 中会被隐藏起来。</strong> 在上一个例子中，子 scope 继承了父 scope 中的 <code>$scope.title 变量。如果子 scope 定义了自己的 $scope.title ：</code></p><p>app.controller(“ParentCtrl”, [ ‘$scope’, function($scope){<br>    $scope.title = “I’m the Parent.”;<br> }]);</p><p>app.controller(“ChildCtrl”, [ ‘$scope’, function($scope){<br>    $scope.title = “I’m the Child.”;<br>}]);</p><p>父 scope 中的 $scope.title 的值会被隐藏，当然，仅限在这个子 scope 中发生（父 scope 中的变量是独立的）： <a href="http://www.bokeyy.com/wp-content/uploads/2015/05/blog-ang-pcc-2.png" target="_blank" rel="noopener"><img src="http://www.bokeyy.com/wp-content/uploads/2015/05/blog-ang-pcc-2.png" alt="子 scope 重载父 scope 的变量"></a> <strong>子 scope 可以直接访问（甚至修改）父 scope 中的值，但是反过来却不行。</strong> 没翻译完，待续，请自行查看原文 <a href="https://rclayton.silvrback.com/parent-child-controller-communication" target="_blank" rel="noopener">https://rclayton.silvrback.com/parent-child-controller-communication</a> 接下来一系列文章：</p><ul><li><a href="https://rclayton.silvrback.com/pubsub-controller-communication" target="_blank" rel="noopener">观察者模式的 controller 通信（$broadcast $on $emit）</a></li><li><a href="https://rclayton.silvrback.com/passing-state-via-routes" target="_blank" rel="noopener">通过 ng-route 传参</a></li><li><a href="https://rclayton.silvrback.com/passing-state-via-services" target="_blank" rel="noopener">通过 service 共享变量</a></li></ul>]]></content>
      
      <categories>
          
          <category> AngularJS </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AngularJS </tag>
            
            <tag> controller之间怎么传递消息 </tag>
            
            <tag> controller之间怎么通信 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《CLEAN CODE》读书笔记（六）—— 错误处理</title>
      <link href="/post/clean-code-6.html"/>
      <url>/post/clean-code-6.html</url>
      <content type="html"><![CDATA[<p>根据异常如何被捕获，将整个事件的错误处理统一代理起来是不错的方法，类似 httpFactory。（7.5 的例子是 Java 的，不太适合本项目） 如果异常打断了业务逻辑，那么，不要返回 null 值，返回 0 或者空数组可以省很多代码，可读性也更高（例子）。 （建议）每个异常应该有环境说明（AngularJs 已经做得很好了）</p>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>《CLEAN CODE》读书笔记（五）—— 对象和数据结构</title>
      <link href="/post/clean-code-5.html"/>
      <url>/post/clean-code-5.html</url>
      <content type="html"><![CDATA[<p>The Law of Demeter 定律认为，模块不应了解它所操作对象的内部情形。 对象的内部结构应该隐藏而不暴露。而数据结构暴露数据，没有明显的行为。 （6.3 的例子：为什么非要暴露 cxt 内部的结构？为什么需要那么多知识来使用 cxt 对象？为了后面能创建指定名称的临时文件，那么直接让 cxt 来做这件事，如何？！） – 这章真简洁</p>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> clean code </tag>
            
            <tag> 代码整洁之道 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> Comments </tag>
            
            <tag> 代码格式规范 </tag>
            
            <tag> 心得 </tag>
            
            <tag> 注释 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 类 </tag>
            
            <tag> 精辟好句 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《CLEAN CODE》读书笔记（四）—— 代码格式</title>
      <link href="/post/clean-code-4.html"/>
      <url>/post/clean-code-4.html</url>
      <content type="html"><![CDATA[<p>（非强制）短文件通常比长文件易于理解 向报纸学习： 1、名称简单一目了然； 2、顶部为最高层次的概念和算法； 3、细节往下渐次展开，知道最底层的函数和细节； 4、多数短小精悍，有些稍微长点儿，极少数占满一整页。 （建议）每个空白行都是一条线索，表示出新的独立概念。往下读代码时，目光总会停留于空白行之后那一行。（明显的例子） （建议）紧密相关的代码相互靠近，暗示它们之间的紧密关系。（被注释分割的例子） （建议）被调用的函数尽快出现在下面，这样就能轻易找到被调用的函数。 （建议）概念相关的代码同理要靠紧密一些。 缩进，这个没啥好说的。</p>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> clean code </tag>
            
            <tag> 代码整洁之道 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> Comments </tag>
            
            <tag> 代码格式规范 </tag>
            
            <tag> 心得 </tag>
            
            <tag> 注释 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 精辟好句 </tag>
            
            <tag> 格式 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>如何用 nginx 配置 gzip 和长缓存</title>
      <link href="/post/enable-nginx-gzip-and-long-time-cache.html"/>
      <url>/post/enable-nginx-gzip-and-long-time-cache.html</url>
      <content type="html"><![CDATA[<p>这是一篇笔记，记录博主实际配置一个老生常谈的问题的过程。 Gzip 可以使资源加载时，大小缩减到原来的 1/3 。长时间缓存可以让浏览器不加载没有变化的文件。这两者都是前端性能优化的范畴，大家都懂的。  </p><h2 id="资源文件长缓存"><a href="#资源文件长缓存" class="headerlink" title="资源文件长缓存"></a>资源文件长缓存</h2><p>将 Cache-Control 改为 public ，并加上一年的长缓存，配合 MD5 版本号实现长缓存 + 按版本号自动更新：</p><pre><code>location /res{    expires      1y;    add_header   Cache-Control public;}</code></pre><h2 id="为保证缓存效果，先去掉-Etag-（Entity-Tag）"><a href="#为保证缓存效果，先去掉-Etag-（Entity-Tag）" class="headerlink" title="为保证缓存效果，先去掉 Etag （Entity Tag）"></a>为保证缓存效果，先去掉 Etag （Entity Tag）</h2><p>浏览器会根据 Entity Tag 判断文件是否被修改过。而观星台用的是多台服务器。由于不同的服务器可能对同一个文件生成不同的 Entity Tag，用户第一次从服务器 A 拿过的文件，第二次从服务器 B 拿时，服务器给出的 Entity Tag 有可能不同。这就会造成重复下载，缓存形同虚设。由于已经有 MD5 插件机制起到了类似 Entity Tag 的效果，所以暂时先禁用掉 Entity Tag。</p><pre><code>http{    etag   off;}</code></pre><h2 id="开启-Gzip-压缩"><a href="#开启-Gzip-压缩" class="headerlink" title="开启 Gzip 压缩"></a>开启 Gzip 压缩</h2><ol><li>设置最小 1kb 开启 gzip 压缩；</li><li>开启 gzip_vary ，当用户使用代理服务器的时候，代理服务器会缓存压缩前后两个版本的文件，方便不同浏览器支持情况的用户；</li><li>将 gzip_http_version 设为 1.0，表明为 HTTP/1.0 以上的协议启用 gzip 压缩；</li><li>开启 js 、 css 、 xml 和 txt 文件的 gzip 压缩。其中网络图片（png/jpeg/gif）格式本身的压缩率一般都已经够高，不用再加 gzip 压缩，没什么效果还占用资源。对于观星台某些过大的 jpeg 图片，可以选择自动加 gzip 压缩作为折衷方案。但最主要的还是在做图的时候就设置好质量压缩比最高的压缩程度。</li><li>压缩比例设为 3。最小是 1 ，最大是 10。一般都设为 3。</li><li>对 IE1-6 不启用压缩，因为对 gzip 压缩支持的不太好，可能会出现闪跳问题（当然我们几乎没有这个类型的访客，可加可不加）。</li><li><p>其它未提到的设置保持默认。</p><p>http{</p><pre><code>gzip        on;gzip_min_length 1k;gzip_vary       on;gzip_http_version   1.0;gzip_types      text/plain application/x-javascript text/css application/xml image/jpeg;gzip_comp_level 3;gzip_disable    &quot;MSIE [1-6].&quot;;</code></pre><p>}</p></li></ol>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 前端部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gzip </tag>
            
            <tag> nginx </tag>
            
            <tag> Entity Tag </tag>
            
            <tag> Expire </tag>
            
            <tag> Expires Header </tag>
            
            <tag> 配置 </tag>
            
            <tag> ETag </tag>
            
            <tag> max age </tag>
            
            <tag> 长时间缓存 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>你们的游戏，我们的游戏，他们的游戏</title>
      <link href="/post/your-games-our-games-and-their-games.html"/>
      <url>/post/your-games-our-games-and-their-games.html</url>
      <content type="html"><![CDATA[<p>没心思写博客了。来水一下吧。 魔兽世界（WOW）的玩家越来越老龄化了。偶尔打个副本，上个 YY，也能听到团长调侃 87 年生的算是小年轻。而最大的魔兽世界论坛 NGA 上，更是时不时见到玩家为了带孩子而放弃游戏的消息。 取而代之的游戏，从口耳相传、微博时间线和媒体报道中偶尔能窥知一二：现在的九零后都去打英雄联盟（LOL），穿越火线（DNF）之类的腾讯代理游戏了。假以时日，这就是他们用来区别“充满活力的年轻新一代”，和“那些八零后老顽固”的又一个标杆。 很多时候，知乎上幽怨的问为什么XX不喜欢我玩XXX，为什么XXX会鄙视XXX的人。最后的高票答案必然会有类似这样的一条“他们鄙视的不是XXX那件东西，也不单纯是爱好XXX的人”。 生而为人，每个人都是全新的。诚然，我一开始是没有什么游戏偏好的。英雄联盟是什么，天下贰是什么，倩女幽魂是什么，魔兽世界是什么，仙剑奇侠传是什么，小霸王学习机又是什么，其实都只是陌生的事物。有的可远望，全都不可触及。然而有一天，年轻的我接触了魔兽世界这个游戏，心理默念着“我是个玩魔兽世界的人，我是个玩盗贼的人，我是个DPS，我是个近战，我会PVP”，心理自然而然就将魔兽世界当成自身的属性的一部分。 既然是我自身的属性，那一定是要维护的。我就这样成了魔兽世界的维护份子。从 QQ 空间、QQ 游戏新长成的小年轻，他们就那样接触了腾讯代理的游戏，腾讯代理的游戏，也成了他们自我维护的属性。 而世界终究是年轻人的。魔兽世界的玩家变少了，远不如巅峰时期了，也许会有人开始说“LOL有什么好玩的都是脑残小学生在玩吧”？其实表达的根本不是表面上的意思。 我想到了很多这样自然而然形成的鸿沟。然而洞悉至此，我反正宁愿被小学生鄙视，还是不愿意去玩英雄联盟了。我已经不再急着标榜与上一代不同了。事实上，我们已经够不同了。 上一代他们的游戏又是什么？舞厅？卡拉OK？弹吉他？不知道了。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>《图解HTTP》写到第六章（还没发），这是最厚的一章了。HTTP 协议最有讲头的就是首部了。接下来五章的篇幅都比较短。 博客只发读书笔记显得人有点 low：<strong>只知道学习，不知道产出</strong>。每当想到这一点，博主就有点没有继续写笔记的动力了。但是，每当思考寻求解决方案时，第一反应还是会想起当初的笔记。所以，既然是自己挖的坑，哪怕很勉强，也还是要填完。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wow </tag>
            
            <tag> 德拉诺之王 </tag>
            
            <tag> 穿越火线 </tag>
            
            <tag> 英雄联盟 </tag>
            
            <tag> 魔兽世界 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>200 OK (from cache) 与 304 Not Modified</title>
      <link href="/post/200-ok-from-cache-vs-304-not-modified.html"/>
      <url>/post/200-ok-from-cache-vs-304-not-modified.html</url>
      <content type="html"><![CDATA[<p>为什么有的缓存是 200 OK (from cache)，有的缓存是 304 Not Modified 呢？很简单，看运维是否移除了 Entity Tag。移除了，就总是 200 OK (from cache)。没有移除，就两者交替出现。 最近在做<a href="http://ce.baidu.com/" title="百度云观测 - 百度旗下网站云监测平台|免费安全检测|网站测速|漏洞扫描|网站检测" target="_blank" rel="noopener">百度云观测</a>的 nginx 配置优化。从知乎上看到这个问题：“<a href="http://www.zhihu.com/question/28725359" title="阿里云存储如何让浏览器始终以200 (from cache)缓存图片？" target="_blank" rel="noopener">阿里云存储如何让浏览器始终以200 (from cache)缓存图片？</a>”，提问者强调 200 OK (from cache) 和 304 Not Modified 的区别，有感而发。 其实， 200 OK (from cache)  是浏览器没有跟服务器确认，直接用了浏览器缓存；而 304 Not Modified 是浏览器和服务器多确认了一次缓存有效性，再用的缓存。 它们都是在设置了缓存的情况下触发的。 那么，两者触发的时机有什么区别呢？200 OK (from cache) 是直接点击链接访问，输入网址按回车访问也能触发；而 304 Not Modified 是刷新页面时触发，或是设置了长缓存、但 Entity Tags 没有移除时触发。这是经过查阅资料得出的结论。博主实际测试了一下，结论与之相符： [caption id=”attachment_1635” align=”alignnone” width=”639”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/200-ok.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/200-ok.jpg" alt="直接访问有缓存的网站都触发 200 OK (from cache)"></a> 图1 - 直接访问有缓存的网站都触发 200 OK (from cache)[/caption] [caption id=”attachment_1636” align=”alignnone” width=”634”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/304-not-modified.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/304-not-modified.jpg" alt="刷新浏览器会触发 304 Not Modified"></a> 图2 - 刷新浏览器则会触发 304 Not Modified[/caption] [caption id=”attachment_1638” align=”alignnone” width=”410”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/200-with-etag.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/200-with-etag.jpg" alt="同一域名下，没有 Entity Tag 的资源直接访问，是 200 OK (from cache) 的结果"></a> 图3 - 同一域名下，没有 Entity Tag 的资源直接访问，是 200 OK (from cache) 的结果[/caption] [caption id=”attachment_1639” align=”alignnone” width=”406”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/etag-304.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/etag-304.jpg" alt="同一域名下，有 Entity Tag ，直接访问就会触发 304 Not Modified"></a> 图4 - 同一域名下，有 Entity Tag ，直接访问就会触发 304 Not Modified[/caption] 现在一般都会设置长时间的缓存，正确设置方式参考这两篇笔记：</p><ul><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule3.html" title="《High Performance Web Sites》之 Rule 3 读书笔记" target="_blank" rel="noopener">如何正确设置 Expires Header 及其原理</a></li><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-13.html" title="High Performance Web Sites Rule 13" target="_blank" rel="noopener">如何正确移除 Entity Tags 及其原理</a></li></ul><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul><li><a href="http://stackoverflow.com/questions/1665082/http-status-code-200-cache-vs-status-code-304" title="HTTP status code 200 (cache) vs status code 304?" target="_blank" rel="noopener">HTTP status code 200 (cache) vs status code 304? - Stack Overflow</a></li><li><a href="http://www.benhallbenhall.com/2012/03/http-codes-200-from-cache-304/" title="HTTP Codes 200 (from cache) vs 304" target="_blank" rel="noopener">HTTP Codes 200 (from cache) vs 304</a></li></ul><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>搜索了一下，发现这个问题，在网络上并还没有定论，也没发现有人去实测。 想想也对，现在网络那么快，304 Not Modified 还是 200 OK (from cache)，如果不是较真地追求速度，可能大家都觉得区别不大，从而也就没发现这个问题了。 博主截图的域名是某著名 IT 公司的 CDN（已反馈）。可见犯这个错误的运维 GG 还真不少呢！ 本文<strong>并不是</strong>说影响浏览器缓存只有 ETag 这一个因素的意思，请大家不要误解。只是就“<strong>为什么我加了缓存，有的却是 304 Not Modified， 而不是 200 OK(from cache)</strong>”这件事给出一个一针见血的原因和解答。<a href="http://div.io/topic/854" target="_blank" rel="noopener">本文也发在了 div.io 上</a>，详细的 ETag 补充知识可以看 <a href="http://div.io/topic/854#4091" target="_blank" rel="noopener">@hefangshi 补充的评论</a>。</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 前端部署 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> HTTP </tag>
            
            <tag> 200 from cache 304 </tag>
            
            <tag> 200 OK (from cache) </tag>
            
            <tag> 304 Not Modified </tag>
            
            <tag> Entity Tag </tag>
            
            <tag> Expire </tag>
            
            <tag> Expires Header </tag>
            
            <tag> 两者有什么区别 </tag>
            
            <tag> 什么时候触发 </tag>
            
            <tag> 区别 </tag>
            
            <tag> 如何设置 200 OK (from cache) </tag>
            
            <tag> 有什么不同 </tag>
            
            <tag> 缓存 </tag>
            
            <tag> 触发时机 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 第5章 与 HTTP 协作的 Web 服务器</title>
      <link href="/post/chapter-5-of-illustrating-http-notes.html"/>
      <url>/post/chapter-5-of-illustrating-http-notes.html</url>
      <content type="html"><![CDATA[<p>一台 Web 服务器可搭建多个独立域名的 Web 网站，也可作为通信路径上的中转服务器提升传输效率。</p><h2 id="搭建-Web-网站的服务器"><a href="#搭建-Web-网站的服务器" class="headerlink" title="搭建 Web 网站的服务器"></a>搭建 Web 网站的服务器</h2><p>HTTP/1.1 规范允许一台 HTTP 服务器搭建多个 Web 站点。访客通过 DNS 将域名解析成服务器 IP 地址，并访问该 IP 对应的服务器。这时，客户端发送 HTTP 请求会完整指出主机名或域名的 URI，服务器端就知晓具体要的是哪个网站。 [caption id=”attachment_1621” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-e1426166402499.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-e1426166402499-1024x768.jpg" alt="同一台服务器建立多个 Web 网站"></a> 同一台服务器可能建立了多个 Web 网站，所以发 HTTP 请求必须准确指出域名或 IP 地址的 URI[/caption]</p><h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p>接收客户端的请求并转发给服务器，同时也接受服务器返回的响应并转发给客户端。 [caption id=”attachment_1616” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-1-e1426166545862.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-1-e1426166545862-1024x603.jpg" alt="通过代理服务器转发请求或相应的示意图"></a> 通过代理服务器转发请求或相应的示意图[/caption]</p><h3 id="缓存代理"><a href="#缓存代理" class="headerlink" title="缓存代理"></a>缓存代理</h3><p>预先将资源的副本（缓存）保存在代理服务器上，下次同样请求就直接返回缓存的资源。</p><h4 id="缓存服务器"><a href="#缓存服务器" class="headerlink" title="缓存服务器"></a>缓存服务器</h4><p>缓存服务器是缓存代理的一种。优势在于利用缓存可以避免多次从源服务器转发资源。因此客户端可以就近从缓存服务器上获取资源，而源服务器也不必多次处理相同的请求。 [caption id=”attachment_1620” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-5-e1426166605479.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-5-e1426166605479-1024x768.jpg" alt="缓存服务器示意图"></a> 缓存服务器示意图[/caption] 缓存服务器判断缓存失效后，会再次从源服务器上获取新资源。 [caption id=”attachment_1619” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-4-e1426166657937.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-4-e1426166657937-1024x572.jpg" alt="缓存服务器从源服务器更新过期的资源示意图"></a> 缓存服务器从源服务器更新过期的资源示意图[/caption]</p><h3 id="透明代理"><a href="#透明代理" class="headerlink" title="透明代理"></a>透明代理</h3><p>转发请求或响应时，不做任何加工处理。</p><h2 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h2><p>转发其它服务器通信数据给客户端，但不再发客户端的请求转发给其它服务器端。 [caption id=”attachment_1617” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-2-e1426166782989.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-2-e1426166782989-1024x344.jpg" alt="网关原理示意图"></a> 网关原理示意图[/caption]</p><h2 id="隧道"><a href="#隧道" class="headerlink" title="隧道"></a>隧道</h2><p>在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接。隧道不会解析 HTTP 请求，请求会保持原样中转给之后的服务器。隧道的目的是确保客户端与服务器进行安全的通信。 [caption id=”attachment_1618” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-3-e1426166719621.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-3-e1426166719621-1024x389.jpg" alt="隧道示意图"></a> 隧道示意图[/caption]</p><h2 id="客户端缓存"><a href="#客户端缓存" class="headerlink" title="客户端缓存"></a>客户端缓存</h2><p>缓存不仅可以存在于缓存服务器内，还可以存在客户端浏览器中（例如 Internet Explorer 的临时网络文件，Temporary Internet File）。 浏览器判断缓存过期后，会向服务器确认资源的有效性。若浏览器判断缓存失效，浏览器会再次请求新资源。 [caption id=”attachment_1622” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-6-e1426166886808.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/webwxgetmsgimg-6-e1426166886808-1024x768.jpg" alt="浏览器向服务器更新过期客户端缓存"></a> 浏览器向服务器更新过期客户端缓存[/caption]</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> VPS </tag>
            
            <tag> Web服务器 </tag>
            
            <tag> 代理服务器 </tag>
            
            <tag> 客户端缓存 </tag>
            
            <tag> 浏览器缓存 </tag>
            
            <tag> 网关 </tag>
            
            <tag> 虚拟主机 </tag>
            
            <tag> 隧道 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 第4章 返回结果的 HTTP 状态码</title>
      <link href="/post/chapter-4-of-illustrating-http-reading-notes.html"/>
      <url>/post/chapter-4-of-illustrating-http-reading-notes.html</url>
      <content type="html"><![CDATA[<p>状态码如 200 OK，以 3 位数字和原因短语组成。 数字中的第一位指定了响应类别，后两位数字无分类。响应类别有以下 5 种：</p><p>类别</p><p>原因短语</p><p>1XX</p><p>Infomational （信息性状态码）</p><p>接收的请求正在处理</p><p>2XX</p><p>Success （成功状态码）</p><p>请求正常处理完毕</p><p>3XX</p><p>Redirection （重定向状态码）</p><p>需要进行附加操作以完成请求</p><p>4XX</p><p>Client Error（客户端错误状态码）</p><p>服务器无法处理请求</p><p>5XX</p><p>Server Error（服务器错误状态码)</p><p>服务器处理请求出错</p><p>最常用且最具代表性的 14 个状态码如下：</p><h2 id="2XX-成功"><a href="#2XX-成功" class="headerlink" title="2XX 成功"></a>2XX 成功</h2><ul><li>200 OK</li><li>204 No Content</li><li>206 Partial Content</li></ul><p>200 表示从客户端发来的请求在服务器端被正常处理了。 204 一般在不需要对客户端发送新内容的情况下使用。表明服务器接受的请求已经成功处理，但返回的响应报文中不含实体的主体部分； 206 表示服务器成功执行了<a href="https://www.bokeyy.com/post/chapter-3-of-illustrating-http-reading-notes.html#attachment_1596" title="客户端发来的范围请求的例子 | 《图解HTTP》读书笔记 – 第3章 HTTP报文内的 HTTP 信息" target="_blank" rel="noopener">客户端发来的范围请求</a>。响应报文中包含指定范围的实体内容。</p><h2 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX 重定向"></a>3XX 重定向</h2><ul><li>301 Moved Permanently</li><li>302 Found</li><li>303 See Other</li><li>304 Not Modified</li><li>307 Temporary Redirect</li></ul><p>301 表示资源已经分配了新的 URI，以后都应该使用新的 URI。 302 表示资源已经分配了新的 URI，仅仅这次用新的 URI 访问。 303 和 302 一样，只是要求必须用 GET 方法访问新的 URI。 304 和重定向没有关系，也不返回实体，只是表明没有满足请求的附带条件。常见于浏览器判断缓存是否过期。 307 和 302 一样。302 标准禁止 POST 变成 GET，实际大家并不遵守。307 会遵守这个标准，但处理时每种浏览器的行为有所不同。</p><h2 id="4XX-客户端错误"><a href="#4XX-客户端错误" class="headerlink" title="4XX 客户端错误"></a>4XX 客户端错误</h2><ul><li>400 Bad Request</li><li>401 Unauthorized</li><li>403 Forbidden</li><li>404 Not Found</li></ul><p>400 表示请求报文中有语法错误。 401 表示请求需要通过 HTTP 认证。若之前已经进行过一次请求，则表示用户认证失败。 403 表示请求的资源访问被服务器拒绝了。服务器不一定会给出拒绝的详细理由。 404 表示请求的资源不存在。也可以在服务器拒绝请求但不想说明理由的时候使用。</p><h2 id="5XX-服务器错误"><a href="#5XX-服务器错误" class="headerlink" title="5XX 服务器错误"></a>5XX 服务器错误</h2><ul><li>500 Internal Server Error</li><li>503 Service Unavailable</li></ul><p>500 表示服务器在执行请求过程中发生了错误。 503 表示服务器暂时处于超负荷或者停机维护，暂时无法处理请求。</p><h2 id="状态码和状况的不一致"><a href="#状态码和状况的不一致" class="headerlink" title="状态码和状况的不一致"></a>状态码和状况的不一致</h2><p>有时候，不少返回的状态码响应都是错误的，但用户可能察觉不到这点。比如 Web 应用程序内部发生错误，状态码依然返回 200 OK，这种情况也经常遇到。</p><h2 id="改变状态码"><a href="#改变状态码" class="headerlink" title="改变状态码"></a>改变状态码</h2><p>只要遵守状态码类别的定义，即使改变 <a href="http://www.ietf.org/rfc/rfc2616.txt" title="RFC2616 - Hypertext Transfer Protocol -- HTTP/1.1" target="_blank" rel="noopener">RFC2616</a> 中定义的状态码，或服务器自行创建状态码都没有问题。</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP HEAD </tag>
            
            <tag> HTTP 首部 </tag>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> HTTP HEADER </tag>
            
            <tag> HTTP状态码 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 第3章 HTTP报文内的 HTTP 信息</title>
      <link href="/post/chapter-3-of-illustrating-http-reading-notes.html"/>
      <url>/post/chapter-3-of-illustrating-http-reading-notes.html</url>
      <content type="html"><![CDATA[<h2 id="HTTP-报文的组成"><a href="#HTTP-报文的组成" class="headerlink" title="HTTP 报文的组成"></a>HTTP 报文的组成</h2><p>HTTP 报文都分为首部、空行（回车符 + 换行符）和主体三部分。 [caption id=”attachment_1450” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3902_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3902_s-1024x361.jpg" alt="HTTP 报文都由首部、空行和报文主体组成"></a> HTTP 报文都由首部、空行（CR + LF）和报文主体组成[/caption] 其中，HTTP 请求报文和 HTTP 响应报文只是报文首部不同。 [caption id=”attachment_1451” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3903_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3903_s-1024x548.jpg" alt="请求报文（上）和响应报文（下）的结构"></a> 请求报文（上）和响应报文（下）的结构[/caption]</p><h2 id="HTTP-报文的实例"><a href="#HTTP-报文的实例" class="headerlink" title="HTTP 报文的实例"></a>HTTP 报文的实例</h2><p>看一个 HTTP 报文的具体的实际例子，如下图： 起始行是方法（GET）、URI（/） 和协议版本（HTTP/1.1），这是 HTTP 首部必须的字段。 第二行开始是非必需的 HTTP 首部字段（Host、User-Agent 等）。 空一行以后，是 HTTP 请求的内容实体。HTTP 请求的内容实体也是非必需的（本例中就没有）。 HTTP 响应报文和 HTTP 请求报文的区别不大。HTTP 响应报文的起始行是服务器 HTTP 版本（HTTP/1.1）、状态码（200）和状态码原因（OK）的短语。第二行开始和 HTTP 请求报文一样，是非必需的首部和内容实体。 [caption id=”attachment_1453” align=”alignnone” width=”1024”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3904_ss.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3904_ss.jpg" alt="请求报文（上）和响应报文（下）的实例"></a> 请求报文（上）和响应报文（下）的实例[/caption]</p><h2 id="编码传输"><a href="#编码传输" class="headerlink" title="编码传输"></a>编码传输</h2><p>HTTP 报文（message）一般和 HTTP实体（entity)是同一个东西。只有当传输过程中发生编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异。常用的内容编码有：</p><ul><li>gzip (GNU zip)</li><li>compress (UNIX 系统的标准压缩)</li><li>deflate (zlib)</li><li>identity (不进行编码)</li></ul><p>博主见得最多的是 gzip 和 identity 这两种编码。</p><h2 id="分块传输"><a href="#分块传输" class="headerlink" title="分块传输"></a>分块传输</h2><p>在 HTTP 通信过程中，请求的编码实体资源尚未全部传输完成之前，浏览器无法显示请求页面。在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面。 这种把实体主体分块的功能称为分块传输编码（Chunked Transfer Coding）。</p><h2 id="范围请求"><a href="#范围请求" class="headerlink" title="范围请求"></a>范围请求</h2><p>客户端也可以只请求实体的一部分内容，叫做范围请求（Range Request），如下图所示： [caption id=”attachment_1596” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/2141363758-e1425992968304.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/2141363758-e1425992968304-1024x768.jpg" alt="范围请求（Range Request）的例子。客户端用首字段 Range 来指定资源的 byte 范围。"></a> 范围请求（Range Request）的例子。客户端用首字段 Range 来指定资源的 byte 范围。[/caption]</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> entity </tag>
            
            <tag> HTTP HEADER </tag>
            
            <tag> HTTP实体 </tag>
            
            <tag> HTTP报文 </tag>
            
            <tag> message </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 – 第2章 简单的 HTTP 协议</title>
      <link href="/post/chapter-2-of-illustrating-http-reading-notes.html"/>
      <url>/post/chapter-2-of-illustrating-http-reading-notes.html</url>
      <content type="html"><![CDATA[<p>HTTP 规定，请求由客户端发出。 客户端发出请求报文，服务器发出响应报文，如下图： [caption id=”attachment_1447” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3890_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3890_s-1024x560.jpg" alt="HTTP 请求具体示例 - 客户端发出 HTTP 报文，服务器端也响应一份报文"></a> HTTP 请求具体示例 - 客户端发出 HTTP 报文，服务器端也响应一份报文[/caption] HTTP 请求报文中，使用不同的方法（Method）可以用以告知服务器意图。例如 GET 是获取， PUT 是上传，DELETE 是删除，OPTIONS 是询问支持的方法， TRACE 是追踪路径等。具体可以看下图中的表格： [caption id=”attachment_1454” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3899_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3899_s-1024x668.jpg" alt="HTTP/1.0 和 HTTP/1.1 支持的方法HTTP/1.0 和 HTTP/1.1 支持的方法"></a> HTTP/1.0 和 HTTP/1.1 支持的方法[/caption] HTTP 协议是不保存状态的协议，如下图所示： [caption id=”attachment_1448” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3898_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3898_s-1024x451.jpg" alt="HTTP 协议自身不具备保存之前发送过的请求或响应的功能"></a> HTTP 协议自身不具备保存之前发送过的请求或响应的功能[/caption] HTTP 协议是不保存状态的协议，因此引入了 Cookie 技术。服务器端可以往客户端浏览器写 Cookie，客户端会自动在<strong>每次请求时都往服务器发这个 Cookie</strong>。 最初的 HTTP 协议是每进行一次 HTTP 通信就要断开一次 TCP 连接。由于 TCP 协议的（<a href="https://www.bokeyy.com/post/chapter-1-of-illustrating-http-reading-notes.html#attachment_1446" title="TCP 的三次握手示意图 | 《图解HTTP》读书笔记 – 第2章 简单的 HTTP 协议" target="_blank" rel="noopener">三次握手</a>等）保证可靠性的机制，很多时间浪费在连接和断开上了。 这个问题的解决方案是持久连接（HTTP Persistent Connections，也称为 HTTP keep-alive 或 HTTP connecttion reuse）的方法。其特点是，只要任意一端没有明确提出断开连接，则保持 TCP 连接状态。HTTP/1.1 中，所有的连接默认都是持久连接，但在 HTTP/1.0 内未标准化。现在的服务器端基本都是 HTTP/1.1 了。除了服务器端，客户端也需要支持持久连接。 持久连接还使得管线化（pipelining）方式发送成为可能。从前发送一个请求需等待并收到响应，才能发送下一个请求。管线化出现后，不用等待响应便可发送下一个请求。 还是上图说明持久连接和管线化，如下： [caption id=”attachment_1575” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/1028214295-e1425988825511.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/1028214295-e1425988825511-1024x768.jpg" alt="早期的HTTP协议中，每次都要断开TCP连接"></a> 早期的HTTP协议中，每次都要断开TCP连接[/caption][caption id=”attachment_1574” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/1187406125.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/1187406125-768x1024.jpg" alt="早期的HTTP协议中，每次都要断开TCP连接。增加通信量的开销。"></a> 早期的HTTP协议中，每次都要断开TCP连接。增加通信量的开销。[/caption][caption id=”attachment_1573” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/2049448872-e1425988960622.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/2049448872-e1425988960622-1024x768.jpg" alt="持久连接旨在建立1次TCP连接后进行多次请求和响应的交互"></a> 持久连接旨在建立1次TCP连接后进行多次请求和响应的交互[/caption][caption id=”attachment_1572” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2015/03/1913133275-e1425989015513.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2015/03/1913133275-e1425989015513-1024x768.jpg" alt="管线化连接不用等待响应，直接发送下一个请求。效率大大提升。"></a> 管线化连接不用等待响应，直接发送下一个请求。效率大大提升。[/caption]</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cookie </tag>
            
            <tag> HTTP </tag>
            
            <tag> 图解HTTP </tag>
            
            <tag> Method </tag>
            
            <tag> TCP协议 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 第1章 了解 Web 及网络基础</title>
      <link href="/post/chapter-1-of-illustrating-http-reading-notes.html"/>
      <url>/post/chapter-1-of-illustrating-http-reading-notes.html</url>
      <content type="html"><![CDATA[<p>如图所示，每个 HTTP 传输都要<strong>依次</strong>经过<strong>应用层</strong>、<strong>传输层</strong>、<strong>网络层</strong>、<strong>链路层</strong>、（传输目标的）<strong>链路层</strong>、（传输目标的）<strong>网络层</strong>、（传输目标的）<strong>传输层</strong>和（传输目标的）的<strong>应用层</strong>。HTTP 协议处于应用层。 [caption id=”attachment_1443” align=”alignnone” width=”474” class=”noalign”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3881_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3881_s-1024x1024.jpg" alt="TCP/IP通信传输流  - 发送端每到一层，会打上相应层的首部，而接收端每到一层，会去掉"></a> TCP/IP通信传输流  - 发送端每到一层，会打上相应层的首部，而接收端每到一层，会去掉[/caption] 如图，传输层（TCP 协议）将 HTTP 请求报文进行分割后转发给网络层（IP 协议），网络层加上目的地的 MAC 地址后转发给链路层（连接网络的硬件部分）。 最后，本章依次介绍了 TCP 协议（如下图）、DNS 服务 、 URI  和 URL。其中 TCP 协议提供可靠的字节流服务，会确保对方收到数据。 [caption id=”attachment_1446” align=”alignnone” width=”474”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3882_s.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/11/IMG_3882_s-1024x704.jpg" alt="TCP 协议的三次握手 - 用以确认数据传输正确，会重试到完整地完成为止"></a> TCP 协议的三次握手 - 用以确认数据传输正确，会重试到完整地完成为止[/caption]</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP协议 </tag>
            
            <tag> TCP/IP </tag>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《图解HTTP》读书笔记 - 前言</title>
      <link href="/post/preface-of-illustrating-http-reading-notes.html"/>
      <url>/post/preface-of-illustrating-http-reading-notes.html</url>
      <content type="html"><![CDATA[<p>今年初买了那本特别厚的《HTTP权威指南》。嗯，你没猜错，我没怎么看。 相比之下，这次买的《图解HTTP》图文并茂，平实易懂，旨在让读者对 HTTP 协议形成一个整体概念。全书 250 页，一周读完。 HTTP协议本身并不复杂，理解起来也不会花费太多学习成本，但纯概念式的学习稍显单调。 然而，在 Web 开发的过程中，不可避免会用到 HTTP 协议各方面知识。 <strong>并且，它的细节无法通过查阅资料立刻领会到。如果没有常年的积累，需要靠扎实的基础。</strong></p><h2 id="读书笔记-目录"><a href="#读书笔记-目录" class="headerlink" title="读书笔记 - 目录"></a>读书笔记 - 目录</h2><ul><li><a href="https://www.bokeyy.com/post/chapter-1-of-illustrating-http-reading-notes.html" title="《图解HTTP》读书笔记 – 第1章 了解 Web 及网络基础" target="_blank" rel="noopener">第1章 了解 Web 及网络基础</a></li><li><a href="https://www.bokeyy.com/post/chapter-2-of-illustrating-http-reading-notes.html" title="《图解HTTP》读书笔记 – 第2章 简单的 HTTP 协议" target="_blank" rel="noopener">第2章 简单的 HTTP 协议</a></li><li><a href="https://www.bokeyy.com/post/chapter-3-of-illustrating-http-reading-notes.html" title="《图解HTTP》读书笔记 – 第3章 HTTP报文内的 HTTP 信息" target="_blank" rel="noopener">第3章 HTTP报文内的 HTTP 信息</a></li><li><a href="https://www.bokeyy.com/post/chapter-4-of-illustrating-http-reading-notes.html" title="《图解HTTP》读书笔记 – 第4章 返回结果的 HTTP 状态码" target="_blank" rel="noopener">第4章 返回结果的 HTTP 状态码</a></li><li><a href="https://www.bokeyy.com/post/chapter-5-of-illustrating-http-notes.html" title="《图解HTTP》读书笔记 – 第5章 与 HTTP 协作的 Web 服务器" target="_blank" rel="noopener">第5章 与 HTTP 协作的 Web 服务器</a></li></ul><p>阅读本书，其实是一个认识 HTTP 协议局限性的过程。<strong>读完才知道互联网上为什么做一些性能优化的背后原理，才知道为什么 Google 要出 SPDY 协议，才知道 HTTP/2.0 好在哪里。</strong>HTTP/2.0 已经出了。新的浏览器已经支持了。就让本系列读书笔记权当抛砖引玉吧！ 如果可能，博主希望读书笔记完结后，再出一篇 HTTP/2.0 的变动和总结的小文章。</p>]]></content>
      
      <categories>
          
          <category> HTTP协议 </category>
          
          <category> 图解HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP协议 </tag>
            
            <tag> 图解HTTP </tag>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>纪念小舅舅</title>
      <link href="/post/1527.html"/>
      <url>/post/1527.html</url>
      <content type="html"><![CDATA[<p>前天晚上，小舅舅在一个平常的不能再平常的晚上，被右后方冲撞他的摩托车撞到颅内出血。 医生来了以后，选择救治那个肇事者，直接放弃了对他的救治。却并没有摸出他身上的手机通知家属，或者摸出他身上的身份证（是的，都在身上放着），而是直接叫人送到了殡仪馆。 后来才得知消息的小舅妈他们在殡仪馆里找了真的好久，才在一个锁着门的角落找到他。那时，已经无法挽回来了。 我如此愤怒。想谴责那个肇事者，更想指责医生的失职：为什么不立刻通知家属！姨妈是医生，姨夫是优秀的外科大夫，如果他们第一时间知晓，也许事情就不会这样！ 可是又突然无力的感觉到，有些事是无法补救的。无论我们再怎么折腾，没有的人终究不会再起死回生。 生命脆弱至此，为什么会是这样的。现在还是不相信，那个带我打游戏的那个小舅舅，再也见不到了呢。这一定不是真的吧！</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>跨浏览器的 Array.prototype.sort 的使用姿势</title>
      <link href="/post/cross-browsers-array-prototype-sort-compare-function-usage.html"/>
      <url>/post/cross-browsers-array-prototype-sort-compare-function-usage.html</url>
      <content type="html"><![CDATA[<p>自定义比较函数时，因为 IE 下方法返回的值必须是 0 , -1 , 1 ，分别对应等于、第一个参数排在前面和第一个参数排在后面的情况。而 chrome 等 webkit 浏览器下是 0 (false) 和 -1 一样，都代表第一个参数排前面。<code>array1.sort();</code> 的默认结果是升序排序。 <code>var a = new Array(4, 11, 2, 10, 3, 1); var b = a.sort(); document.write(b); document.write(&quot;&lt;br&gt;&quot;); // 这是 ASCII 字符顺序. // 输出: 1,10,11,2,3,4 // 按照一个比较数组原书的函数来排序 b = a.sort(CompareForSort); document.write(b); document.write(&quot;&lt;br&gt;&quot;); // Output: 1,2,3,4,10,11. // 自定义升序排序的比较函数 function CompareForSort(first, second) { if (first == second) return 0; if (first &lt; second) return -1; else return 1; } // 升序排序比较函数的简短版本 function CompareForSort(first, second) { return first &lt; second ? -1: 1; }</code></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://msdn.microsoft.com/zh-cn/library/ie/4b4fbfhk(v=vs.94" target="_blank" rel="noopener">sort 方法 (Array) (JavaScript) - Internet Explorer 开发人员中心</a>.aspx)</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> 跨浏览器 </tag>
            
            <tag> 兼容各浏览器 </tag>
            
            <tag> Array.prototype.sort </tag>
            
            <tag> 兼容IE各版本 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>提前还清了助学贷款</title>
      <link href="/post/my-student-loan-has-been-prepayed.html"/>
      <url>/post/my-student-loan-has-been-prepayed.html</url>
      <content type="html"><![CDATA[<p>把助学贷款提前还清了。 粗略算了下，总利息相当于一台 iPhone 6 plus 64G。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>angular.extend 实现解析</title>
      <link href="/post/angular-extend-implement-analyse.html"/>
      <url>/post/angular-extend-implement-analyse.html</url>
      <content type="html"><![CDATA[<p>这是一篇废话，了解的请直接略过。 angular.extend 实现的代码如下：</p><pre><code>/** * @ngdoc function * @name angular.extend * @module ng * @kind function * * @description * Extends the destination object `dst` by copying own enumerable properties from the `src` object(s) * 将一个或多个 src 的 enumerable 属性复制到 dst 对象中。 * to `dst`. You can specify multiple `src` objects. If you want to preserve original objects, you can do so * 若您需要保留最初的 dst 对象，你可以 * by passing an empty object as the target: `var object = angular.extend({}, object1, object2)`. * 传入一个空对象作为 dst 参数： `var object = angular.extend({}, object1, object2)` 。 * Note: Keep in mind that `angular.extend` does not support recursive merge (deep copy). * 注：注意 `angular.extend` 不支持递归复制（deep copy）。 * * @param {Object} dst Destination object. * @参数 {对象} dst 目标对象 * @param {...Object} src Source object(s). * @参数 {一个或多个对象} src 源对象 * @returns {Object} Reference to `dst`. * @返回 {对象} `dst` 目标对象的引用 */function extend(dst) {  var h = dst.$$hashKey;  for (var i = 1, ii = arguments.length; i &lt; ii; i++) {    var obj = arguments[i];    if (obj) {      var keys = Object.keys(obj);  //用 Object.keys 而不是 for in 遍历所有 enumerable 属性，浏览器原生支持到 IE9+      for (var j = 0, jj = keys.length; j &lt; jj; j++) {        var key = keys[j];        dst[key] = obj[key];   //将属性直接用等号赋值过来      }    }  }  setHashKey(dst, h);  //给该  Object 加上 hash 值，方便 angular 快速访问  return dst;  //返回目标对象}</code></pre><h2 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a>拓展阅读</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener">keys - JavaScript | MDN</a></li><li><a href="http://www.cnblogs.com/rubylouvre/archive/2011/12/24/2299860.html" target="_blank" rel="noopener">奇技淫巧之Object.keys - 司徒正美 - 博客园</a></li><li><a href="https://github.com/angular/angular.js/blob/f2b7fffdc0b0ad80cebb24f5fea743e9e4a439d5/src/apis.js#L16" target="_blank" rel="noopener">hashKey - angular.js | GitHub</a></li><li><a href="http://stackoverflow.com/questions/12336897/how-to-loop-through-items-returned-by-a-function-with-ng-repeat" target="_blank" rel="noopener">How to Loop through items returned by a function with ng-repeat?</a></li></ul>]]></content>
      
      <categories>
          
          <category> AngularJS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angularjs.extend </tag>
            
            <tag> extend </tag>
            
            <tag> for in </tag>
            
            <tag> JavaScript </tag>
            
            <tag> object.keys </tag>
            
            <tag> 代码解析 </tag>
            
            <tag> 实现原理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>工作四年半的财务总结</title>
      <link href="/post/finacial-review-for-last-4-5-years.html"/>
      <url>/post/finacial-review-for-last-4-5-years.html</url>
      <content type="html"><![CDATA[<p><em>本文首发于随手记社区 <a href="http://bbs.feidee.com/thread-385764-1-1.html" target="_blank" rel="noopener">http://bbs.feidee.com/thread-385764-1-1.html</a></em> 楼主毕业于2010年7月，到现在已经四年又四个月了。坚持记账两年零一个月，总结一下自己的转变吧！ 楼主2006年9月到2010年7月在助学贷款和亲朋好友的资助下，读完了人生中唯一一次的高等教育。2010年11月找到第一份工作，是个推销员，每天去高校和研究所上门推销实验仪器，试用期无提成，月薪 ￥1500，同时开始财务独立。微薄的薪水加上穷怕了，现在终于可以自己买买买了，每个月剩下的几百块都基本挥霍干净了。比如 ￥45 的牛排套餐啦， ￥50 包邮的两双小粉鞋啦， ￥150 一次的写真啦，再拍一次又是 ￥350 啦，哎呀上次那个牛排好好吃真的想吃再去吃一次吧又是 ￥45 没有了。当然同时我有兼考北京大学的研，甚至在只干了三个月就离职专心考研，最后是没考上。 考研落榜以后，2011年3月我换到了一家小的软件公司，担任前端开发。公司给了我作为一个普通入门级研发人员的薪水，￥2500。没有五险一金，但是有“三险”，不记得是哪三险了。现在想想，或许我的档案就丢在这家公司了吧！这家小公司并没有给我特别愉快的回忆。但起决定作用的是，我每天中午午休时都会惊醒，害怕自己没有梦想，就留在这么个什么都不是的小地方挥霍掉了所有青春。于是我偷偷面试，入职三个月后就跳槽去了北京一家知名互联网公司，薪水税后将近 ￥6500，什么福利都齐全。 北京的同事很好，在我尚未入职前，就特意找了一位性格很好的女生跟我共享她的租房，还帮我找好了房子，月租 1300 元。但由于来北京前我依然继续买买买，付完上次面试的往返路费、住宿费，和这次的路费，刚刚到北京的我竟然交不起押一付三的房租外加一个月的中介费。我只得不顾好心的女生的询问，拒绝了那间租房，却怎么也不敢承认其实是自己钱不够了。那位女生也是付出了诸般辛苦才帮我找好房子，还一直在照顾我，后来应该是大为伤心吧。后来我自己去找房子，还是很难付得起房租。这时还是靠当初读大学时帮助我的亲戚，大约他能千里之外猜到我的窘境，主动来救济了我好几千块钱，我才得以顺利在月租 ￥1050 的老旧宿舍里住下来。 理想就是离乡，23岁的我离家千里来到从未踏足的北方，却没有特别多的愁肠，反而所想到的第一件事，还是买买买……所以我几乎是带着月光族的理念在生活。北京的消费高多了，￥3000 的理发店六折卡，￥1200 的杂牌外套和毛毛靴子，￥600 一套的白色小裙子，￥500 一套的品味很差的披肩和吊带，￥2500 的黑眼圈浓烈烟熏妆写真，再来套小清新的又是 ￥1650，很久没拍了再拍次吧又是 ￥1700……到2012年12月，工作已经两年半，在北京一年半的我薪水也有所增加。加上公司年终和季度末都有奖金，我终于算是走上一条不那么穷的道路了。但是在接触随手记的时候，我银行卡里的现金还不到三万块。 我妈这时候适时的出来提醒，跳槽一年半了，却连每个月 3000 块都存不下来，工资没我高的人早就存下比我多的多的钱了！！一言惊醒梦中人，从此我开始记账。 自从开始记账，就像每天写理财日记一样。虽然账本看起来毫无价值，但还是能毫无遗漏的发现不理性的消费。那时由于北京房租疯涨，加上原租的房子装修，我的房租涨到了 ￥1900 每月，而且在接下来的几年里一直升高。自从开始记账，我发现北京五道口的生活成本真的很高。每月房租自不用说，随便一份油腻腻的盒饭动则 ￥20 起，晚饭和午饭一样，早餐至少￥6，稍微一下馆子或是聚餐就是一顿 ￥50 ，以至于每个月光吃住就要花掉 ￥3500 以上。加上女生要买的衣服、鞋子、屈臣氏卖的廉价保湿水、美容费，一年一到二次的旅游（已经很节约了）的花费更是可想而知，每个月想要存下 3000 块根本是不可能的目标。不过还好，至少记账让我认清了这个事实，并且尽量的接近这个目标了。 和论坛里的大部人一样，我也开始看理财书籍，了解一些金融常识，并且开始试着投资。然而最后工作压力大的我还是基本上是分拆开投进了各种余额宝里面。也瞎蒙投资过两万块的纸黄金，套了一年才略赚了六百块钱，其实还不如存余额宝呢！但利息的收入无论怎样，都是杯水车薪。<strong>尝试了那么多的弯路，依然不得不承认，对于楼主这样的尚在努力用青春换明天的年轻人，只有努力投资自己，提高收入，才是让资本如愿增值的唯一有效途径。</strong>可能股市和期货市场确实有很多机遇成本，但是这世上永远有输家，而在外拼搏、没有多少精力他顾的年轻人或许真的无法以散户的螳螂臂去抢专业投资者的钱。也许这种有亏有赚，短期看来是大亏，长期看来确实可能赚更多的投资，还是比较适合教育基金、养老基金这类的长线吧？ 2014年5月，有了异地男盆友的楼主跳槽去了男盆友所在城市的另一家大型互联网公司，大约涨薪 20-30%。2014年11月13日，楼主理了一下账本，除公积金外，所有账户的钱加起来约 14W 人民币，还多少归功于有男盆友后省了不少花费。然而研究生毕业，才工作两年半的楼主的男盆友，从不研究理财书、只会把钱存在余额宝，自称涨工资才是理财的最好办法的人，资产早已远远超过了楼主。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT互联网行业 </tag>
            
            <tag> 个人提升 </tag>
            
            <tag> 日记 </tag>
            
            <tag> 薪水 </tag>
            
            <tag> 财务总结 </tag>
            
            <tag> 跳槽涨工资 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>双十一剁手总结</title>
      <link href="/post/money-report-for-2014-11-11.html"/>
      <url>/post/money-report-for-2014-11-11.html</url>
      <content type="html"><![CDATA[<p>总之一句话，就是本人或可靠的朋友没有见过实物的不要买！统统都得退！！要么就是想退退不了！！</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>怎样制作中间镂空的遮罩</title>
      <link href="/post/html-css-pierced-mask.html"/>
      <url>/post/html-css-pierced-mask.html</url>
      <content type="html"><![CDATA[<h2 id="SVG-版"><a href="#SVG-版" class="headerlink" title="SVG 版"></a>SVG 版</h2><p>最方便，兼容性最好的办法。方便镂空多个洞。代码来自 <a href="http://www.zhoumingzhi.com" target="_blank" rel="noopener">www.zhoumingzhi.com</a></p><h3 id="镂空一个洞的代码"><a href="#镂空一个洞的代码" class="headerlink" title="镂空一个洞的代码"></a>镂空一个洞的代码</h3><p>`  </p><p><div id="container" style="position: relative; margin: 550px 0 0 50px;">  </div></p><p><svg style="position: absolute;" width="400" height="280">  </svg></p><p><defs>  </defs></p><p><mask id="mask3">  </mask></p><p><rect x="0" y="0" width="100%" height="100%" style="stroke:none; fill: #ccc"></rect>  </p><p><circle id="circle1" cx="100" cy="100" r="50" style="fill: #000"></circle><br><br>  </p><p><rect x="0" y="0" width="100%" height="100%" style="stroke: none; fill: #ccc; mask: url(#mask3)"></rect><br><br><img src="http://img6.cache.netease.com/cnews/2014/11/3/20141103100737855b7.jpg"><br><br>`</p><h3 id="镂空多个洞的代码"><a href="#镂空多个洞的代码" class="headerlink" title="镂空多个洞的代码"></a>镂空多个洞的代码</h3><p>`  </p><p><div id="container" style="position: relative;">  </div></p><p><svg style="position: absolute;" width="400" height="280">  </svg></p><p><defs>  </defs></p><p><mask id="mask3">  </mask></p><p><rect x="0" y="0" width="100%" height="100%" style="stroke:none; fill: #ccc"></rect>  </p><p><circle id="circle1" cx="100" cy="50" r="50" style="fill: #000"></circle>  </p><p><circle id="circle1" cx="300" cy="100" r="50" style="fill: #000"></circle>  </p><p><circle id="circle1" cx="100" cy="200" r="50" style="fill: #000"></circle><br><br>  </p><p><rect x="0" y="0" width="100%" height="100%" style="stroke: none; fill: #ccc; mask: url(#mask3)"></rect><br><br><img src="http://img6.cache.netease.com/cnews/2014/11/3/20141103100737855b7.jpg"><br>`</p><h2 id="Canvas-版"><a href="#Canvas-版" class="headerlink" title="Canvas 版"></a>Canvas 版</h2><p>当镂空的形状比较复杂时，用 Canvas 的 globalCompositeOperation 是最终极的办法。当然 Canvas 也会有兼容性问题。</p><h2 id="CSS-clip-版"><a href="#CSS-clip-版" class="headerlink" title="CSS clip 版"></a>CSS clip 版</h2><p>优点是所有浏览器都支持。缺点是更像是裁剪，只能遮罩特定的对象，而且只能镂空一个洞。</p><h3 id="CSS-代码"><a href="#CSS-代码" class="headerlink" title="CSS 代码"></a>CSS 代码</h3><p><code>#img1 { position:absolute; clip:rect(0px 50px 200px 0px) }</code></p><h3 id="HTML-代码"><a href="#HTML-代码" class="headerlink" title="HTML 代码"></a>HTML 代码</h3><p><code>&lt;img border=&quot;0&quot; id=&quot;img1&quot; src=&quot;/i/eg_bookasp.gif&quot; width=&quot;120&quot; height=&quot;151&quot;&gt;</code></p><h2 id="webkit-mask-版"><a href="#webkit-mask-版" class="headerlink" title="-webkit-mask 版"></a>-webkit-mask 版</h2><p>有前缀，而且其作用就是相当于在上面盖了一个图片，鸡肋一样的属性。如果直接盖一个图片的话，可以兼容所有场景和所有浏览器。-webkit-mask 实例代码来自 <a href="http://webengine.sinaapp.com/jian/" target="_blank" rel="noopener">http://webengine.sinaapp.com/jian/</a> <code>{ -webkit-mask: url(http://webengine.sinaapp.com/jian/images/mask.png) no-repeat center -10px; -webkit-mask-size: 500px 750px; }</code></p><h2 id="CSS3-版"><a href="#CSS3-版" class="headerlink" title="CSS3 版"></a>CSS3 版</h2><p>用 box-shadow ，代码如下： <code>position: fixed; left: 150px; top: 35px; width: 100px; height: 100px; border-radius: 100px; box-shadow: rgba(0,0,0,.8) 0px 0px 0px 2005px; z-index: 100;</code> 缺点是只能镂空一个洞。</p><h2 id="IE8-及以下的传统版"><a href="#IE8-及以下的传统版" class="headerlink" title="IE8 及以下的传统版"></a>IE8 及以下的传统版</h2><p>有点是兼容性最强，形式随意，可以镂空任意个洞。缺点是给人感觉这种工作很 low，而且事实上确实乏味、辛苦而又没有技术含量。 在镂空区域的左、上、右、下分别放一个半透明 div 作为遮罩。 div 背景用滤镜半透明， IE7+ 可以用 png8 半透明图片来代替。</p>]]></content>
      
      <categories>
          
          <category> HTML5 </category>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> CSS3 </tag>
            
            <tag> HTML5 </tag>
            
            <tag> box-shadow </tag>
            
            <tag> canvas </tag>
            
            <tag> filter </tag>
            
            <tag> frontend </tag>
            
            <tag> IE8 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>博客链接保持不变的重要性和实现方法</title>
      <link href="/post/importance-of-permanent-blog-links.html"/>
      <url>/post/importance-of-permanent-blog-links.html</url>
      <content type="html"><![CDATA[<ol><li>方便多年后外链自己的文章链接依然可用；</li><li>积累 SEO 权重，减少被浏览器标为 404 的概率；</li><li>方便外界盗图后图片依然可以访问；</li><li>方便收藏者有需要时可以找回原文和最新评论；</li></ol><h2 id="实现手段"><a href="#实现手段" class="headerlink" title="实现手段"></a>实现手段</h2><ol><li>注册一个自己的域名；</li><li>每次更换博客依然绑定原来的域名，并保持旧文章访问地址不变。</li><li>将 “www.你的域名/路径” 和 “你的域名/路径” 的其中一种设置 302 跳转到另外那种。</li></ol><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>此文是对我至今不转换成 Ghost 博客的借口——固定链接无法保持。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 为什么要有自己的域名 </tag>
            
            <tag> 做好博客SEO要注意的细节 </tag>
            
            <tag> 写博客要注意什么 </tag>
            
            <tag> 独立博客的好处 </tag>
            
            <tag> 独立博客的注意事项 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译]修复 Nginx 和 PHP-FPM 之间的超时问题</title>
      <link href="/post/fixing-timeout-between-nginx-and-php-fpm.html"/>
      <url>/post/fixing-timeout-between-nginx-and-php-fpm.html</url>
      <content type="html"><![CDATA[<p>本文是 <a href="https://www.tekovic.com/fixing-timeout-between-nginx-and-php-fpm" target="_blank" rel="noopener">《Fixing timeout between Nginx and PHP-FPM》</a> 的译文。 =======译文开始======== 若你使用 Nginx 作为 PHP-FPM 的反向代理，且你的 PHP 脚本很复杂或者很慢，需要运行很久，很可能就会看到 504 gateway time-out 错误。这是个很常见的错误，但是大多数情况下人们会找错解决问题的地方，他们不知道怎么找到哪个超时 directive 是正确的、符合他们的情景的。</p><p><a href="https://www.bokeyy.com/wp-content/uploads/2014/10/sysadmin-meme.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/10/sysadmin-meme.jpg" alt="原文配图：花五小时修复超时程序，不如用一个 directive 立即解决"></a></p><p>原文配图：花五小时修复超时程序，不如用一个 directive 立即解决</p><p>我看见很多人拼命的试验 proxy_read_timeout, send_timeout, 甚至 client_header_timeout 和client_body_timeout 的 directive，但如果他们瞥一眼 Nginx 的 error_log，会看到一条类似这样的错误： <code>2013/01/19 11:36:59 [error] 14564#0: *1215 upstream timed out (110: Connection timed out) while reading response header from upstream, client: 123.456.789.123, server: example.com, request: &quot;POST /path/to/some/script.php HTTP/1.1&quot;, upstream: &quot;fastcgi://127.0.0.1:9000&quot;, host: &quot;example.com&quot;, referrer: &quot;http://example.com/&quot;</code> 这条错误清楚的陈述了 Nginx 和 upstream 服务之间的连接超时这件事。在此这个 upstream 服务是 PHP-FPM，但也可以是任何 FastCGI 服务在读响应头时出错。若你据此稍加分析，就不会没找到 <a href="http://wiki.nginx.org/HttpFastcgiModule#fastcgi_read_timeout" target="_blank" rel="noopener">fastcgi_read_timeout</a> 这个 directive。浏览文档，看看它是做什么：</p><blockquote><p>设置 upstream 等待 FastCGI 进程发送数据的时长的 directive 。若你有长时间运行、若非结束不输出结果的 FastCGI 进程，修改这个 directive。若你在错误日志中看到 upstream 超时错误，那么增加这个参数到某个更合适的值。</p></blockquote><p>所以，在 http, server 或者 location 的 { 和 } 之间加上这个 directive 并赋予足够高的数值是明智之举，例如： <code>location ~* .php$ { include fastcgi_params; fastcgi_index index.php; fastcgi_read_timeout 120; fastcgi_pass 127.0.0.1:9000; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; }</code> =======译文结束======= 看到这篇文章是因为 <a href="http://www.yymwz.com/" target="_blank" rel="noopener">www.yymwz.com</a> 国庆期间莫名其妙 504 gateway time-out 了四天，还顺带连累了同一个服务器上的本站一起 504 了。重启服务什么的都不行。搜索了下，叫我用什么 directive 的都有，而且都号称能解决问题，当然总不见效。最后还是按照这篇文章得到解决。修改了 fastcgi_read_timeout 的 directive 以后，mysql 被拖垮了一次，重启后就正常了，昨天那么久只挂了两次，已经好多了。 不过为什么 PHP 脚本会突然超时，博主我依然是百思不得其解的说。待后续吧。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> Directive </tag>
            
            <tag> 110: Connection timed out </tag>
            
            <tag> 504 gateway time-out </tag>
            
            <tag> php-pfm </tag>
            
            <tag> solution </tag>
            
            <tag> upstream timed out </tag>
            
            <tag> 解决 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译]简单实现 Angular-UI Bootstrap 的一个 alert service</title>
      <link href="/post/angular-ui-bootstrap-alert-service-for-angular-js.html"/>
      <url>/post/angular-ui-bootstrap-alert-service-for-angular-js.html</url>
      <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>本文阐述 AngularJS 的 Bootstrap alert service 的简单实现方法，不依赖 jQuery，原文地址 <a href="https://coderwall.com/p/r_bvhg" title="Angular-UI Bootstrap alert service for Angular.js" target="_blank" rel="noopener">https://coderwall.com/p/r_bvhg</a> 。<strong>本文应该可以看作“一分钟入门 AngularJS Service 开发”，故转载并翻译之。</strong></p><h2 id="译文"><a href="#译文" class="headerlink" title="译文"></a>译文</h2><p><a href="http://angular-ui.github.com/bootstrap/" target="_blank" rel="noopener">Angular-UI Bootstrap</a> 提供了不少流行的 Bootstrap 组件的 AngularJS directive（可显著降低代码量）。若您计划在您的 Angular App 中使用任何 Bootstrap 组件，强烈推荐您关注一下。它意味着直接包含 Bootstrap 的组件就能正确运行。 Service 用来在 controllers 之间共享代码。将代码从 controller 移出到 service，alert 是个正面的示例。 The Angular-UI Bootstrap 文档提供了如下例子:</p><h3 id="VIEW"><a href="#VIEW" class="headerlink" title="VIEW"></a>VIEW</h3><pre><code>&lt;div ng-controller=&quot;AlertDemoCtrl&quot;&gt;  &lt;alert ng-repeat=&quot;alert in alerts&quot; type=&quot;alert.type&quot; close=&quot;closeAlert($index)&quot;&gt;{ {alert.msg}}&lt;/alert&gt;  &lt;button class=&apos;btn&apos; ng-click=&quot;addAlert()&quot;&gt;Add Alert&lt;/button&gt;&lt;/div&gt;</code></pre><h3 id="CONTROLLER"><a href="#CONTROLLER" class="headerlink" title="CONTROLLER"></a>CONTROLLER</h3><pre><code>function AlertDemoCtrl($scope) {  $scope.alerts = [    { type: &apos;error&apos;, msg: &apos;Oh snap! Change a few things up and try submitting again.&apos; },     { type: &apos;success&apos;, msg: &apos;Well done! You successfully read this important alert message.&apos; }  ];  $scope.addAlert = function() {    $scope.alerts.push({msg: &quot;Another alert!&quot;});  };  $scope.closeAlert = function(index) {    $scope.alerts.splice(index, 1);  };}</code></pre><p>由于需要在 App 的不同 controller 里创建 alert，而代码在 controllers 之间互相引用又是个不良的编程习惯，所以我们得把它变成一个 service。</p><h3 id="alertService"><a href="#alertService" class="headerlink" title="alertService"></a>alertService</h3><pre><code>&apos;use strict&apos;;/* services.js */// don&apos;t forget to declare this service module as a dependency in your main app constructor!var appServices = angular.module(&apos;appApp.services&apos;, []);appServices.factory(&apos;alertService&apos;, function($rootScope) {    var alertService = {};    // create an array of alerts available globally    $rootScope.alerts = [];    alertService.add = function(type, msg) {      $rootScope.alerts.push({&apos;type&apos;: type, &apos;msg&apos;: msg});    };    alertService.closeAlert = function(index) {      $rootScope.alerts.splice(index, 1);    };    return alertService;  });</code></pre><h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>这些标签也许会在您的 index.html 里，或者从一个头文件被包含过来。</p><pre><code>&lt;div&gt;  &lt;alert ng-repeat=&quot;alert in alerts&quot; type=&quot;alert.type&quot; close=&quot;closeAlert($index)&quot;&gt;{ { alert.msg }}&lt;/alert&gt;&lt;/div&gt;</code></pre><p>最后，我们需要将 alertService 的 closeAlert() 方法绑定到 $globalScope 里。</p><h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><pre><code>function RootCtrl($rootScope, $location, alertService) {  $rootScope.changeView = function(view) {    $location.path(view);  }  // root binding for alertService  $rootScope.closeAlert = alertService.closeAlert; }RootCtrl.$inject = [&apos;$scope&apos;, &apos;$location&apos;, &apos;alertService&apos;];</code></pre><p>我对这个绑定并不完全满意，希望能够直接从 html 标签直接调用这个 service 的 closeAlert 方法，但是还没发现怎么实现。 现在创建一个 alert 只需从任何一个 controller 调用 alertService.add() 即可。</p><pre><code>function ArbitraryCtrl($scope, alertService) {  alertService.add(&quot;warning&quot;, &quot;This is a warning.&quot;);  alertService.add(&quot;error&quot;, &quot;This is an error!&quot;);}</code></pre><p>任何人有什么改进，请<a href="https://coderwall.com/p/r_bvhg" target="_blank" rel="noopener">留言</a>。希望此文是篇有用的 Angular.js service 介绍文。 <em>译者：留言里真的有改进和实现方法，译者总结如下：</em> <a href="https://coderwall.com/jwickers" target="_blank" rel="noopener">jwickers</a>:以下代码无须注入到 controller 中就能运行。想从 html 标签中直接调用 closeAlert 方法只需增加一个 close 方法到 alert 对象中。 <a href="https://coderwall.com/sur" target="_blank" rel="noopener">sur</a>:我也添加了一个 clear 函数到 Alert Service 里面，这样只需调用 AppAlert.clear() 就能一键删掉所有的 alert。 译者：用 $sce 和 ng-bind-html 配合使用，可以使消息支持 html，须包含 <a href="https://code.angularjs.org/1.2.22/angular-route.min.js" title="AngularJs Router v1.2.22 Minified" target="_blank" rel="noopener">AngularJS Router 文件</a>。若不需要可以自行删掉调用了 $sce 的部分，一样可以正常运行。</p><h3 id="alertService-1"><a href="#alertService-1" class="headerlink" title="alertService"></a>alertService</h3><pre><code>.factory(&apos;AppAlert&apos;, [      &apos;$rootScope&apos;, &apos;$timeout&apos;, &apos;$sce&apos;, function($rootScope, $timeout, $sce) {         var alertService;        $rootScope.alerts = [];        return alertService = {          add: function(type, msg, timeout) {            $rootScope.alerts.push({              type: type,              msg: $sce.trustAsHtml(msg),              close: function() {                return alertService.closeAlert(this);              }            });            if (timeout) {                 $timeout(function(){                     alertService.closeAlert(this);                 }, timeout);             }          },          closeAlert: function(alert) {            return this.closeAlertIdx($rootScope.alerts.indexOf(alert));          },          closeAlertIdx: function(index) {            return $rootScope.alerts.splice(index, 1);          },          clear: function(){            $rootScope.alerts = [];          }        };      }    ]);</code></pre><h3 id="View-1"><a href="#View-1" class="headerlink" title="View"></a>View</h3><pre><code>&lt;alert ng-repeat=&quot;alert in alerts&quot; type=&quot;{ {alert.type}}&quot; close=&quot;alert.close()&quot;&gt;&lt;span ng-bind-html=&quot;alert.msg&quot;&gt;&lt;/span&gt;&lt;/alert&gt;</code></pre><h2 id="原文地址"><a href="#原文地址" class="headerlink" title="原文地址"></a>原文地址</h2><p><a href="https://coderwall.com/p/r_bvhg" title="Angular-UI Bootstrap alert service for Angular.js" target="_blank" rel="noopener">Angular-UI Bootstrap alert service for Angular.js</a></p><h2 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a>拓展阅读</h2><p><a href="http://stackoverflow.com/questions/15666048/angular-js-service-vs-provider-vs-factory" title="Angular.js ： service ， provider ，还是 factory？" target="_blank" rel="noopener">Angular.js: service vs provider vs factory?</a></p>]]></content>
      
      <categories>
          
          <category> AngularJS </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AngularJS </tag>
            
            <tag> JavaScript </tag>
            
            <tag> Directive </tag>
            
            <tag> 一分钟入门 AngularJS Directive 开发 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Apache 配置某个路径的反向代理</title>
      <link href="/post/apache-reverse-proxy-for-specific-location.html"/>
      <url>/post/apache-reverse-proxy-for-specific-location.html</url>
      <content type="html"><![CDATA[<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><pre><code>&lt;virtualhost *:【正在监听的端口号】&gt;  ProxyRequest off  &lt;proxy *&gt;    Order deny,allow    Allow from all  &lt;/proxy&gt;  &lt;location 【指定的路径】&gt;    ProxyPass 【代理地址，要带 http://】    ProxyPassReverse  【代理地址，要带 http://】  &lt;/location&gt;&lt;/virtualhost&gt;</code></pre><p>同理还可以用 LocationMatch 等 directive 更灵活的配置。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://httpd.apache.org/docs/2.2/mod/core.html#location" target="_blank" rel="noopener"><location> Directive - core - Apache HTTP Server</location></a></p>]]></content>
      
      <categories>
          
          <category> 前端部署 </category>
          
          <category> 测试工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Apache </tag>
            
            <tag> Location </tag>
            
            <tag> ProxyPass </tag>
            
            <tag> ProxyPassReverse </tag>
            
            <tag> 反向代理 </tag>
            
            <tag> 示例 </tag>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>锁定响应式设计的最小宽度</title>
      <link href="/post/mobile-web-frontend-develop-for-the-first-time.html"/>
      <url>/post/mobile-web-frontend-develop-for-the-first-time.html</url>
      <content type="html"><![CDATA[<p>小于 480 等比缩放，大于 480 自适应布局。 不知道有什么用，大概只有在设计师和 pm 都没想好怎么响应式的时候，给临时没想到的细节作为善后用的吧！</p><pre><code>function effectiveDeviceWidth() {    var deviceWidth = window.orientation == 0 ? window.screen.width : window.screen.height;    // iOS returns available pixels, Android returns pixels / pixel ratio    // http://www.quirksmode.org/blog/archives/2012/07/more_about_devi.html    if (navigator.userAgent.indexOf(&apos;Android&apos;) &gt;= 0 &amp;&amp; window.devicePixelRatio) {        deviceWidth = Math.floor(deviceWidth / window.devicePixelRatio);    }    return deviceWidth;}var viewPortString = effectiveDeviceWidth() &gt; 480 ?&apos;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0&quot; /&gt;&apos;: &apos;&lt;meta name=&quot;viewport&quot; content=&quot;target-densitydpi=device-dpi,width=480,user-scalable=0&quot; /&gt;&apos;;document.write(viewPortString);</code></pre>]]></content>
      
      <categories>
          
          <category> HTML5 </category>
          
          <category> 作品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mediaquery </tag>
            
            <tag> responsive </tag>
            
            <tag> 响应式设计 </tag>
            
            <tag> 响应式设计没设计好怎么补救 </tag>
            
            <tag> 怎么一半响应式设计一半等比缩放 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译]jQuery.isFunction() 和 (typeof variable === &quot;function&quot;) 的区别</title>
      <link href="/post/differences-between-jquery-isfunction-and-typeof-variable-function.html"/>
      <url>/post/differences-between-jquery-isfunction-and-typeof-variable-function.html</url>
      <content type="html"><![CDATA[<p>通常测试一个 JS 对象是否是函数是这样： (typeof fn === ‘function’) 然而，它并不总是有效 (IE8): typeof alert =&gt; ‘object’ typeof document.createElement(‘input’).getAttribute =&gt; ‘object’ jQuery 1.4 之前也使用 typeof 的方法，但后来的版本修复了这个问题。所以想确定传递的对象确实是函数，使用 $.isFunction ： $.isFunction(function() {}) =&gt; true $.isFunction(alert) =&gt; true $.isFunction(document.createElement(‘input’).getAttribute) =&gt; true</p><h2 id="附注"><a href="#附注" class="headerlink" title="附注"></a>附注</h2><p>angularJS 的 angular.isFunction 用的是 typeof fn === ‘function’ 的方式。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://nuald.blogspot.co.uk/2012/07/why-jqueryisfunction.html" target="_blank" rel="noopener">Why jQuery.isFunction?</a></p><h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><p><a href="http://contribute.jquery.org/style-guide/js/#type-checks" target="_blank" rel="noopener">Type Checks - JavaScript Style Guide</a> <a href="http://stackoverflow.com/questions/12206083/whats-the-difference-between-typeof-variable-function-and-jquery-isfunc" target="_blank" rel="noopener">What’s the difference between (typeof variable === “function”) and jQuery.isFunction()? - Stack Overflow</a></p>]]></content>
      
      <categories>
          
          <category> AngularJS </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 区别 </tag>
            
            <tag> JS </tag>
            
            <tag> difference </tag>
            
            <tag> isFunction </tag>
            
            <tag> JQuery </tag>
            
            <tag> typeof variable === &quot;function&quot; </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>阿里云使用心得</title>
      <link href="/post/how-is-aliyun-using-dairy.html"/>
      <url>/post/how-is-aliyun-using-dairy.html</url>
      <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>从网易离职，回家休年假时，老妈逮住我抱怨 <a href="http://www.yymwz.com/" title="袁袁们网站" target="_blank" rel="noopener">www.yymwz.com</a> 很不稳定的情况。当时 <a href="http://www.yymwz.com/" title="袁袁们网站" target="_blank" rel="noopener">www.yymwz.com</a> 挂在 BAE 上，每次刷新都时好时坏。而且随着地域的不同，有的能访问，有的不能（不确定BAE是否用了 CDN）。后端内功太浅，<a href="http://www.bokeyy.com/post/%e8%bd%ac%e8%bd%bdbae%e4%b8%8a%e5%8e%9f%e7%89%88wordpress%e5%8f%91%e9%82%ae%e4%bb%b6.html" title="类似的磨合尝试如：《BAE 2.0 上 wordpress 3.5.2 原版发邮件的方法》，结果没多久BAE升级了，之前的方法宣告无效" target="_blank" rel="noopener">无法和 BAE 再磨合下去</a>的博主最终决定购买 VPS。</p><h2 id="初体验"><a href="#初体验" class="headerlink" title="初体验"></a>初体验</h2><p>2014-04-22 14:49:27 开始试用阿里云主机，配置如下：</p><ul><li>带宽:1Mbps</li><li>CPU:1核</li><li>操作系统:Ubuntu 12.04 64位</li><li>内存:512MB</li><li>云盾:是</li></ul><p>阿里云官方有个一键安装包，可以直接装好 LAMP 或 LNNP 环境。不过当时找号称价值 300 元的限时免费数据迁移服务，重新装了一个 WordPress 并把 BAE 上的数据库内容全部导入了。 他们很快就搞好了，可惜有个缺点，装的是 WDlinux.cn 的全套系统，还提供一个网页版的后台。对于会用 Linux 的人感觉怪怪的，也不知道有没有被开后门。最后自己重装了 LAMP 环境。 阿里云的备案服务非常好，按流程一步步走，12天就搞定了，还得到了免费的 12 天补偿续费。 新网站也很好，全国各省都很快，WordPress 也跑得很健康，再也不莫名其妙死掉了。</p><h2 id="挫折"><a href="#挫折" class="headerlink" title="挫折"></a>挫折</h2><p>之所以选择 LAMP 环境，主要是因为 Apache 对 WordPress 的支持最好。然而毫无运维经验肯定要踩坑，第一遇到的就是内存问题。 内存问题的症状是：</p><ol><li>Apache 常年占用 400M 内存；</li><li>升级配置加到 1G 内存以后，ab 测试结果还是 10 个并发不到就挂了；</li><li>访问人数一多（这里的“多”只是几个人外加几个爬虫），内存吃紧，MySQL 数据库进程就被杀死；</li><li>加了 WP Super Cache 缓存以后，大约同时有十几个连接，Apache 就无法创建新进程，旧的进程也会退出，有时 Apache 还自动重启了，访客得到“服务器连接被重置”的结果；</li><li>加了缓存以后无法缓解 WordPress 有人登录的情况，有时候两个人同时 IO 操作，MySQL 也挂了。</li></ol><p>搜索了以后才发现大家都说 Apache 和 WordPress 非常吃内存。而且发现阿里云的云盾会占用一定的内存，不到 100M。还发现阿里云默认的 swap 交换区是 0，可能和阿里云服务器的 IO 不怎么好有关系。 NodeJS 确实是个好东西。<a href="http://www.bokeyy.com/post/ghost-install-in-vps-solution-in-china.html" title="Ghost 博客安装中文全攻略" target="_blank" rel="noopener">阿里云上安装 Ghost 博客</a>并 ab 压力测试之，可以轻松撑住几十个并发。然而在迁移大量数据的过程中，Ghost 对 WordPress 的固定链接、导航、页面和媒体（包括页面已经插入的媒体文件）都支持的不太好，宣告失败。 [caption id=”attachment_1252” align=”alignnone” width=”744”][<img src="http://www.bokeyy.com/wp-content/uploads/2014/07/c6e03613-6fa7-4a00-90d8-70b2f55dd7d6.jpg" alt="[截图]决心优化Apahce的孩子](http://www.bokeyy.com/wp-content/uploads/2014/07/c6e03613-6fa7-4a00-90d8-70b2f55dd7d6.jpg)"> [点击看大图]2011年决心优化Apahce的孩子[/caption] [caption id=”attachment_1253” align=”alignnone” width=”751”][<img src="http://www.bokeyy.com/wp-content/uploads/2014/07/d2f9b933-ead9-4654-85d5-adb69f3991a4.jpg" alt="[截图]当年决心优化Apache内存问题的孩子在用nginx](http://www.bokeyy.com/wp-content/uploads/2014/07/d2f9b933-ead9-4654-85d5-adb69f3991a4.jpg)"> [点击看大图]2013年，当年决心优化Apache内存问题的孩子在用nginx[/caption] 后来，终于让我放弃优化 Apache 的是 <a href="http://xiaoxia.org/2011/10/30/apache-memory-problem/" title="《网站因为Apache2吃内存太多，死掉了》" target="_blank" rel="noopener">这篇博文</a>的评论，如上图（<strong>红框内的日期和对应的评论内容</strong>）。</p><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>博主尝试了很多方法。什么“小内存主机终极优化方案”、“Apache 吃内存的解决办法”之类均告失败，最后用 Nginx 替换了 Apache 。目前大约可以撑住 50 个并发了。最后的配置如下：</p><ul><li>带宽:1Mbps</li><li>CPU:1核</li><li>操作系统:Ubuntu 12.04 64位</li><li>内存:1GB</li><li>云盾:是</li><li>环境:LNMP</li><li>网站:两个 WordPress 均加了 PHP 缓存，一个 NodeJS 写的 Ghost 博客</li></ul><hr><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>自从 PHP7 出来以后，<a href="https://www.bokeyy.com/post/build-php-7-0-3-for-wordpress.html" target="_blank" rel="noopener">升级到了 PHP7</a> ，大大降低了 php-fpm 对内存的占用。现在服务器内存压力一点也不大。 又有人留言说带宽可以更高一些，就又用优惠券加到了 2M 带宽。 后来看到这篇 <a href="http://www.admin5.com/article/20151014/627370.shtml" target="_blank" rel="noopener">实例分析阿里云服务器带宽如何选择?</a> ，发现其实不用升级带宽也行。本站服务器最高的带宽占用只有 712 Kbps（非 https 的图片资源走七牛云存储），所以完全够用。</p><hr><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://youngsterxyf.github.io/2014/06/26/recently-technology-tips/" target="_blank" rel="noopener">技术问题一问一答</a></li></ul><h2 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a>拓展阅读</h2><p>碰巧看到 <a href="http://zengrong.net/" target="_blank" rel="noopener">zengrong.net</a> 这个 WordPress 博客，用阿里云一年多，从 Apache 换成了 Lighttpd ，并于<a href="http://zengrong.net/post/2029.htm" title="主机增加到1G内存" target="_blank" rel="noopener">2014年2月将内存加到了 1G</a> ，这是它的优化心得：</p><ul><li><a href="http://zengrong.net/post/1786.htm/comment-page-1" target="_blank" rel="noopener">从APACHE到LIGHTTPD</a></li></ul>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> apache很吃内存怎么办 </tag>
            
            <tag> wordpress很吃内存怎么办 </tag>
            
            <tag> 多少带宽才够用 </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> 阿里云使用心得 </tag>
            
            <tag> 阿里云好不好用 </tag>
            
            <tag> 阿里云如何选择带宽 </tag>
            
            <tag> 阿里云跑ghost怎么样 </tag>
            
            <tag> 阿里云跑wordpress怎么样 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PHP的cURL扩展安装（开启）方法</title>
      <link href="/post/curl-install-for-php-in-ubuntu.html"/>
      <url>/post/curl-install-for-php-in-ubuntu.html</url>
      <content type="html"><![CDATA[<p>网上找了很多资料都说要编译或者重新编译 PHP，其实以下几行命令就够了： <code>$ sudo apt-get update $ sudo apt-get install php5-curl $ sudo /etc/init.d/apache2 restart</code></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="http://cn2.php.net/manual/zh/curl.installation.php" target="_blank" rel="noopener">安装/配置<em>cURL</em>其他服务_函数参考_PHP手册</a></p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> cURL扩展怎么开启 </tag>
            
            <tag> UBUNTU </tag>
            
            <tag> 不需要编译 </tag>
            
            <tag> 无须编译 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>NodeJs批量下载“百度云存储(BCS)”的所有文件</title>
      <link href="/post/nodejs-auto-download-all-files-in-bcs.html"/>
      <url>/post/nodejs-auto-download-all-files-in-bcs.html</url>
      <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p><a href="http://nodejs.org/" target="_blank" rel="noopener">NodeJs</a> 是一个使用 V8 JS 引擎的服务器端编程语言。<a href="http://developer.baidu.com/wiki/index.php?title=docs/cplat/bcs" title="百度云存储(BCS)的官方文档" target="_blank" rel="noopener">百度云存储</a>的英文缩写是 BCS ，是<a href="http://developer.baidu.com/" target="_blank" rel="noopener">百度开发者中心</a>提供的云存储服务。 本文阐述利用<a href="http://developer.baidu.com/wiki/index.php?title=docs/cplat/stor/api" target="_blank" rel="noopener">官方提供的 RESTful API</a> 将 BCS 上的文件批量按源路径下载并保存下来的一种方法。需要<a href="http://www.ghostchina.com/install-ghost-on-ali-ecs-first-step-install-node-js/" title="在阿里云服务器上安装 Ghost （1）– 安装 Node.js" target="_blank" rel="noopener">安装了 NodeJs</a> 。</p><h2 id="获取签名"><a href="#获取签名" class="headerlink" title="获取签名"></a>获取签名</h2><p>首先通过官方的 URL 签名界面取得签名，在 BAE 3.0 的“管理开发者服务”界面中，点击左侧的“云存储”，再选择一个 Bucket ，再点击“URL签名”，如下图所示。 [caption id=”attachment_1208” align=”alignnone” width=”444”]<a href="https://www.bokeyy.com/wp-content/uploads/2014/06/e5af4742-3b2f-4323-b0b2-83d513b70bc9.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2014/06/e5af4742-3b2f-4323-b0b2-83d513b70bc9.jpg" alt="百度云存储(BCS)官方生成签名界面截图"></a> 百度云存储(BCS)官方生成签名界面截图[/caption] 点击“签名”按钮，即可得到一个像 <a href="http://bcs.duapp.com/**bucket**?sign=**xxx*" target="_blank" rel="noopener">http://bcs.duapp.com/**bucket**?sign=**xxx*</a>* 的地址。其中 <strong>bucket</strong> 是你的 bucket 名， <strong>xxx</strong> 就是签名字符串。</p><h2 id="依赖的-NodeJs-模块"><a href="#依赖的-NodeJs-模块" class="headerlink" title="依赖的 NodeJs 模块"></a>依赖的 NodeJs 模块</h2><p>本文使用到 NodeJs 内置的文件系统模块和 GitHub 上的 request 模块。request 是 NodeJs 实现的 curl ，先安装 request。 <code>npm install request</code></p><h2 id="NodeJs-代码"><a href="#NodeJs-代码" class="headerlink" title="NodeJs 代码"></a>NodeJs 代码</h2><h3 id="1-引入依赖的模块"><a href="#1-引入依赖的模块" class="headerlink" title="1.引入依赖的模块"></a>1.引入依赖的模块</h3><p><code>var fs = require(&#39;fs&#39;);</code> <code>request = require(&#39;request&#39;);</code></p><h3 id="2-声明签名字符串，会多次用到"><a href="#2-声明签名字符串，会多次用到" class="headerlink" title="2.声明签名字符串，会多次用到"></a>2.声明签名字符串，会多次用到</h3><p><code>var sign = &#39;**你的签名字符串**&#39;;</code></p><h3 id="3-自动创建不存在的目录"><a href="#3-自动创建不存在的目录" class="headerlink" title="3.自动创建不存在的目录"></a>3.自动创建不存在的目录</h3><p>由于 fs 创建文件时无法自动创建目录，需要手动检查目录是否存在，若不存在就创建，所以需要自己编写一个。 <code>var MKDirIfNotExist = function(filePN){ var dirArr = filePN.split(&#39;/&#39;), cPath = &#39;&#39;; for(var i = 0, len = dirArr.length; i &lt; len; i ++){ if(dirArr[i]) { cPath += dirArr[i]; var exists = fs.existsSync(cPath); if(!exists){ fs.mkdirSync(cPath); } cPath += &#39;/&#39;; } } }</code> 函数的作用是传入代表目录地址的字符串，若脚本运行目录下不存在该字符串表示的路径，则创建。</p><h3 id="4-读取-RESTful-API-的文件列表和内容并保存本地"><a href="#4-读取-RESTful-API-的文件列表和内容并保存本地" class="headerlink" title="4.读取 RESTful API 的文件列表和内容并保存本地"></a>4.读取 RESTful API 的文件列表和内容并保存本地</h3><p>这里终于切入了正题。生成签名那里生成的 RESTful API 地址直接可以列出最多 200 个 Bucket 上的文件及其路径，可以直接读取并下载它们。 <code>request(&#39;http://bcs.duapp.com/**你的bucket名**?sign=**你的签名字符串**&#39;, function (error, response, body) { if (!error &amp;&amp; response.statusCode == 200) { var bodyJSON = JSON.parse(body); for(var i = 0, len = bodyJSON.object_total; i &lt; len; i ++){ if(bodyJSON.object_list[i].is_dir == &#39;0&#39;){ MKDirIfNotExist(bodyJSON.object_list[i].parent_dir); fs.openSync(&#39;./&#39; + bodyJSON.object_list[i].object, &quot;w&quot;); request(&#39;http://bcs.duapp.com/**你的bucket名&#39;+ bodyJSON.object_list[i].object + &#39;?sign=&#39; + sign).pipe(fs.createWriteStream(&#39;./&#39; + bodyJSON.object_list[i].object)); }} } });**</code> 注意因为是顺序执行，所以这里用的都是 Sync 版的 fs 函数。 由于本人的 BCS 里总文件个数不到 200 个，所以没有给 RESTful API 传更多的参数，要求分页传回更多的文件信息。</p><h3 id="5-完成"><a href="#5-完成" class="headerlink" title="5.完成"></a>5.完成</h3><p>将本节所有代码按顺序复制粘贴另存为后缀是 .js 的文本文件，修改成你自己的信息后，直接运行 <code>node **你的文件名**</code> 运行完就会看到所有文件都在那了。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://developer.baidu.com/wiki/index.php?title=docs/cplat/stor/api" target="_blank" rel="noopener">REST API - 云存储 - 云服务 - 百度开发者中心帮助文档</a></li><li><a href="http://nodejs.org/api/fs.html" target="_blank" rel="noopener">File System - Node.js v0.10.29 Manual &amp; Documentation</a></li><li><a href="https://github.com/mikeal/request" target="_blank" rel="noopener">request - Simplified HTTP request client - GitHub</a></li></ul>]]></content>
      
      <categories>
          
          <category> NodeJS </category>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> NodeJs </tag>
            
            <tag> JSON </tag>
            
            <tag> github </tag>
            
            <tag> BCS </tag>
            
            <tag> NodeJS fs示例 </tag>
            
            <tag> require </tag>
            
            <tag> 批量下载云存储的所有文件 </tag>
            
            <tag> 百度云存储 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Ghost 博客安装中文全攻略</title>
      <link href="/post/ghost-install-in-vps-solution-in-china.html"/>
      <url>/post/ghost-install-in-vps-solution-in-china.html</url>
      <content type="html"><![CDATA[<p><a href="http://www.ghost.org/" target="_blank" rel="noopener">Ghost</a> 是一个用 Nodejs 写成的博客程序。官方网站是 <a href="http://www.ghost.org/" target="_blank" rel="noopener">http://www.ghost.org/</a> ，官方中文文档链接是 <a href="http://docs.ghost.org/zh/installation/" target="_blank" rel="noopener">http://docs.ghost.org/zh/installation/</a> 。</p><p>Ghost 的好处是什么都是新的。 还因它是 Nodejs ，其并发能力强过 WordPress 很多。在低配服务器上，由于容易挂，稍微提高一下下并发性能都很开心。 Ghost 的缺点也是什么都是新的。 对移动端而言，它的浏览器加载性能优化不是特别好。<br>此外，带 % 和 . 号的 WordPress 固定链接在导入 Ghost 以后会自动被删掉或者替换成 - 号，使得旧文章的外链全部变成 404。<br>再则，Ghost 的文章固定链接还不能超过 150 字符。<br>而且友情链接、静态页面、导航菜单这些，都需要自己去修改 Ghost 的 tpl 模板文件。<br>还有，Ghost 没有提供文章搜索框，得搭配百度全站搜索使用。<br>不止这样，Ghost 没有自带评论功能，也不支持导入并展示 WordPress 的评论数据，国内得配合多说一起使用。<br>这都还不够，导入文章时不会自动识别 wordpress 的媒体文件标签 [caption id=”xxx”] ，需要自己用 SQL 语句批量替换。<br>可以预见肯定还有其它不完善之处。 以上文档可能需要翻墙。同样，安装 Ghost 也要注意墙。 Ghost 有两种安装方法，可以从 GitHub 源码安装，也可以直接用<a href="https://codeload.github.com/TryGhost/Ghost/zip/stable" target="_blank" rel="noopener">官方的最新完整安装包</a>安装。不能翻墙可以的<a href="http://www.yymwz.com/ghost-0.4.2.zip" title="2014年6月18日为止的最新版 ghost 博客官方完整源码包" target="_blank" rel="noopener">点此下载</a>本站提供的0.4.2版。</p><h2 id="从-github-安装的步骤"><a href="#从-github-安装的步骤" class="headerlink" title="从 github 安装的步骤"></a>从 github 安装的步骤</h2><p>Ghost 的 GitHub 地址是 <a href="https://github.com/TryGhost/Ghost" target="_blank" rel="noopener">https://github.com/TryGhost/Ghost</a> 。</p><ol><li>新建 Ghost 目录，cd 到该目录下，执行<br><code>git init</code></li><li>将源码整个拉下来<br><code>git clone https://github.com/TryGhost/Ghost</code></li><li>切换到 stable 分支 <strong>!!重要!!</strong><br><code>git checkout stable</code><br><code>git pull</code></li></ol><p>至此代码获取完毕。 <strong>!!重要!!</strong> 墙内安装请先执行： <code>npm config set registry http://registry.cnpmjs.org</code><br><code>npm info underscore （如果上面配置正确这个命令会有字符串response）</code> 更多同效命令参见<a href="http://cnodejs.org/topic/4f9904f9407edba21468f31e" target="_blank" rel="noopener">《使用npm安装一些包失败了的看过来（npm国内镜像介绍）》</a> 。 接下来是<a href="https://github.com/TryGhost/Ghost#getting-started-guide-for-developers" target="_blank" rel="noopener">官方安装步骤</a>：</p><ol><li><code>npm install -g grunt-cli</code></li><li><code>npm install</code></li><li><code>grunt init</code> (生产模式是 <code>grunt prod</code>，博主用这个)</li><li><code>npm start</code></li></ol><p>装好了，打开浏览器访问吧 <a href="http://localhost:2368/" target="_blank" rel="noopener">http://localhost:2368/</a></p><h2 id="用官方完整源码安装"><a href="#用官方完整源码安装" class="headerlink" title="用官方完整源码安装"></a>用官方完整源码安装</h2><ol><li>（可能需要翻墙）点击<a href="https://codeload.github.com/TryGhost/Ghost/zip/stable" target="_blank" rel="noopener">官方最新版下载链接</a></li><li>解压下载的 zip 文件，并 cd 到该目录</li><li>运行<br><code>npm install --production</code></li><li>装好了，启动 ghost<br><code>npm start</code><br>可以打开浏览器访问了 <a href="http://localhost:2368/" target="_blank" rel="noopener">http://localhost:2368/</a></li></ol><h2 id="疑难解答"><a href="#疑难解答" class="headerlink" title="疑难解答"></a>疑难解答</h2><h4 id="1-npm-start-好像什么也没做？"><a href="#1-npm-start-好像什么也没做？" class="headerlink" title="1. npm start 好像什么也没做？"></a>1. npm start 好像什么也没做？</h4><p>答：无论是输入 <code>npm start</code> 或 <code>node index.js</code> 或 <code>forever index.js</code> 后没有持续输出收到的 HTTP 请求，而是进行一半中止了，而且无法访问 localhost:2368 和 127.0.0.1:2368，还看不到 ghost 进程，那么可能是因为 ghost 没有安装完全。请改成 npm 国内镜像，试着重新安装。</p><h4 id="2-能访问-locahost-2368-但-locahost-2368-ghost-signup-页面是空白？"><a href="#2-能访问-locahost-2368-但-locahost-2368-ghost-signup-页面是空白？" class="headerlink" title="2.能访问 locahost:2368 但 locahost:2368/ghost/signup/ 页面是空白？"></a>2.能访问 locahost:2368 但 locahost:2368/ghost/signup/ 页面是空白？</h4><p>答：按 F12 应该能看到 jQuery 对象未定义的 js 报错。这是从 GitHub 源码安装时，在 <code>grunt init</code> 那一步没有获取到完整的源码文件，请使用官方的同版本的完整安装包（<a href="https://codeload.github.com/TryGhost/Ghost/zip/stable" target="_blank" rel="noopener">点此下载最新版</a>）解压并覆盖到你的 ghost 目录，无需重启 Ghost 即可正常访问。</p><h4 id="3-博客首页的-RSS-Feed-是-my-ghost-blog-com-rss-，怎么修改为正确的地址？"><a href="#3-博客首页的-RSS-Feed-是-my-ghost-blog-com-rss-，怎么修改为正确的地址？" class="headerlink" title="3.博客首页的 RSS Feed 是 my-ghost-blog.com/rss/ ，怎么修改为正确的地址？"></a>3.博客首页的 RSS Feed 是 my-ghost-blog.com/rss/ ，怎么修改为正确的地址？</h4><p>答：请修改根目录下 config.js 文件的 url : 后面改为你博客的地址。</p><h4 id="4-怎么登录-Ghost-博客？"><a href="#4-怎么登录-Ghost-博客？" class="headerlink" title="4.怎么登录 Ghost 博客？"></a>4.怎么登录 Ghost 博客？</h4><p>答：请访问 你的博客地址/ghost/ 进入后台，第一次使用会要求你注册一个管理员账号。</p><h4 id="5-怎么修改博客名、博客介绍、博客头像、封面图等？"><a href="#5-怎么修改博客名、博客介绍、博客头像、封面图等？" class="headerlink" title="5.怎么修改博客名、博客介绍、博客头像、封面图等？"></a>5.怎么修改博客名、博客介绍、博客头像、封面图等？</h4><p>答：请登录后台修改。</p><h4 id="6-我使用虚拟机安装-Ghost，关掉-SSH-终端后-Ghost-就停止运行了？"><a href="#6-我使用虚拟机安装-Ghost，关掉-SSH-终端后-Ghost-就停止运行了？" class="headerlink" title="6.我使用虚拟机安装 Ghost，关掉 SSH 终端后 Ghost 就停止运行了？"></a>6.我使用虚拟机安装 Ghost，关掉 SSH 终端后 Ghost 就停止运行了？</h4><p>答：你可以使用 forever 以后台任务运行 Ghost 。forever 将会按照 Ghost 的配置，当进程 crash 后重启 Ghost。</p><ul><li>通过 <code>npm install forever -g</code> 安装 forever</li><li><code>forever start index.js</code></li><li>通过 <code>forever stop index.js</code> 停止 Ghost</li><li>通过 <code>forever list</code> 检查 Ghost 当前是否正在运行</li></ul><h4 id="7-怎么把域名绑定到-Ghost-博客？"><a href="#7-怎么把域名绑定到-Ghost-博客？" class="headerlink" title="7.怎么把域名绑定到 Ghost 博客？"></a>7.怎么把域名绑定到 Ghost 博客？</h4><p>答：有很多种方法，官方推荐通过 Apache 或者 Nginx 做代理。</p><h6 id="Nginx-配置方法"><a href="#Nginx-配置方法" class="headerlink" title="Nginx 配置方法"></a>Nginx 配置方法</h6><p>参见官方中文手册 <a href="http://docs.ghost.org/zh/installation/deploy/" target="_blank" rel="noopener">http://docs.ghost.org/zh/installation/deploy/</a></p><h6 id="Apache-配置方法"><a href="#Apache-配置方法" class="headerlink" title="Apache 配置方法"></a>Apache 配置方法</h6><p>在对应的 sites-available 目录中新建一个文件，输入如下内容</p><pre><code>&lt;VirtualHost *:80&gt;   ServerAdmin vvianyy@gmail.com   ServerName 域名   ServerAlias www.域名   DocumentRoot 这里好像随便写没影响，一般就是 Apahce 根目录   ProxyRequests off   &lt;Proxy *&gt;           Order deny,allow           Allow from all   &lt;/Proxy&gt;   &lt;Location /&gt;   ProxyPass http://localhost:2368/   ProxyPassReverse http://localhost:2368/   &lt;/Location&gt;    ErrorLog ${APACHE_LOG_DIR}/error.log   LogLevel warn   CustomLog ${APACHE_LOG_DIR}/access.log combined&lt;/VirtualHost&gt;</code></pre><p>保存并退出，输入命令 <code>a2ensite 刚刚保存的文件名</code><br><code>service apache2 reload</code> ，然后将域名 A 记录指向服务器 IP 即可。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://cnodejs.org/topic/4f9904f9407edba21468f31e" target="_blank" rel="noopener">使用npm安装一些包失败了的看过来（npm国内镜像介绍）</a></li><li><a href="https://github.com/TryGhost/Ghost/issues/2454" target="_blank" rel="noopener">/ghost/signup is blank #2454</a></li><li><a href="https://ghost.org/forum/installation/6441-installed-but-first-signup-doesn-t-show-up/" target="_blank" rel="noopener">Installed, but first signup doesn’t show up</a></li><li><a href="https://ghost.org/forum/installation/1985-blank-signin-page-after-installing-ghost/14/" target="_blank" rel="noopener">Blank signin page after installing Ghost</a></li><li><a href="https://ghost.org/forum/installation/7121-npm-start-does-nothing/" target="_blank" rel="noopener">npm start does nothing</a></li><li><a href="http://www.howtoinstallghost.com/how-to-host-ghost-on-an-apache-subdomain/" target="_blank" rel="noopener">How to Host Ghost on an Apache Subdomain</a></li></ul><h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><ul><li><a href="http://blog.ikevin.me/install-and-run-ghost-on-freebsd/" target="_blank" rel="noopener">Install and Run Ghost on FreeBSD inside a Jail</a></li><li><a href="https://github.com/TryGhost/Ghost#ghost-" target="_blank" rel="noopener">GitHub 上 Ghost 项目的 README.md</a></li><li><a href="http://docs.ghost.org/zh/installation/" target="_blank" rel="noopener">Ghost 官方中文文档</a></li><li><a href="http://www.ghostchina.com/install-ghost-on-ali-ecs-first-step-install-node-js/" target="_blank" rel="noopener">在阿里云服务器上安装 Ghost （1）– 安装 Node.js</a></li><li><a href="http://www.ghostchina.com/install-ghost-on-ali-ecs-second-step-install-nginx/" target="_blank" rel="noopener">在阿里云服务器上安装 Ghost （2）– 安装 Nginx</a></li><li><a href="http://www.ghostchina.com/install-ghost-on-ali-ecs-third-step-install-mysql/" target="_blank" rel="noopener">在阿里云服务器上安装 Ghost （3）– 安装 MySQL</a></li><li><a href="http://www.ghostchina.com/install-ghost-on-ali-ecs-forth-step-install-ghost/" target="_blank" rel="noopener">在阿里云服务器上安装 Ghost （4）– 安装 Ghost</a></li><li><a href="http://www.ghostchina.com/useing-mysql-database-with-ghost/" target="_blank" rel="noopener">让 Ghost 使用 MySQL 数据库</a></li><li><a href="http://www.thebeet.cn/baeshang-bu-shu-ghost/" target="_blank" rel="noopener">实测通过：BAE上部署Ghost</a></li><li><a href="http://www.thebeet.cn/gei-ghostzeng-jia-duo-shuo-ping-lun-zu-jian/" target="_blank" rel="noopener">给Ghost增加多说评论组件</a></li><li><a href="http://www.thebeet.cn/ghostzhong-shi-yong-bcszuo-wen-jian-cun-chu/" target="_blank" rel="noopener">Ghost学习–使用BCS做文件存储</a></li><li><a href="http://pxblog.duapp.com/ghostbaeqi-niu-yun-cun-chu-jiao-cheng/" target="_blank" rel="noopener">Ghost+BAE+七牛云存储部署教程</a></li></ul>]]></content>
      
      <categories>
          
          <category> Git </category>
          
          <category> NodeJS </category>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 安装全攻略 </tag>
            
            <tag> 安装攻略 </tag>
            
            <tag> 安装疑难解答 </tag>
            
            <tag> NodeJs </tag>
            
            <tag> Ghost </tag>
            
            <tag> killed by signal null </tag>
            
            <tag> signup空白 </tag>
            
            <tag> 安装完毕无法运行 </tag>
            
            <tag> 没有报错无法运行 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>非前沿前端冷知识：那些耗费了大量精力的沙子</title>
      <link href="/post/browser-bugs-that-railly-mentioned.html"/>
      <url>/post/browser-bugs-that-railly-mentioned.html</url>
      <content type="html"><![CDATA[<p>有人说，真正使人疲惫的不是远处的高山，而是靴子里的一粒沙子。现在就列举一下前端开发工作中时不时冒出来那些耗费大量精力，却又不堪一提的小沙子。</p><ol><li>2010年到某些年之间版本的 webkit 浏览器，当 html 的 overflow 为 hidden 时，onscroll 事件只能绑定在 body 上。绑定在 html 上的话不会触发。</li><li>这个文章标题中常用的小点点 ==> · <strong>在 chrome 下且字体为微软雅黑时显示不正常</strong>，必须外面套一个 span 标签给它换个别的字体。</li><li>IE9 既支持 CSS Fliter 滤镜也支持 CSS3 ，<strong>两个同时使用会有奇怪的黑背景</strong>，只能去掉其中一个。</li><li>IE6-9 中若 AJAX 获取的页面没有指定编码为 UTF-8，会报 -xxx 系统错误。主要在本地调试 AJAX 的时候遇到。</li><li>IE8 在 JavaScript 动态改变宽度并重排（reflow）的时候，有时候不会改变节点的宽度或高度，比如 <a href="http://blog.caplin.com/2013/06/07/developing-for-ie8-inline-block-resize-bug/" title="参见 Developing for IE8: inline-block resize bug" target="_blank" rel="noopener">display:inline-block 的时候</a>、<a href="news.163.com/special/renda60/#events" title="中国人大制度60年回顾_2014全国两会_网易专题">float:left 的时候</a>（点开两个链接分别看例子）。目前只能用 javaScript 解决。</li><li>IE8 没有单独的 CSS Hack，目前网上的所谓 IE8 Hack <strong>统统都会殃及 IE9 和 IE10</strong>，只能写完后，再针对 IE9 以上覆盖。最简单的办法还是用条件判断语句给 html 加 ie8 的 class。</li><li>IE8 AJAX 插入的 HTML 中的 <script> 标签不执行（可能因为某种安全原因？）</li><li>IE8 下，如有某个样式，明明写了，突然页面一闪，就不生效了。请看看是否有人引入了含 <style> 和 </style> 的样式文件（往 css 文件里插 style 标签……有些觉得前端不需要学的后端大牛们好好做后端就不要随便做前端了求你们了……）</li><li>IE6 半透明滤镜只能读取相<strong>对于页面的路径</strong>或者<strong>绝对路径</strong>的图片，现在 IE6 已经垂死了，真好啊！</li><li>IE6 的 :hover 伪类触发的条件是 CSS 样式写成 a:hover 或者 a.className:hover，反正要有一个 a 在，它的子元素也一样。</li><li>IE6 不支持 .className1.className2 的写法喔！</li></ol><p>（不断更新中）</p></script></li></ol>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> 跨浏览器 </tag>
            
            <tag> 兼容性 </tag>
            
            <tag> 少见的bug </tag>
            
            <tag> 难以在网上找到的问题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记]原生 JavaScript + CSS3 模拟 iOS 触摸左右切换效果</title>
      <link href="/post/e7-ac-94-e8-ae-b0-e5-8e-9f-e7-94-9f-javascript-e6-a8-a1-e6-8b-9f-ios-e5-b7-a6-e5-8f-b3-e5-88-87-e6-8d-a2-e6-95-88-e6-9e-9c.html"/>
      <url>/post/e7-ac-94-e8-ae-b0-e5-8e-9f-e7-94-9f-javascript-e6-a8-a1-e6-8b-9f-ios-e5-b7-a6-e5-8f-b3-e5-88-87-e6-8d-a2-e6-95-88-e6-9e-9c.html</url>
      <content type="html"><![CDATA[<h2 id="要实现的-iOS-原生滚动特征"><a href="#要实现的-iOS-原生滚动特征" class="headerlink" title="要实现的 iOS 原生滚动特征"></a>要实现的 iOS 原生滚动特征</h2><ol><li>手指触摸移动 slider 主体时，主体随指尖滑动，可以用 JavaScript 做指尖跟随；</li><li>手指触摸移动距离不到 slider 一页的宽度一半时放开，slider 主体平滑归位，可以用 CSS3 的 transition；</li><li>接上条，反之，slider 平滑切换到上一页/下一页，也是用 CSS3 的 transition；</li><li>当手指在屏幕上快速向左/右移动（假设触摸时间为 0.2 秒以内），不论触摸距离的长短，都试图进行翻页操作。直接用 JavaScript 监听触摸开始和结束所用时间和位移即可</li><li>当 slider 到头，试图翻页失败时，平滑归位，还是用 CSS3 transition 就行。</li></ol><h2 id="实现要点分析"><a href="#实现要点分析" class="headerlink" title="实现要点分析"></a>实现要点分析</h2><p>平滑归位和切换需要使用到 CSS3 的 transition，触摸事件用 ontouchstart 、 ontouchmove 和 ontouchend 。 slider 本身的移动用 CSS 的 margin-left 。</p><ol><li><h3 id="平滑归位-切换"><a href="#平滑归位-切换" class="headerlink" title="平滑归位/切换"></a>平滑归位/切换</h3><p>f-trans 类是 CSS3 transition 实现，代表 CSS 属性值改变都不是瞬间完成，包括 margin-left，而是在 0.2 秒内平滑过度完成。 <code>.f-trans {-moz-transition-property: all; -moz-transition-duration: .2s; -moz-transition-timing-function: linear; -webkit-transition-property: all; -webkit-transition-duration: .2s; -webkit-transition-timing-function: linear; -o-transition-property: all; -o-transition-duration: .2s; -o-transition-timing-function: linear; transition-property: all; transition-duration: .2s; transition-timing-function: linear;}</code></p></li><li><h3 id="Slider-主体跟随手指移动"><a href="#Slider-主体跟随手指移动" class="headerlink" title="Slider 主体跟随手指移动"></a>Slider 主体跟随手指移动</h3><p>ontouchstart 是触摸开始那个时间点触发，ontouchmove 是触摸过程中连续触发，ontouchend 是触摸结束时触发，前两者都可以用 e.pageX 获取当前手指的水平位置。三个事件配合使用可以监测触摸状态。 <code>var t = this; var touchBeginHandler = function(e){ t.touchStartX = e.pageX; t.touchStartTime = new Date().getTime(); }, /* 触摸开始 - 记录触摸开始时的水平位置和时间 */ touchMoveHandler = function(e){ e.preventDefault(); NTES(t.slideContentBody).removeCss(&quot;f-trans&quot;); //因为要频繁改动 marginLeft 所以暂时禁用 transition var deltaX = (e.pageX - t.touchStartX); //将 touchMove 过程中的 e.pageX 减去触摸开始时的 e.pageX 就是当前水平的位移 t.slideContentBody.style.marginLeft = (t.currentMarginLeft + deltaX) + &quot;px&quot;; //移动过程中实时改变 marginLeft 值 t.touchEndX = e.pageX; //记录触摸结束时的水平位置 }, /* 触摸过程中 - slider 主体随指尖移动，并记录触摸结束时的位置 */ touchEndHandler = function(e){ var deltaX = t.touchEndX - t.touchStartX, deltaTime = (new Date().getTime()) - t.touchStartTime; NTES(t.slideContentBody).addCss(&quot;f-trans&quot;); //需要平滑归位或翻页，启用 transition if(deltaTime &lt; 200){ //快速触摸移动时 deltaX &lt; 0 ? t.slideByStep(1) : t.slideByStep(-1); }else{ deltaX &lt; 0 ? t.slideByStep(Math.round(Math.abs(deltaX)/t.slideImageWidth)) : t.slideByStep(-Math.round(Math.abs(deltaX)/t.slideImageWidth)); //用 Math.round 四舍五入，即移动幅度超过 0.5 宽度时翻页 } }; /* 触摸结束 - 判断整个触摸过程的时间和水平位移，决定是否翻页并执行 */ t.slideContentBody.ontouchstart = touchBeginHandler; t.slideContentBody.ontouchmove = touchMoveHandler; t.slideContentBody.ontouchend = touchEndHandler; /* 绑定以上事件 */</code></p></li></ol><h2 id="线上-DEMO"><a href="#线上-DEMO" class="headerlink" title="线上 DEMO"></a>线上 DEMO</h2><p>请用带触摸屏的设备访问：<a href="https://www.bokeyy.com/wp-content/uploads/2014/03/touch_slider_demo.html" target="_blank" rel="noopener">touch_slider_demo</a></p><h3 id="完整-js-代码"><a href="#完整-js-代码" class="headerlink" title="完整 js 代码"></a>完整 js 代码</h3><p>注：NTES 是一个方便快速获取 DOM 元素的轻量库，其 Filter 语法和 jQuery 几乎相同。</p><pre><code>/** *  适合 iPad 的滚动函数 */ (function (window, undefined) {    var $ = window.NTES || {};    if (!$.ui) {        $.ui = {};    }    $.ui.iPadSlide = function (body, options){        if (!arguments.length) {    // 空对象时跳出            return;        }        var t = this;               t.body = body;        for(var argument in options){            t[argument] = options[argument];        }        t.init();    }    $.ui.iPadSlide.prototype = {        body:null,        ctrlBtnArr:[],        tipTitleArr:[],        slideImageArr:[],        slideImageWidth:0,        slideContentBody:null,        prevBtn:null,        nextBtn:null,        currentClassName:&quot;on&quot;,              currentIndex:0,        currentMarginLeft:0,        touchStartX:0,        touchEndX:0,        touchStartTime:0,        MIN_INDEX:0,        MAX_INDEX:0,        slideByStep:function(step){            this.currentIndex += step;            this.currentIndex = this.currentIndex &gt; this.MIN_INDEX ? (this.currentIndex &lt; this.MAX_INDEX ? this.currentIndex : this.MAX_INDEX) : this.MIN_INDEX ;            this.currentMarginLeft = 0 - this.slideImageWidth * this.currentIndex;            this.slideContentBody.style.marginLeft = this.currentMarginLeft + &quot;px&quot;;            NTES(&quot;.on&quot;, scrollObj).removeCss(&quot;on&quot;);            NTES(this.ctrlBtnArr[this.currentIndex]).addCss(this.currentClassName);            NTES(this.tipTitleArr[this.currentIndex]).addCss(&quot;on&quot;);        },        init:function(){            var t = this;            t.slideImageWidth = t.slideImageArr[0].offsetWidth;            t.MAX_INDEX = t.slideImageArr.length - 1;            t.slideContentBody.style.width = t.slideImageWidth * (t.MAX_INDEX + 1) + &quot;px&quot;;            t.prevBtn.onclick = function(){                t.slideByStep(-1);            };            t.nextBtn.onclick = function(){                             t.slideByStep(1);            };            t.ctrlBtnArr.each(function(){                this.onclick = function(){                     t.slideByStep(parseInt(this.getAttribute(&quot;data-index&quot;)) - 1 - t.currentIndex);                };            });            var touchBeginHandler = function(e){                t.touchStartX = e.pageX;                t.touchStartTime = new Date().getTime();            },            touchMoveHandler = function(e){                e.preventDefault();                NTES(t.slideContentBody).removeCss(&quot;f-trans&quot;);                var deltaX = (e.pageX - t.touchStartX);                t.slideContentBody.style.marginLeft = (t.currentMarginLeft +  deltaX) + &quot;px&quot;;                t.touchEndX = e.pageX;            },            touchEndHandler = function(e){                var deltaX = t.touchEndX - t.touchStartX, deltaTime = (new Date().getTime()) - t.touchStartTime;                        NTES(t.slideContentBody).addCss(&quot;f-trans&quot;);                if(deltaTime &lt; 200){                    deltaX &lt; 0 ? t.slideByStep(1) : t.slideByStep(-1);                }else{                    deltaX &lt; 0 ? t.slideByStep(Math.round(Math.abs(deltaX)/t.slideImageWidth)) : t.slideByStep(-Math.round(Math.abs(deltaX)/t.slideImageWidth));                 }           };              t.slideContentBody.ontouchstart = touchBeginHandler;            t.slideContentBody.ontouchmove = touchMoveHandler;          t.slideContentBody.ontouchend = touchEndHandler;        }   };   })(window); var scrollObj = NTES(&quot;#slideshow&quot;); new NTES.ui.iPadSlide(scrollObj, {     ctrlBtnArr:NTES(&quot;&gt; .btns &gt; ul &gt; li&quot;, scrollObj),    prevBtn:NTES(&quot;&gt; .btns &gt; .prev&quot;, scrollObj)[0],    nextBtn:NTES(&quot;&gt; .btns &gt; .next&quot;, scrollObj)[0],    tipTitleArr:NTES(&quot;&gt; .tip-notice &gt; .slideshow_info&quot;, scrollObj),    slideImageArr:NTES(&quot;&gt; .img &gt; div &gt; a&quot;, scrollObj),    slideContentBody:NTES(&quot;&gt; .img &gt; div&quot;, scrollObj)[0]});</code></pre>]]></content>
      
      <categories>
          
          <category> HTML5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iPad </tag>
            
            <tag> 原生 javascript </tag>
            
            <tag> 模拟原生滚动 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>IE9 CSS HACK 减法解决了 IE9 下的神奇 filter 黑背景</title>
      <link href="/post/ie9-css-hack-e5-87-8f-e6-b3-95-e8-a7-a3-e5-86-b3-e4-ba-86ie9-e4-b8-8b-e7-9a-84-e7-a5-9e-e5-a5-87filter-e9-bb-91-e8-83-8c-e6-99-af.html"/>
      <url>/post/ie9-css-hack-e5-87-8f-e6-b3-95-e8-a7-a3-e5-86-b3-e4-ba-86ie9-e4-b8-8b-e7-9a-84-e7-a5-9e-e5-a5-87filter-e9-bb-91-e8-83-8c-e6-99-af.html</url>
      <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>做半透明黑色遮罩时，使用 css filter 做 IE 下的半透明背景兼容，一般这样写： <code>.semi-trans { background: rgba(0, 0, 0, .7); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#B2000000, endColorstr=#B2000000);}</code> 然而，IE9 下这种滤镜 + CSS3 的样式会显示成全黑的背景。</p><h2 id="减法解决"><a href="#减法解决" class="headerlink" title="减法解决"></a>减法解决</h2><p>所谓减法，就是 CSS HACK 或者条件注释类来针对 IE9 覆盖之前的样式。 但是， filter 似乎是覆盖不了的，其机制似乎比较复杂，反正以下这几种都没有效果： <code>filter:; filter:none; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#FF000000, endColorstr=#FF000000);</code> 此外，由于 IE9 既单独支持这种 gradient filter ，又支持单独的 CSS3 样式，所以用减法将 CSS3 的属性去掉即可。</p><h3 id="CSS3-HACK-覆盖法"><a href="#CSS3-HACK-覆盖法" class="headerlink" title="CSS3  HACK 覆盖法"></a>CSS3  HACK 覆盖法</h3><p><code>:root .semi-trans {background:none\9\0;} /* 针对 IE9 10 的 hack */</code></p><h3 id="条件注释类覆盖法"><a href="#条件注释类覆盖法" class="headerlink" title="条件注释类覆盖法"></a>条件注释类覆盖法</h3><ol><li>将 HTML 文档头部的<html>改成类似这种形式： <code>&lt;!--[if lt IE 7 ]&gt; &lt;html lang=&quot;zh&quot; class=&quot;ie6&quot;&gt; &lt;![endif]--&gt; &lt;!--[if IE 7 ]&gt; &lt;html lang=&quot;zh&quot; class=&quot;ie7&quot;&gt; &lt;![endif]--&gt; &lt;!--[if IE 8 ]&gt; &lt;html lang=&quot;zh&quot; class=&quot;ie8&quot;&gt; &lt;![endif]--&gt; &lt;!--[if IE 9 ]&gt; &lt;html lang=&quot;zh&quot; class=&quot;ie9&quot;&gt; &lt;![endif]--&gt; &lt;!--[if (gt IE 9)|!(IE)]&gt;&lt;!--&gt; &lt;!--&lt;![endif]--&gt;</code></html></li><li>然后在相应的 CSS 后面这样覆盖： <code>.ie9 .semi-trans {background:none;}</code></li></ol><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p>《解决了IE9下的神奇filter黑背景》 <a href="http://www.xlanda.net/posts/6965" title="解决了IE9下的神奇filter黑背景" target="_blank" rel="noopener">http://www.xlanda.net/posts/6965</a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE9 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> IE9 CSS3 和滤镜冲突 </tag>
            
            <tag> IE9 Filter </tag>
            
            <tag> IE9 filter 黑背景 </tag>
            
            <tag> IE9 HACK </tag>
            
            <tag> IE9 滤镜 </tag>
            
            <tag> 条件注释类 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>BAE 迁移 SAE 步骤</title>
      <link href="/post/wordpress-from-bae-to-sae-dairy.html"/>
      <url>/post/wordpress-from-bae-to-sae-dairy.html</url>
      <content type="html"><![CDATA[<p>1、创建 SAE 应用； 2、<a href="http://wp4cloud.sinaapp.com/2013/12/17/wordpress-3-8-for-sae-v1217.html" title="WordPress 3.8 For SAE v1217 下载 &amp; 说明 2013 年 12 月 17 日" target="_blank" rel="noopener">下载 WordPress 3.8 For SAE v1217</a> 并安装； 3、从 BAE 导出 sql 数据文件，在 SAE 中导入； 4、修改域名指向，至此 SAE 新网站可以正常访问； 5、通过 SVN 将原主题目录上传到 SAE 代码库中。 待完成：将 BAE bucket 用 API 打包下载后通过 SAE storage 客户端上传到 SAE storage 中，以保证媒体库不会裂图。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BAE </tag>
            
            <tag> wordpress </tag>
            
            <tag> 百度云 </tag>
            
            <tag> Baidu App Engine </tag>
            
            <tag> SAE </tag>
            
            <tag> Sina App Engine </tag>
            
            <tag> 网站迁移 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自己搞定闲暇阅读：用 crofflr 打通 Kindle 和 Pocket</title>
      <link href="/post/using-crofflr-sending-pocket-unread-articles-to-kindle-at-scheduled-times.html"/>
      <url>/post/using-crofflr-sending-pocket-unread-articles-to-kindle-at-scheduled-times.html</url>
      <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>[caption id=”attachment_999” align=”alignnone” width=”758”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/screenshot_2013_12_14T23_17_37+0800.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/screenshot_2013_12_14T23_17_37+0800.png" alt="kindle 中的文章列表页的排版效果"></a> kindle 中的文章列表[/caption] [caption id=”attachment_1000” align=”alignnone” width=”758”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/screenshot_2013_12_14T23_17_44+0800.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/screenshot_2013_12_14T23_17_44+0800.png" alt="kindle 中文章的排版效果"></a> kindle 中文章的排版效果[/caption]</p><p>本文介绍一种方便而不失质量的阅读方法。可以将上网冲浪时随时保存的有兴趣深入阅读的博客、新闻、专访等网页正文，定期汇总到 kindle 上，从而在闲暇时享受无干扰的集中阅读。本方法一劳永逸，排版友好，花费约一小时和 $5 美元。</p><h2 id="kindle-阅读器介绍"><a href="#kindle-阅读器介绍" class="headerlink" title="kindle 阅读器介绍"></a>kindle 阅读器介绍</h2><p>[caption id=”” align=”alignnone” width=”500”]<img src="http://g-ec4.images-amazon.com/images/G/28/kindle/Pinot_Final/ImageBlock/kp_slate_lg_03_final._V367853452_.jpg" alt="亚马逊官方的 Kindle PaperWhite 2 宣传图片"> 亚马逊官方的 Kindle PaperWhite 2 宣传图片[/caption] 亚马逊公司推出的 <a href="http://www.amazon.cn/gp/product/B00CWPIDHI/ref=amb_link_44643592_2?pf_rd_m=A1AJ19PSB66TGU&amp;pf_rd_s=center-1&amp;pf_rd_r=0AK36BTQ2T92WTRFXREJ&amp;pf_rd_t=101&amp;pf_rd_p=108777632&amp;pf_rd_i=899254051" title="中国亚马逊 Kindle PaperWhite 2 的介绍和购买链接" target="_blank" rel="noopener">Kindle PaperWhite 2</a> 是最近很火的阅读器。它的特点是专门为阅读而设计。它使用专门为阅读设计的 E-ink 电子墨水屏，并拥有一本《故事会》差不多的大小和重量，比较轻便。</p><h2 id="Pocket-软件介绍"><a href="#Pocket-软件介绍" class="headerlink" title="Pocket 软件介绍"></a>Pocket 软件介绍</h2><p>[caption id=”attachment_982” align=”alignnone” width=”584”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket-1024x492.jpg" alt="Pocket 网页版的界面"></a> Pocket 网页版的界面截图[/caption] <a href="http://getpocket.com/" title="Pocket 官方网站" target="_blank" rel="noopener">Pocket</a> （前称Read It Later）是一个稍候读工具。只需将网页的地址告诉它，它就能将其保存成无广告、排版清晰的文章，并在任何设备上阅读。 [caption id=”attachment_995” align=”alignnone” width=”2084”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket_chrome_extension.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket_chrome_extension.jpg" alt="pocket chrome 插件使用示意图"></a> pocket chrome 插件使用示意图，按钮变红表示已保存成功[/caption] <a href="http://getpocket.com/" title="Pocket 官方网站" target="_blank" rel="noopener">Pocket</a> （前称Read It Later）有官方 Chrome 插件，点击一下插件按钮即可将当前网页正文保存下来。 [caption id=”attachment_996” align=”alignnone” width=”584”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket_reading.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/pocket_reading-1024x670.jpg" alt="pocket 保存下来的正文的排版效果"></a> pocket 保存下来的正文的排版效果[/caption] 保存下来的文章可以直接在 Pocket 网页版中阅读。</p><h2 id="crofflr-工具介绍"><a href="#crofflr-工具介绍" class="headerlink" title="crofflr 工具介绍"></a>crofflr 工具介绍</h2><p>[caption id=”attachment_984” align=”alignnone” width=”584”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr-1024x543.jpg" alt="crofflr 登录后的后台界面"></a> crofflr 登录后的后台界面[/caption] <a href="http://www.crofflr.com/" title="crofflr" target="_blank" rel="noopener">crofflr</a> 可以定时制作电子书并推送。它是 Pocket 官方推荐的将 Pocket 待读列表上的全文推送到 Kindle 的工具。 crofflr 默认会忽略图片，但开启开关后，图片会自动转换成黑白，并随全文发送。可以自行在 E-Book 选项卡中设置。</p><h2 id="用-crofflr-打通-Kindle-和-Pocket"><a href="#用-crofflr-打通-Kindle-和-Pocket" class="headerlink" title="用 crofflr 打通 Kindle 和 Pocket"></a>用 crofflr 打通 Kindle 和 Pocket</h2><p>[caption id=”attachment_985” align=”alignnone” width=”1004”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_login.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_login.jpg" alt="crofflr 登录方法截图"></a> crofflr 登录方法截图[/caption] <a href="http://www.crofflr.com/" title="crofflr" target="_blank" rel="noopener">crofflr</a> 使用 openID 登录，只需在 <a href="http://www.crofflr.com/" title="crofflr 首页" target="_blank" rel="noopener">crofflr 首页</a> 最底部的 Login 按钮前输入自己的 Google Plus 地址 （格式为 <a href="https://plus.google.com/**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\**" target="_blank" rel="noopener">https://plus.google.com/**\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\**</a><em> ， <em>**</em></em> 号为自己特有的21位 ID）即可登录。<strong>第一次使用 <a href="http://www.crofflr.com/" title="crofflr" target="_blank" rel="noopener">crofflr</a> 要一次性通过 Paypal 支付 $5 美元的费用</strong>，之后不再收费。前两次推送时，如果对效果不满意，可以立即申请退费。 [caption id=”attachment_987” align=”alignnone” width=”2084”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_kindle.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_kindle.jpg" alt="crofflr 设置 kindle 推送的截图说明"></a> crofflr 设置 kindle 推送的截图说明[/caption] 登录 <a href="http://www.crofflr.com/" title="crofflr" target="_blank" rel="noopener">crofflr</a> 后，填入推送到 kindle 的 E-mail 地址即可。</p><h2 id="设置自动推送，享受闲暇阅读"><a href="#设置自动推送，享受闲暇阅读" class="headerlink" title="设置自动推送，享受闲暇阅读"></a>设置自动推送，享受闲暇阅读</h2><p>[caption id=”attachment_988” align=”alignnone” width=”2084”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_schedule.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/12/crofflr_schedule.jpg" alt="crofflr 定时推送设置截图说明"></a> crofflr 定时推送设置截图说明[/caption] 点击 schedule 选项卡，设置推送频率和时间点即可。是每天睡前的十点整，还是每天刚睡醒的清晨，或是每个周末的早上，悉听尊便。</p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>(2014/06/23 更新) crofflr 和 pocket 的连接有时间限制，每半年要进 crofflr 的后台手动重连一次。 国内宽带不翻墙实测 crofflr 的 js 脚本时有加载失败的情况。此时做任何更改，很可能都不会如愿生效。 <strong>所以，若看到 crofflr 的后台没有样式，请多在浏览器中按几次回车或刷新，直到界面正常为止！</strong> (2015/06/12 更新) crofflr 的发送邮箱疑似已被亚马逊中国封禁。解决办法如下： 向 crofflr 填 kindle 邮箱的地方，填入你的网易邮箱地址，例如 <a href="mailto:a@163.com" target="_blank" rel="noopener">a@163.com</a> 。然后在网易邮箱的 “设置 -&gt; 来信分类” 中设置发件人包含 @crofflr.com 的自动转发到你的 kindle 推送邮箱。亲测通过。</p>]]></content>
      
      <categories>
          
          <category> 良工利器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> featured </tag>
            
            <tag> kindle </tag>
            
            <tag> kindle paperwhite </tag>
            
            <tag> crofflr </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>顽固守旧者的福音：用 CSS3 MediaQueries JS 和 CSS3 做跨浏览器弹性布局</title>
      <link href="/post/css3-mediaqueries-js-introduction.html"/>
      <url>/post/css3-mediaqueries-js-introduction.html</url>
      <content type="html"><![CDATA[<h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h2><p>本文诠释一种纯 CSS3 + 现成 javaScript 的兼容旧浏览器的弹性布局的制作方法。 做弹性布局时，为了兼容性（IE6、IE7、IE8），一般都是用 JavaScript 绑定 window.onresize 。这样虽然行得通，却有点浪费支持 CSS3 的先进浏览器。 而引入 CSS3 MediaQueries JS ，就能使低级浏览器完美支持 css3 的 media query 。<strong>一套代码，处处可用，把兼容性问题都丢给轮子去解决吧！</strong> CSS3 MediaQueries JS 开发于 2008 年。支持 IE 5+, Firefox 1+ and Safari 2 。IE9+, Firefox 3.5+, Opera 7+, Safari 3+ 和 Chrome 已经原生支持 media query 了。</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>在 body 之前插入如下代码，条件性判断应该也可以省略不要：</p><p>&lt;!–[if lt IE 9]&gt;<script src="css3-mediaqueries.js"></script>&lt;![endif]—&gt;</p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li>不支持 @import ；</li><li>对 <link> 和 <style> 标签内的 media 属性无效；</li><li>以上两条来自官方 readme ；</li><li>不要用一些奇怪的、明显冲突的 CSS；</li><li>如果布局乱了，先从自己 CSS 代码的浏览器兼容性找原因；</li><li>以上两条为博主 debug 的经验。</li></ol><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>网易博客时事二级页 <a href="http://blog.163.com/special/001264EF/sec-page-community.html">http://blog.163.com/special/001264EF/sec-page-community.html</a> <a href="https://www.bokeyy.com/wp-content/uploads/2013/11/wide-screen.jpg"><img src="https://www.bokeyy.com/wp-content/uploads/2013/11/wide-screen-300x145.jpg" alt="宽屏四列布局"></a><a href="https://www.bokeyy.com/wp-content/uploads/2013/11/normal-screen.jpg"><img src="https://www.bokeyy.com/wp-content/uploads/2013/11/normal-screen-300x193.jpg" alt="窄屏三列布局"></a></p><h2 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h2><p>CSS3 MediaQueries JS 最早的项目地址是 <a href="http://code.google.com/p/css3-mediaqueries-js/" title="http://code.google.com/p/css3-mediaqueries-js/">http://code.google.com/p/css3-mediaqueries-js/</a> ，现在已经在 Github 上经过很多人的修改了，目前可以在此访问到使用说明和源代码： <a href="https://github.com/livingston/css3-mediaqueries-js">https://github.com/livingston/css3-mediaqueries-js</a> 。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li>《自适应网页设计（Responsive Web Design）》 阮一峰 <a href="http://www.ruanyifeng.com/blog/2012/05/responsive_web_design.html">http://www.ruanyifeng.com/blog/2012/05/responsive_web_design.html</a></li></ul></style></li></ol>]]></content>
      
      <categories>
          
          <category> HTML5 </category>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> featured </tag>
            
            <tag> CSS3 </tag>
            
            <tag> JS </tag>
            
            <tag> mediaquery </tag>
            
            <tag> 响应式 </tag>
            
            <tag> 弹性布局 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>前端页面的容错性筛查顺序</title>
      <link href="/post/e9-87-8d-e8-a6-81-e9-a1-b5-e9-9d-a2-e7-9a-84-e5-ae-b9-e9-94-99-e6-80-a7-e7-ad-9b-e6-9f-a5-e9-a1-ba-e5-ba-8f.html"/>
      <url>/post/e9-87-8d-e8-a6-81-e9-a1-b5-e9-9d-a2-e7-9a-84-e5-ae-b9-e9-94-99-e6-80-a7-e7-ad-9b-e6-9f-a5-e9-a1-ba-e5-ba-8f.html</url>
      <content type="html"><![CDATA[<p>今天编辑下线了一些内容，导致页面 JavaScript 报错，阻止了后面的 JavaScript 代码运行导致页面空白。反思了一下和内容部门合作的页面需要筛查容错性的步骤，应该就分几种读取到的情况考虑就行了： 1、空：概率很低很低，直接让后端予以弥补，比如直接输出页面上一个读取的内容。 2、条数不足：这个就是今天遇到的问题，主要是容易裂掉的地方该定高定高，用到 JavaScript 的地方就要考虑到实际条数不够的情况 ，这个是太给自己添麻烦了。 3、不符合约定：概率很低很低，总之该定高该定宽的地方定了，overflow:hidden 加上，应该也没啥了。如果不支持内容部门直接填 HTML 代码，就把大于号小于号什么的转码一下拉倒。 网上没有搜索到相关的文章，这真的不够格算一件事情吧！</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
          <category> 测试工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端开发 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 实践 </tag>
            
            <tag> 容错性 </tag>
            
            <tag> 归纳 </tag>
            
            <tag> 筛查顺序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>BAE 2.0 上 wordpress 3.5.2 原版发邮件的方法</title>
      <link href="/post/e8-bd-ac-e8-bd-bdbae-e4-b8-8a-e5-8e-9f-e7-89-88wordpress-e5-8f-91-e9-82-ae-e4-bb-b6.html"/>
      <url>/post/e8-bd-ac-e8-bd-bdbae-e4-b8-8a-e5-8e-9f-e7-89-88wordpress-e5-8f-91-e9-82-ae-e4-bb-b6.html</url>
      <content type="html"><![CDATA[<p><strong>注意！！由于 BAE 2.0 已经全面下线，本文内容不再有用！！</strong> 本站用的就是最新的原版的 wordpress 3.5.2 。<a href="http://boliquan.com/" title="玻璃泉" target="_blank" rel="noopener">玻璃泉</a>上的 <a href="http://boliquan.com/bae-original-wordpress-send-mail/" title="BAE 上原版 wordpress 发邮件教程" target="_blank" rel="noopener">《BAE上原版wordpress发邮件教程》</a> 文章已经说得很清楚了。以下五个步骤是根据此文针对最新 SDK 作出的修改后亲测有效的方法。 1、<a href="http://bcs.duapp.com/bcms-php-sdk/bcms-sdk-php_1.3.tar.gz" title="BAE 云消息服务 PHP SDK 官方下载链接" target="_blank" rel="noopener">下载“Bcms.class.php”文件和“lib”文件夹的压缩包</a>，也就是官方的 SDK（来自<a href="http://developer.baidu.com/wiki/index.php?title=docs/cplat/mq/guide" title="BAE云消息服务开发指南" target="_blank" rel="noopener">消息队列的官方文档</a>）。后将它们放入wp-includes目录下。“sample”文件夹不用放进去。 2、接下来，在 wordpress 根目录下的 wp-config.php 文件中加入如下几行（如果已有则不用重复添加）： <code>/* 消息队列 */ define(&#39;BCMS_QUEUE&#39;,&#39;您的消息队列名那一串&#39;); $bcms_host = &#39;bcms.api.duapp.com&#39;; /* accessKey 和 secretKey 消息队列要用 */ $accessKey = getenv(&#39;HTTP_BAE_ENV_AK&#39;); $secretKey = getenv(&#39;HTTP_BAE_ENV_SK&#39;);</code> 3、然后打开 wp-includes 下的 pluggable.php 文件，查找 <code>if ( !function_exists( &#39;wp_mail&#39; ) ) :</code> 在它的上一行添加如下代码： <code>/** * BAE Send Mail * BCMS */ if ( !function_exists( &#39;wp_mail&#39; ) ) : function wp_mail( $to, $subject, $message, $headers = &#39;&#39;, $attachments = array() ) { require_once ABSPATH . WPINC . &#39;/Bcms.class.php&#39;; $bcms = new Bcms ( $accessKey, $secretKey, $bcms_host) ; $ret = $bcms-&gt;mail ( BCMS_QUEUE, $message, array($to), array( Bcms::MAIL_SUBJECT =&gt; $subject)) ; if ( false === $ret ) { return false; } else { return true; } } endif;</code> 4、这样就行了，可以正常发出来自 BCMS 的电子邮件了。发出的邮件不出意料的落在的垃圾邮件文件夹里： <a href="https://www.bokeyy.com/wp-content/uploads/2013/07/2013-07-25-16.42.33.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/07/2013-07-25-16.42.33-150x150.png" alt="用 BAE BCMS 发出的 wordpress 重设密码邮件"></a>用 BAE BCMS 发出的 wordpress 重设密码邮件 5、Bcms 的 class 不能重复定义。BAE 环境中已经内置了一些定义，所以把报重定义 Fatal Error 的 PHP 文件内的内容全部注释掉即可。 最后，距离前文提到的<a href="http://boliquan.com/bae-original-wordpress-send-mail/" title="BAE 上原版 wordpress 发邮件教程" target="_blank" rel="noopener">《BAE上原版wordpress发邮件教程》</a> 撰文的 2012-11-15 已经过去了一年半多，可以看到现在本文代码中调用 BCMS 的方法和那时的已经略有不同，需要 $accessKey 和 $secretKey 和指定 $bcms_host。 BCMS 的 SDK 也许将来还会再作修改，到时应该以官方的 SDK 里的 sample.php 的方法为准。 6、BAE 2.0 的 BCMS 服务有配额，配额里发邮件次数用完了就不能再发邮件了。据 BAE 客服回复，BAE 3.0 可以直接发邮件，不需要 mail 服务。有条件的可以往 BAE 3.0 （收费） 迁移，就省去这个麻烦了。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BAE </tag>
            
            <tag> wordpress </tag>
            
            <tag> 百度云 </tag>
            
            <tag> BCMS </tag>
            
            <tag> 发邮件 </tag>
            
            <tag> 最新方法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>测试 BAE 下 wordpress 插入图片是否正常</title>
      <link href="/post/bae-e5-9b-be-e7-89-87-e6-8f-92-e5-85-a5-e6-b5-8b-e8-af-95.html"/>
      <url>/post/bae-e5-9b-be-e7-89-87-e6-8f-92-e5-85-a5-e6-b5-8b-e8-af-95.html</url>
      <content type="html"><![CDATA[<p>[caption id=”attachment_837” align=”alignnone” width=”150”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7-150x150.jpg" alt="公司一角的一束红玫瑰"></a> 工位的玫瑰[/caption] 以上是用 wordpress 的媒体库功能直接传到 /wp-content/uploads/ 下的测试。不考虑浏览器缓存的情况下，这个图片文件只能当天保持，之后就消失了。   [caption id=”attachment_847” align=”alignnone” width=”150”]<a href="https://www.bokeyy.com/wp-content/uploads/2013/07/IMG_1879.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/07/IMG_1879-150x150.jpg" alt="天使的翅膀"></a> 天使的翅膀[/caption] 以上是直接传到 bucket 下的测试   用 BAE 的 搭建的 wordpress 是否能够正常插入图片？ 这是用 BAE 搭建的 wordpress 添加图片媒体的测试。 可见，＂工位的玫瑰＂图片自动上传后的地址是 <strong><a href="https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7.jpg" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7.jpg</a>  ，</strong>依然是在 wp-content 的 upload 目录下。 结果可见， <strong><a href="https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7.jpg" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2013/07/YqDZ7.jpg</a>  </strong> 这个文件只是临时存在，明天就会被清除，而 buckets 才是可以一直存在的。 在 <a href="http://mawenjian.net/p/1018.html" target="_blank" rel="noopener">http://mawenjian.net/p/1018.html</a> 下载了个 <strong>百度云附件(BCS Support) v1.1 </strong> 的 wordpress 插件，再用同样的方法传了张图＂天使的翅膀＂到 <strong> <a href="https://www.bokeyy.com/wp-content/uploads/2013/07/IMG_1879.jpg" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2013/07/IMG_1879.jpg</a> </strong> ，是正解的使用 BAE 上的 wordpress 传文件的方法。 附赠批量替换所有旧的媒体库文件地址为新的 BAE 文件地址的 SQL 语句： update wp_posts set post_content=replace(post_content ,’<a href="http://www.yymwz.com/wp-content/uploads/&#39;,&#39;http://bcs.duapp.com/yuanyuanmwz/&#39;" target="_blank" rel="noopener">http://www.yymwz.com/wp-content/uploads/&#39;,&#39;http://bcs.duapp.com/yuanyuanmwz/&#39;</a>)</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BAE </tag>
            
            <tag> BCS Support </tag>
            
            <tag> wordpress </tag>
            
            <tag> 正常插入图片 </tag>
            
            <tag> 测试 </tag>
            
            <tag> 百度云 </tag>
            
            <tag> 百度云附件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>我的 Kindle Paperwhite 绑定新浪微博身份验证错误的解决步骤</title>
      <link href="/post/kindle-paperwhite-connect-weibo-verifying-error-fix.html"/>
      <url>/post/kindle-paperwhite-connect-weibo-verifying-error-fix.html</url>
      <content type="html"><![CDATA[<p>用正确的新浪微博用户名密码在 Kindle Paperwhite  上绑定社交网络，前几步很正常，没什么问题，如图（图片来自百度贴吧  <a href="http://tieba.baidu.com/p/2422398465" target="_blank" rel="noopener">http://tieba.baidu.com/p/2422398465</a> ）： <img src="https://www.bokeyy.com/wp-content/uploads/2013%2F08%2F7aec54e736d12f2e5f5700f34ec2d562843568d7.jpg?sign=MBO:7b9cd16415d373525c8109f552983093:LbGL%2BhonOJnrgPs4pYj%2BrXfxkn0%3D" alt="尝试使用 kindle 连接新浪微博在之前一直正常"> 然而，到最后一步却提示“<strong>身份验证错误</strong>”： <img src="https://www.bokeyy.com/wp-content/uploads/2013%2F08%2Fscreenshot_2013_06_30T13_59_44%2B0000.png?sign=MBO:7b9cd16415d373525c8109f552983093:anPvZbBrG8mUFoNagZ3xllVf%2FA8%3D" alt="kindle登录不上新浪微博的截图"> 。 换了很多 Wifi 都没有用，查了下网络上很多人也遇到类似的问题，在此分享下致电客服后得到的解决步骤： 客服建议升级固件版本到最新，当时最新是 5.3.6 ，并要确保升级时电量至少在 20% 以顺利完成升级。本人的 Kindle 当时是 5.3.1，按官方的固件升级步骤（<a href="http://www.amazon.cn/gp/help/customer/display.html/ref=hp_softwareupdates_pw?nodeId=200899290#download" target="_blank" rel="noopener">http://www.amazon.cn/gp/help/customer/display.html/ref=hp_softwareupdates_pw?nodeId=200899290#download</a> ）升级了固件，下载（167.7 M）和升级过程大概需要十来分钟。 升级后一切正常，但<strong>依然不可以绑定</strong>。这时按照客服的提示，同示按 Kindle 触摸屏幕上的两个角截图，并插上电脑导出，加上设备的一些串码之类，提供给客服指定工程师了。Kindle 是日版的水货，但是依然得到了客服妹子热情友好的帮助。大约一两天后，该功能恢复正常。推测可能是 Kindle 自身的 bug。</p>]]></content>
      
      <categories>
          
          <category> 良工利器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kindle </tag>
            
            <tag> kindle paperwhite </tag>
            
            <tag> 新浪微博身份验证错误 </tag>
            
            <tag> 无法绑定新浪微博 </tag>
            
            <tag> 解决方案 </tag>
            
            <tag> 解决步骤 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[跨浏览器]血量技能可替换的三国杀武将卡牌</title>
      <link href="/post/e8-b7-a8-e6-b5-8f-e8-a7-88-e5-99-a8-e7-9a-84-e8-a1-80-e9-87-8f-e6-8a-80-e8-83-bd-e5-8f-af-e6-9b-bf-e6-8d-a2-e7-9a-84-e4-b8-89-e5-9b-bd-e6-9d-80-e6-ad-a6-e5-b0-86-e5-8d-a1-e7-89-8c.html"/>
      <url>/post/e8-b7-a8-e6-b5-8f-e8-a7-88-e5-99-a8-e7-9a-84-e8-a1-80-e9-87-8f-e6-8a-80-e8-83-bd-e5-8f-af-e6-9b-bf-e6-8d-a2-e7-9a-84-e4-b8-89-e5-9b-bd-e6-9d-80-e6-ad-a6-e5-b0-86-e5-8d-a1-e7-89-8c.html</url>
      <content type="html"><![CDATA[<p><a href="http://v.163.com/special/zixunsubject/bpl.html" title="英超杀_英超视频年度策划_网易视频" target="_blank" rel="noopener">工作的时候切的，用不上了……</a>作为三国杀爱好者，贴出来供观摩吧…… 素材版权归设计师所有，创意版权也归原作者所有哈！ 切好后，发现直接改 PSD 输出静态图片就行了，比这个快、随意，而且编辑不会改烂而带来心里挫败感。 本页面兼容 Internet Explorer 6 及其它更高级浏览器，技能个数、技能名、技能描述、武将名、武将说明、武将血量、武将图片以及卡牌背景皆为可替换的，点击图片在新窗口查看 <a href="https://www.bokeyy.com/wp-content/uploads/2013/01/sgscard.html" target="_blank" rel="noopener">三国杀武将卡牌</a> DEMO。 <a href="https://www.bokeyy.com/wp-content/uploads/2013/01/sgscard.html" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2013/01/image.png" alt="image" title="image"></a> 页面代码及注释请看 <a href="https://www.bokeyy.com/wp-content/uploads/2013/01/sgscard.html" title="血量技能可替换的三国杀武将卡牌demo和代码" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2013/01/sgscard.html</a> 最后，亮点在于，半透明的血点点由于用了半透明的 PNG8 格式，只有 Fireworks 才能生成的那种，所以在 Internet Explorer 6 下面没有用滤镜也不会出现灰边喔！</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 跨浏览器 </tag>
            
            <tag> HTML </tag>
            
            <tag> png8半透明图像 </tag>
            
            <tag> 三国杀前端开发 </tag>
            
            <tag> 三国杀武将牌 </tag>
            
            <tag> 切图 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JavaScript 判断是否当前活动窗口</title>
      <link href="/post/javascript-e5-88-a4-e6-96-ad-e6-98-af-e5-90-a6-e5-bd-93-e5-89-8d-e6-b4-bb-e5-8a-a8-e7-aa-97-e5-8f-a3.html"/>
      <url>/post/javascript-e5-88-a4-e6-96-ad-e6-98-af-e5-90-a6-e5-bd-93-e5-89-8d-e6-b4-bb-e5-8a-a8-e7-aa-97-e5-8f-a3.html</url>
      <content type="html"><![CDATA[<p>搜索了一下没找到很正经说这件事情的跨浏览器方案，但其实这个方法很多人都会的，就是用 window.onfocus 和 window.onblur 函数来实现，支持本人 Windows XP 机器上的 Opera 12.10 、Safari 5.1.7 、 Chrome  24.0.1312.52 m 、 Firefox 18.0.1 和 Internet Explorer 6  ，<a href="https://www.bokeyy.com/wp-content/uploads/2013/01/visibility_test.html" title="JavaScript 判断是否当前活动窗口 DEMO" target="_blank" rel="noopener">点此在新窗口打开 Demo</a> ，最小化一下窗口再切换回去就能看到效果（是个无限的 alert ，只能用任务管理器关掉）。 Demo 代码如下：</p><p>var statStr = ‘’;</p><p>window.onblur = function(){</p><pre><code>statStr += &quot;blur &quot;;}</code></pre><p>window.onfocus = function(){</p><pre><code>statStr += &quot;focus &quot;;alert(statStr);}</code></pre><p>&lt;!-- .csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } –&gt;原理就是定义一个空的字符串 statStr ，每当 onblur 事件触发的时候就在后面接一个 “blur ”，每当 onfocus 事件触发的时候就在后面接一个 “focus ”，这样可以判断最小化及切换窗口的时候各个浏览器对这俩事件的触发情况。事实证明，尽管最后得到的字符串略有不同，但所有的浏览器在窗口状态切换的时候至少会触发一次这两个事件中的一个。 最后，既然都能触发，就用它来做想做的事情吧！</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> onblur </tag>
            
            <tag> onfocus </tag>
            
            <tag> 判断是否当前活动浏览器标签 </tag>
            
            <tag> 判断是否当前活动窗口 </tag>
            
            <tag> 判断是否当前窗口 </tag>
            
            <tag> 判断浏览器是否当前活动窗口 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[琐事]冬季外拍</title>
      <link href="/post/e7-90-90-e4-ba-8b-e5-86-ac-e5-ad-a3-e5-a4-96-e6-8b-8d.html"/>
      <url>/post/e7-90-90-e4-ba-8b-e5-86-ac-e5-ad-a3-e5-a4-96-e6-8b-8d.html</url>
      <content type="html"><![CDATA[<p>上周末 （2012年12月22日 和 2012年12月23日） 是北京今年最冷的两天，周日外拍，摄影师要求脱掉厚重的棉服。作为模特儿，本人表示配合，并且摆了个姿势： <a href="https://www.bokeyy.com/wp-content/uploads/2012/12/IMG_5945.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/12/IMG_5945_thumb.jpg" alt="IMG_5945" title="IMG_5945"></a> 冬天穿得比较笨重显矮小，不过没事，只要有自信，就上镜啊。摄手也觉得这个 Feel 不错。在我刚刚停下来的时候大喊：“不要动！”。   摄手是需要对焦、取景、调光圈、以及等待表情的时机的，本人深刻理解啊这一点啊，所以耐心的保持四肢不动。应该也没过多久……最多 60 秒吧，时不时吹点儿寒风。作为模特儿很是无所适从，眼神不知道该看哪里： <a href="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0061_.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0061__thumb.jpg" alt="nEO_IMG_DSC_0061_副本" title="nEO_IMG_DSC_0061_副本"></a> 不要动，没有棉服没有手套，有点点冷～反光板刺眼得有点睁不开眼睛。不过本人还是耐心的不要动、不要动、要动、要冻、冻………………终于听到了一声——“看这里！”。本人努力把眼神向模糊的圆圆的小镜头漂去，终于成片： <a href="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0062_.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0062__thumb.jpg" alt="nEO_IMG_DSC_0062_副本" title="nEO_IMG_DSC_0062_副本"></a>   冻死人了。 <a href="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0259_.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/12/nEO_IMG_DSC_0259__thumb.jpg" alt="nEO_IMG_DSC_0259_副本" title="nEO_IMG_DSC_0259_副本"></a></p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 冬季外拍 </tag>
            
            <tag> 发烧 </tag>
            
            <tag> 影响工作 </tag>
            
            <tag> 影响身体 </tag>
            
            <tag> 感冒 </tag>
            
            <tag> 模特儿 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[汉化] Organize Series 中文语言包</title>
      <link href="/post/e6-b1-89-e5-8c-96-organize-series-e4-b8-ad-e6-96-87-e8-af-ad-e8-a8-80-e5-8c-85-e4-b8-8b-e8-bd-bd.html"/>
      <url>/post/e6-b1-89-e5-8c-96-organize-series-e4-b8-ad-e6-96-87-e8-af-ad-e8-a8-80-e5-8c-85-e4-b8-8b-e8-bd-bd.html</url>
      <content type="html"><![CDATA[<p>Organize Series 是一个 Wrodpress 插件，和它的名字一样，“系列组织者”，其免费版本可以用来将成系列的文章独立于标签和分类，组织起来。Organize Series  可以设置每篇文章的序号。而且，Organize Series  还能自动在连载文章页加上导航链接，加上同一系列连载的文章列表导航，并提供全站通用的连载小工具挂件等。其付费扩展包更提供许多高级的功能。 为了给 <a href="http://www.yymwz.com" target="_blank" rel="noopener">www.yymwz.com</a> 做一个全中文的后台，本人决定汉化网站上安装的 Organize Series ，<a href="http://1.yymwz.sinaapp.com/wp-content/plugins/organize-series/lang/organize-series-zh_CN.mo" target="_blank" rel="noopener">点此下载 .mo 文件</a>，并上传到 Organize Series 插件的 lang 目录下，即可生效。汉化后效果如下图所示。 <a href="https://www.bokeyy.com/wp-content/uploads/2012/09/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/09/image_thumb.png" alt="image" title="image"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2012/09/image1.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/09/image_thumb1.png" alt="image" title="image"></a>   欢迎协助翻译和帮忙纠错，请点击此链接 <a href="http://organizeseries.com/translating-organize-series/" target="_blank" rel="noopener">http://organizeseries.com/translating-organize-series/</a></p>]]></content>
      
      <categories>
          
          <category> 作品 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 下载 </tag>
            
            <tag> organize series </tag>
            
            <tag> 中文翻译 </tag>
            
            <tag> 汉化 </tag>
            
            <tag> 汉语语言包 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[小结] 360安全桌面应用开发点滴（续）</title>
      <link href="/post/e5-b0-8f-e7-bb-93-360-e5-ae-89-e5-85-a8-e6-a1-8c-e9-9d-a2-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e7-82-b9-e6-bb-b4-ef-bc-88-e7-bb-ad-ef-bc-89.html"/>
      <url>/post/e5-b0-8f-e7-bb-93-360-e5-ae-89-e5-85-a8-e6-a1-8c-e9-9d-a2-e5-ba-94-e7-94-a8-e5-bc-80-e5-8f-91-e7-82-b9-e6-bb-b4-ef-bc-88-e7-bb-ad-ef-bc-89.html</url>
      <content type="html"><![CDATA[<p>这是 <a href="https://www.bokeyy.com/post/dev-360-app-experience.html" target="_blank" rel="noopener">[小结] 360安全桌面应用开发点滴</a> 的续篇。  </p><h4 id="IE-HACK"><a href="#IE-HACK" class="headerlink" title="IE HACK"></a>IE HACK</h4><ul><li>hack 只影响 IE6 IE7（出处 <a href="http://wenku.baidu.com/view/92d750d9a58da0116c1749f9.html" target="_blank" rel="noopener">http://wenku.baidu.com/view/92d750d9a58da0116c1749f9.html</a>）。但是在 360 APP 中，也会在装的 IE 是 IE8 的情况下生效。</li></ul><h4 id="FLOAT-LEFT"><a href="#FLOAT-LEFT" class="headerlink" title="FLOAT:LEFT"></a>FLOAT:LEFT</h4><p>机器装了 IE9 时，float:left; 的子元素会无视父元素的 PADDING-LEFT 值，参见  <a href="http://news.163.com/special/news-for-360/" target="_blank" rel="noopener">http://news.163.com/special/news-for-360/</a> 的 .aside DIV。</p>]]></content>
      
      <categories>
          
          <category> 兼容360浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 360应用开发 </tag>
            
            <tag> 兼容IE各版本 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Github上搭建自己的个人博客</title>
      <link href="/post/github-e4-b8-8a-e6-90-ad-e5-bb-ba-e8-87-aa-e5-b7-b1-e7-9a-84-e4-b8-aa-e4-ba-ba-e5-8d-9a-e5-ae-a2.html"/>
      <url>/post/github-e4-b8-8a-e6-90-ad-e5-bb-ba-e8-87-aa-e5-b7-b1-e7-9a-84-e4-b8-aa-e4-ba-ba-e5-8d-9a-e5-ae-a2.html</url>
      <content type="html"><![CDATA[<h2 id="1、前提"><a href="#1、前提" class="headerlink" title="1、前提"></a>1、前提</h2><p>你需要注册一个github的帐号，并登陆到<a href="https://github.com" title="github.com" target="_blank" rel="noopener">github.com</a>。这样就到达了你的个人首页。</p><h2 id="2、开始创建自己的blog"><a href="#2、开始创建自己的blog" class="headerlink" title="2、开始创建自己的blog"></a>2、开始创建自己的blog</h2><ol><li>然后点New repository创建一个新的repository，命名为：yss.github.com（这里的yss为你在github上的用户名，下面涉及到的用户名也以yss为例）</li><li>进入这个仓库：<a href="https://github.com/yss/yss.github.com" title="yss.github.com" target="_blank" rel="noopener">yss.github.com</a>，点击偏右上角的Admin，进入<a href="https://github.com/yss/yss.github.com/admin" target="_blank" rel="noopener">Admin页面</a></li><li>找到下面的灰色按钮，名为：<a href="/yss/yss.github.com/generated_pages/new">Automatic Page Generator</a></li><li>进入到上面这个页面后，点右下角的continue to Layouts。则进入了模板选择页面。</li><li>然后选择一个模板，点public按钮即可（偏右上角的位置）。</li><li>这样就可以访问你的<a href="http://yss.github.com" title="yss&#39;s blog" target="_blank" rel="noopener">github博客</a>了～</li></ol><h2 id="3、后话"><a href="#3、后话" class="headerlink" title="3、后话"></a>3、后话</h2><p>github博客还有很多扩展性的东西，有待后续去了解，去学习。 当然这是最最基本的搭建自己个人的github博客。 后期基于jekyll搭建了自己的博客：<a href="http://yansong.me" target="_blank" rel="noopener">yansong.me</a>。算是做了回所谓的用黑客的方式写博客~~</p><h2 id="4、扩展性阅读及参考"><a href="#4、扩展性阅读及参考" class="headerlink" title="4、扩展性阅读及参考"></a>4、扩展性阅读及参考</h2><p><a href="http://pages.github.com/" target="_blank" rel="noopener">http://pages.github.com/</a> <a href="https://help.github.com/categories/20/articles" target="_blank" rel="noopener">https://help.github.com/categories/20/articles</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
          <category> 主机域名 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ssh login without password(通过ssh免密码登录)</title>
      <link href="/post/ssh-login-without-password-e9-80-9a-e8-bf-87ssh-e5-85-8d-e5-af-86-e7-a0-81-e7-99-bb-e5-bd-95.html"/>
      <url>/post/ssh-login-without-password-e9-80-9a-e8-bf-87ssh-e5-85-8d-e5-af-86-e7-a0-81-e7-99-bb-e5-bd-95.html</url>
      <content type="html"><![CDATA[<h2 id="1、前言"><a href="#1、前言" class="headerlink" title="1、前言"></a>1、前言</h2><pre><code>本文简单介绍一下如何使用ssh进行免密码登录，所有的执行都是在unix环境下完成。</code></pre><h2 id="2、原理"><a href="#2、原理" class="headerlink" title="2、原理"></a>2、原理</h2><p>通过公钥加密，私钥解密去实现的。 用户机子存的是私钥，远程机子存的是对应的公钥。</p><ol><li>远程机子通过公钥加密“一段文字”给用户机子。</li><li>用户机子通过私钥去解密，并得到“这段文字”，然后以明文形式发送给远程机子。</li><li>远程机子验证接收到的文字信息是否和给出的文字信息一致，一致就确定用户可信，用户即为真实用户。</li></ol><h2 id="3、具体操作"><a href="#3、具体操作" class="headerlink" title="3、具体操作"></a>3、具体操作</h2><ol><li>首先通过ssh登录远程机子，这里命名为DEV机子。（ssh yansong@dev，然后输入密码登入）</li><li>cd ~ &amp;&amp; cd .ssh // 进入个人环境，并尝试进入.ssh目录</li><li>如果.ssh目录不存在，则创建它（mkdir .ssh）</li><li>ls // 查看.ssh目录下是否存在id_rsa, id_rsa.pub两个文件。</li><li>如果不存在上面两个文件，则创建她们（输入：ssh-keygen -t rsa，然后回车，回车即可）</li><li>cat id_rsa.pub &gt;&gt; authorized_keys // 拷贝公钥到存放验证key文件的地方</li><li>chmod 600 authoried_keys // rw——-</li><li>scp yansong@dev:.ssh/id_rsa* ~/.ssh // 拷贝id_rsa, id_rsa.pub这两个到自己本机对应的~/.ssh目录</li></ol><h2 id="4、后话"><a href="#4、后话" class="headerlink" title="4、后话"></a>4、后话</h2><p>上面内容可能会有很多不当的地方，如果不对请指正。</p><h2 id="5、参考"><a href="#5、参考" class="headerlink" title="5、参考"></a>5、参考</h2><p><a href="http://www.linuxproblem.org/art_9.html" target="_blank" rel="noopener">SSH login without password</a></p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
            <tag> without password </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>跨浏览器无拦截 AJAX 回调弹窗</title>
      <link href="/post/e8-b7-a8-e6-b5-8f-e8-a7-88-e5-99-a8-e6-97-a0-e6-8b-a6-e6-88-aa-ajax-e5-9b-9e-e8-b0-83-e5-bc-b9-e7-aa-97.html"/>
      <url>/post/e8-b7-a8-e6-b5-8f-e8-a7-88-e5-99-a8-e6-97-a0-e6-8b-a6-e6-88-aa-ajax-e5-9b-9e-e8-b0-83-e5-bc-b9-e7-aa-97.html</url>
      <content type="html"><![CDATA[<h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p>用户点击“提交”后，若 AJAX 提交接口提示成功，则弹出某个汇总页的窗口。</p><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>所有浏览器都不会拦截用户主动促发事件中的弹窗。一般认为，“用户主动促发”只包含 click 和 submit 。所以在 click 事件打开一个空白的新窗口，可以是一个写有 loadding title 的空白页面：</p><p>var newWin = window.open(“loadding Url”);</p><p>若 AJAX 成功后，用回调函数将刚刚打开窗口的 url 改成目标地址：</p><p>newWin.location.href = “target url”;</p><p>否则，关闭该窗口：</p><p>newWin.close();</p><p>由于 AJAX 所需的时间并不长，虽然分了两步，用户看起来却几乎是流畅的。</p><h4 id="兼容IE"><a href="#兼容IE" class="headerlink" title="兼容IE"></a>兼容IE</h4><p>实践这个方法会发现 IE 报错提示权限不足，这时需要将：打开弹窗的页面、弹窗的 loadding 页面 和 弹窗的目标页面都设置在同一域名下。例如，都加上代码：</p><p>document.domain=”163.com”;</p><h4 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h4><p>感谢清华高材生 @weixiaoquan 童鞋的主意。类似思路应可应用于非 AJAX 回调的其它需要无拦截弹出窗口的场合上。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> AJAX回调无拦截弹窗 </tag>
            
            <tag> window.open </tag>
            
            <tag> 无拦截弹窗 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>兼容 IE 的时间日期构造函数</title>
      <link href="/post/e5-85-bc-e5-ae-b9-ie-e7-9a-84-e6-97-b6-e9-97-b4-e6-97-a5-e6-9c-9f-e6-9e-84-e9-80-a0-e5-87-bd-e6-95-b0.html"/>
      <url>/post/e5-85-bc-e5-ae-b9-ie-e7-9a-84-e6-97-b6-e9-97-b4-e6-97-a5-e6-9c-9f-e6-9e-84-e9-80-a0-e5-87-bd-e6-95-b0.html</url>
      <content type="html"><![CDATA[<p>在除了 IE 的浏览器下，直接这样写：</p><p>var date = new Date(“2011-11-07”);</p><p>.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } IE 下 date 会是 NaN，所以用下法替代：</p><p>function NewDate(str)</p><pre><code>{str=str.split(&apos;-&apos;); var date=new Date(); date.setUTCFullYear(str\[0\], str\[1\]-1, str\[2\]); date.setUTCHours(0, 0, 0, 0); return date;}</code></pre><p>.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; }   同理可以加上时间：</p><pre><code>function newDateAndTime(dateStr){    var ds = dateStr.split(&quot; &quot;)\[0\].split(&quot;-&quot;);    var ts = dateStr.split(&quot; &quot;)\[1\].split(&quot;:&quot;);    var r = new Date();    r.setFullYear(ds\[0\],ds\[1\] - 1, ds\[2\]);    r.setHours(ts\[0\], ts\[1\], ts\[2\], 0);    return r;}</code></pre><p>.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; }</p><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p><a href="http://stackoverflow.com/questions/2182246/javascript-dates-in-ie-nan-firefox-chrome-ok" title="http://stackoverflow.com/questions/2182246/javascript-dates-in-ie-nan-firefox-chrome-ok" target="_blank" rel="noopener">http://stackoverflow.com/questions/2182246/javascript-dates-in-ie-nan-firefox-chrome-ok</a> <a href="http://www.w3school.com.cn/js/jsref_obj_date.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/jsref_obj_date.asp</a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> 兼容各浏览器 </tag>
            
            <tag> 兼容IE各版本 </tag>
            
            <tag> IE 日期 NaN </tag>
            
            <tag> 时间构造函数 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>MacOS 入门快速指南</title>
      <link href="/post/macos-e5-85-a5-e9-97-a8-e5-bf-ab-e9-80-9f-e6-8c-87-e5-8d-97.html"/>
      <url>/post/macos-e5-85-a5-e9-97-a8-e5-bf-ab-e9-80-9f-e6-8c-87-e5-8d-97.html</url>
      <content type="html"><![CDATA[<p><strong>快捷键</strong> command键代替了大量的ctrl键和alt键的功能。比如 ctrl+c ctrl+v ctrl+s alt+tab 等最常见的 可以自行搜索 mac快捷键 得到更多 官方也有文档 <a href="http://support.apple.com/kb/HT1343?viewlocale=zh_CN&amp;locale=zh_CN" target="_blank" rel="noopener">http://support.apple.com/kb/HT1343?viewlocale=zh_CN&amp;locale=zh_CN</a> <strong>输入法</strong> 默认是没开启的，去系统设置 语言 中开启。快捷键也在系统设置 键盘 中设置 默认是没有开启快捷键的 建议开启 command＋空格 如果觉得默认的输入法不太好用，可以去装 FIT输入法 <strong>F1-F12系列功能键</strong> 默认不需要按fn就生效，对程序员则不太方便，可以改掉。在 系统设置 键盘 第一个tab 把第一个选项勾选。 如果有更多键盘定制的需求（比如使用外接键盘控制音量，屏幕亮度，expose等），可以使用键盘映射工具<a href="http://pqrs.org/macosx/keyremap4macbook/" target="_blank" rel="noopener">KeyRemap4MacBook</a> <strong>spotlight</strong> 可以快速启动程序的工具，可以根据输入的字母自动提示。推荐一个替代品：google quick search box，更好用。spotlight默认的快捷键和输入法冲突，需要设置 系统设置 键盘 第二个tab找spotlight。这个tab下半部分，也是对程序员有用的设置。比如登录美团的那页，输入完用户名和密码后，按tab默认是不回跳到checkbox上的。加了这个设置后才回跳过去。 <strong>触摸板</strong> 默认需要按下整个触摸板才算click，与大部分笔记本不同。去系统设置 trackpad 改一下，增加 tap to click，tap to drag <strong>工具</strong> im 装 audium (gtalk, msn) skype evernote 压缩解压 Unarchiver 视频播放 vlc 办公 office 2011 for mac 具体看 <a href="http://www.opensourcemac.org/" target="_blank" rel="noopener">http://www.opensourcemac.org/</a> <strong>浏览器</strong> 装 firefox chrome flash10 firebug firecookie 等等 <strong>dock</strong> mac的任务栏。默认dock里有很多内置程序，可以右键（两个手指一下按触摸板）选options remove from dock删掉 开机启动 右键选options open at login 位置、是否隐藏、是否磁性放大 自己按喜好设置 其实有spotlight或者google quicksearch box dock并不太常用，都直接可以输入命令来找 <strong>终端</strong> terminal 在 finder application utility 下，可以拖一个图标出来。不过我更喜欢直接输入terminal用quicksearch box启动 可以自己选择主题和各种设置，不过最后要记得在Shell菜单选择 Use settings as default，否则新开的窗口并不是自己设置过的 也可以安装功能更强的中断工具，比如 iTerm，可以全屏使用。 <strong>与windows共享</strong> <a href="http://opnir.com/307/mac-os-x-access-windows-shared-folders" target="_blank" rel="noopener">http://opnir.com/307/mac-os-x-access-windows-shared-folders</a> <strong>软件下载</strong></p><ol><li>AppStore</li><li>Google Search!</li><li><a href="http://horse.sankuai.com/Soft.For.Mac/" target="_blank" rel="noopener">http://horse.sankuai.com/Soft.For.Mac/</a></li><li><a href="http://www.macx.cn/" target="_blank" rel="noopener">http://www.macx.cn/</a></li></ol>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MAC </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Github上更新自己fork的代码</title>
      <link href="/post/github-e4-b8-8a-e6-9b-b4-e6-96-b0-e8-87-aa-e5-b7-b1fork-e7-9a-84-e4-bb-a3-e7-a0-81.html"/>
      <url>/post/github-e4-b8-8a-e6-9b-b4-e6-96-b0-e8-87-aa-e5-b7-b1fork-e7-9a-84-e4-bb-a3-e7-a0-81.html</url>
      <content type="html"><![CDATA[<h2 id="一、前提"><a href="#一、前提" class="headerlink" title="一、前提"></a>一、前提</h2><p>本文的前提是你已经在github上fork了别人的分支，并且弄好了跟github的ssh连接。 相关配置详情参考：<a href="https://help.github.com" target="_blank" rel="noopener">https://help.github.com</a></p><h2 id="二、详细操作"><a href="#二、详细操作" class="headerlink" title="二、详细操作"></a>二、详细操作</h2><ol><li>检出自己在github上fork别人的分支到rrest目录下，其中rrest目录之前是不存在的。<br>git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:yss/rrestjs.git rrest</li><li><p>然后增加远程分支（也就是你fork那个人的分支）名为bob（这个名字任意）到你本地。<br>git remote add bob <a href="https://github.com/DoubleSpout/rrestjs.git" target="_blank" rel="noopener">https://github.com/DoubleSpout/rrestjs.git</a><br>如果你运行命令：git remote -v你会发现多出来了一个Bob的远程分支。如下：</p><p>bob <a href="https://github.com/DoubleSpout/rrestjs.git" target="_blank" rel="noopener">https://github.com/DoubleSpout/rrestjs.git</a> (fetch)<br>bob <a href="https://github.com/DoubleSpout/rrestjs.git" target="_blank" rel="noopener">https://github.com/DoubleSpout/rrestjs.git</a> (push)<br>origin <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:yss/rrestjs.git (fetch)<br>origin <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:yss/rrestjs.git (push)</p></li><li><p>然后，把对方的代码拉到你本地。<br>git fetch bob</p></li><li>最后，合并对方的代码。<br>git merge bob/master</li><li>最最后，把最新的代码推送到你的github上。<br>git push origin master</li></ol><p>这样就完成了自己的代码更新。</p><h2 id="三、后话"><a href="#三、后话" class="headerlink" title="三、后话"></a>三、后话</h2><p>此文目的在于记录自己使用github的经验，如果你也使用github的话，希望对你有帮助。谢谢~。</p><h2 id="四、本文完全转载自"><a href="#四、本文完全转载自" class="headerlink" title="四、本文完全转载自"></a>四、本文完全转载自</h2><p><a href="http://blog.csdn.net/do_it__/article/details/7836513" target="_blank" rel="noopener">http://blog.csdn.net/do_it__/article/details/7836513</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
          <category> 网站开发 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>jpg/jpeg图片优化之jpegoptim</title>
      <link href="/post/jpgjpeg-e5-9b-be-e7-89-87-e4-bc-98-e5-8c-96-e4-b9-8bjpegoptim.html"/>
      <url>/post/jpgjpeg-e5-9b-be-e7-89-87-e4-bc-98-e5-8c-96-e4-b9-8bjpegoptim.html</url>
      <content type="html"><![CDATA[<h2 id="一、前话"><a href="#一、前话" class="headerlink" title="一、前话"></a>一、前话</h2><p>对于图片优化，可能很多人都有这个想法，但是真正用于实践的人真的不多。 在chrome下使用pagespeed可以很清楚的看到在中优先级里，有一个项名为：优化图片，说的就是图片优化的事。里面列出网站所有可以压缩的图片。 基于对google的信任和崇拜，自然要弄明白用的是什么工具，然后查了一下<a href="https://developers.google.com/speed/docs/best-practices/payload?hl=zh-CN#CompressImages" target="_blank" rel="noopener">官方文档</a>，说是对于jpg／jpeg文件推荐使用jpegoptim进行压缩，但是没有说怎么去使用参数。这样就出现了本文。</p><h2 id="二、jpegoptim使用"><a href="#二、jpegoptim使用" class="headerlink" title="二、jpegoptim使用"></a>二、jpegoptim使用</h2><p>在网上找到了一篇文章：<a href="http://hi.baidu.com/zhangsilly/blog/item/96cff9d30d0a0d23970a169a.html" target="_blank" rel="noopener">jpegoptim 优化 jpeg 图片</a>，里面提供的一个方法是：jpegoptim –strip-com –strip-exif –strip-iptc -m85 ./IMG_4542.jpg 基于这些隔参数写了一个基于nodejs的压缩jpg脚本：</p><h3 id="大致思路："><a href="#大致思路：" class="headerlink" title="大致思路："></a>大致思路：</h3><ol><li>获取到对于的源文件，执行jpegoptim。</li><li>循环遍历文件里不是jpg/jpeg文件，判断是否是文件目录，是的话执行第一步</li></ol><h3 id="具体源码："><a href="#具体源码：" class="headerlink" title="具体源码："></a>具体源码：</h3><p>/**<br> *  jpg图片优化<br> *  使用：node jpg.js sourceDirname receiveDirname<br> *  采用了jpepoptim工具<br> <em> </em>/<br>var path = require(‘path’),<br>    fs = require(‘fs’),<br>    child_process = require(‘child_process’),<br>    exec = child_process.exec,<br>    tplCommand = ‘jpegoptim –dest={r} -f -m85 –strip-com –strip-exif –strip-iptc {s}’,<br>    sourceDir = process.argv[2] &amp;&amp; path.resolve(process.argv[2]),<br>    receiveDir = process.argv[3] &amp;&amp; path.resolve(process.argv[3]),<br>    jpgReg = /\.(jpg|jpeg)$/;</p><p>console.log(sourceDir, receiveDir);<br>if (!isDirectory(sourceDir)) {<br>    console.log(‘source dirname is require.’);<br>    process.exit(1);<br>}<br>// 判断是否有receive文件目录，没有在sourceDir的路径创建一个**_optimize目录<br>if (!receiveDir) {<br>    receiveDir = sourceDir + ‘_optimize’;<br>    console.log(‘Need add receiveDir:’, receiveDir);<br>    if (!isDirectory(receiveDir)) {<br>        fs.mkdirSync(receiveDir);<br>    }<br>}<br>// 判断是否存在给定文件地址，没有则创建它<br>if (!isDirectory(receiveDir)) {<br>    console.log(‘mkdir:’, receiveDir);<br>    fs.mkdirSync(receiveDir);<br>}</p><p>console.log(‘sourceDir:’, sourceDir, ‘ receiveDir: ‘, receiveDir);<br>/**<br> * @description: 优化处理函数<br> * @param: dirname 文件目录的绝对路径，如：/home/ys/project/<br> * @param: pathname 文件相对于要压缩的目录的路径，如：pic/<br> */<br>function optimize(dirname, pathname) {<br>    fs.readdir(dirname, function(err, files) {<br>        if (err) {<br>            console.log(‘Readdir:’, dirname, err);<br>            process.exit(1);<br>        } else {<br>            console.log(files);<br>            var l = files.length,<br>                filepath;<br>            // 空文件情况<br>            if (l &gt; 0) {<br>                compressJpeg(dirname, pathname);<br>                while(l–) {<br>                    if (!jpgReg.test(files[l])) {<br>                        filepath = path.resolve(dirname, files[l]);<br>                        if (isDirectory(filepath)) {<br>                            optimize(filepath, files[l]);<br>                        } else {<br>                            console.log(‘No such dirname:’, filepath);<br>                        }<br>                    }<br>                }<br>            }<br>        }<br>    });<br>}</p><p>/**<br> * @description:压缩目录下所有的jpg，jpeg文件<br> * @param: dirname 文件目录的绝对路径，如：/home/ys/project/<br> * @param: pathname 文件相对于要压缩的目录的路径，如：pic/<br> <em>/<br>function compressJpeg(dirname, pathname) {<br>    var receive = path.resolve(receiveDir, pathname);<br>    if (path !== ‘’) {<br>        if (!isDirectory(receive)) {<br>            fs.mkdirSync(receive);<br>        }<br>    }<br>    var data = {<br>        s : path.resolve(dirname, ‘</em>‘),<br>        r : receive<br>    },<br>    command = tplCommand.replace(/{(\w+)}/g, function($0, $1) {<br>        return data[$1];<br>    });<br>    console.log(command)<br>    exec(command, function(err, stdout) {<br>        if (err) {<br>            console.log(“Exec err: “, err);<br>            // process.exit(1);<br>        }<br>        console.log(‘optimize folder:’, stdout);<br>    });<br>}</p><p>/**<br> * @description: 是否是一个文件目录<br> * @param: path 文件目录<br> */<br>function isDirectory(path) {<br>    if (fs.existsSync(path)) {<br>        return fs.statSync(path).isDirectory();<br>    }<br>    return false;<br>}<br>optimize(sourceDir, ‘’);</p><h2 id="三、后话："><a href="#三、后话：" class="headerlink" title="三、后话："></a>三、后话：</h2><p>以后打算再在里面添加png优化的工具。</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图片优化 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>基于Git的网站自动发布流程浅析</title>
      <link href="/post/e5-9f-ba-e4-ba-8egit-e7-9a-84-e7-bd-91-e7-ab-99-e8-87-aa-e5-8a-a8-e5-8f-91-e5-b8-83-e6-b5-81-e7-a8-8b-e6-b5-85-e6-9e-90.html"/>
      <url>/post/e5-9f-ba-e4-ba-8egit-e7-9a-84-e7-bd-91-e7-ab-99-e8-87-aa-e5-8a-a8-e5-8f-91-e5-b8-83-e6-b5-81-e7-a8-8b-e6-b5-85-e6-9e-90.html</url>
      <content type="html"><![CDATA[<p>———— 以下都是我个人根据自己工作方式的猜想，有可能是错的。 ————</p><h2 id="一、简述"><a href="#一、简述" class="headerlink" title="一、简述"></a>一、简述</h2><ol><li>一个远程的Git代码仓库（用于管理提交的代码）；</li><li>发布人员登录发布机子，然后从这个Git代码仓库上pull下最新的代码；</li><li>通过一个自动打包发布的脚本，<a href="http://zh.wikipedia.org/wiki/Rsync" target="_blank" rel="noopener">rsync</a>（<a href="http://baike.baidu.com/view/611109.htm" target="_blank" rel="noopener">rcp</a> or <a href="http://baike.baidu.com/view/18809.htm" target="_blank" rel="noopener">scp</a> ?）到一个分发服务器，然后由这个分发服务器转发给所有的服务器。</li></ol><h2 id="二、发布脚本浅析"><a href="#二、发布脚本浅析" class="headerlink" title="二、发布脚本浅析"></a>二、发布脚本浅析</h2><p>在上面的这些过程中，最重要的环节莫过于这个自动打包发布的脚本了。</p><h3 id="基本过程大概如下："><a href="#基本过程大概如下：" class="headerlink" title="基本过程大概如下："></a>基本过程大概如下：</h3><ol><li>比较一下从git仓库pull下来的代码，和之前的代码区别，主要是比较有哪些文件改动过, 如通过一个命令：git diff commitid –name-only, commitid指代的是上次pull后的commit id，也就是之前没有pull前的版本号。</li><li>获取到改动的文件后，遍历每一个改动的文件，并分类。如css文件，js文件，html文件。</li><li>对不同的分类文件，分别做相关处理。如css文件，对应的加一个最新的版本号（一般使用的是md5）,然后对应的修改所有引用到它的文件，这块也是最复杂的一部分，根据不同的网站，需要不一样的处理逻辑。</li><li>存储当前的版本号，如：git log –pretty -1 | awk ‘/^commit/{print $2}’。</li><li>将所有改动的文件进行打包，发布到分发服务器。</li></ol><h2 id="三、后话"><a href="#三、后话" class="headerlink" title="三、后话"></a>三、后话</h2><p>给我你的看法吧～</p><h2 id="四、本文完全转载自"><a href="#四、本文完全转载自" class="headerlink" title="四、本文完全转载自"></a>四、本文完全转载自</h2><p><a href="http://blog.csdn.net/do_it__/article/details/7836481" target="_blank" rel="noopener">http://blog.csdn.net/do_it__/article/details/7836481</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
          <category> 主机域名 </category>
          
          <category> 前端部署 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>unix下使用git管理自己的代码</title>
      <link href="/post/unix-e4-b8-8b-e4-bd-bf-e7-94-a8git-e7-ae-a1-e7-90-86-e8-87-aa-e5-b7-b1-e7-9a-84-e4-bb-a3-e7-a0-81.html"/>
      <url>/post/unix-e4-b8-8b-e4-bd-bf-e7-94-a8git-e7-ae-a1-e7-90-86-e8-87-aa-e5-b7-b1-e7-9a-84-e4-bb-a3-e7-a0-81.html</url>
      <content type="html"><![CDATA[<h2 id="一、安装Git"><a href="#一、安装Git" class="headerlink" title="一、安装Git"></a>一、安装Git</h2><p>在此不详细说明。具体参考：<a href="http://gitbook.liuhui998.com/2_1.html" target="_blank" rel="noopener">http://gitbook.liuhui998.com/2_1.html</a></p><h2 id="二、你需要了解的一些命令"><a href="#二、你需要了解的一些命令" class="headerlink" title="二、你需要了解的一些命令"></a>二、你需要了解的一些命令</h2><ol><li>git init ： 初始化代码仓库</li><li>git status ：当前代码的状态，会显示出你现在改动的文件信息，如,modify , delete, new file</li><li>git add : 增加你需要提交的代码到缓存区</li><li>git commit ：提交你的代码到仓库里</li><li>git log ：查看你提交代码的日志</li><li>git pull : 把远程代码仓库下载（拉）下来</li><li>git push: 把你本地提交的代码推送到远程代码仓库</li></ol><h2 id="三、具体使用"><a href="#三、具体使用" class="headerlink" title="三、具体使用"></a>三、具体使用</h2><ol><li>找到你代码的文件目录（cd ~/project/）</li><li>输入git init（初始化，这个时候就相当于创建了一个.git文件夹）</li><li>输入git status（查看文件状态，这个时候你会发现所有当前文件目录下的文件都为待提交状态）</li><li>输入git add .（增加所有的文件到待提交区，这里的“.”指代的是所有文件，当然你也可以以目录或文件的形式提交，如：git add css/ js/, git add css/a.css css/b.css）</li><li>输入git commit -m ‘your commit message’（提交代码到本地的git仓库，其实就是存放对应代码片段到.git文件目录里）</li></ol><h2 id="四、后记"><a href="#四、后记" class="headerlink" title="四、后记"></a>四、后记</h2><p>Git是一个很强大的工具，特别适合多人协同开发。而且可以直接在本地使用和操作。很多网站的自动打包上线，都是在git上做的一些个开发。可以说Git一般是网站自动化构建的一个基础。</p><h2 id="五、本文完全转载自"><a href="#五、本文完全转载自" class="headerlink" title="五、本文完全转载自"></a>五、本文完全转载自</h2><p><a href="http://blog.csdn.net/do_it__/article/details/7836472" target="_blank" rel="noopener">http://blog.csdn.net/do_it__/article/details/7836472</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
          <category> 主机域名 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记]跨浏览器前端字数截断</title>
      <link href="/post/text-overflow-ellipsis.html"/>
      <url>/post/text-overflow-ellipsis.html</url>
      <content type="html"><![CDATA[<p>字数截断还是后端做比较好，既跨浏览器又省流量。当然，有时前端做更有优势。例如 AJAX 取 json 数据生成链接时，链接显示宽度有限，但是链接的 title 又需要是完整的文字等。可以这样定义 CSS ：</p><p>width: (钉死的宽度值);</p><p>white-space: nowrap;</p><p>overflow: hidden;</p><p>text-overflow: ellipsis;</p><p>这样，如果字数超出钉死的宽度里面可以显示的范围，浏览器就会自动显示成： XXXXX… 其中，省略号的样式依各浏览器的不同而不同。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> css字符截断 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[兼容各浏览器]跨编码提交表单</title>
      <link href="/post/submit-form-across-diffrent-encoding.html"/>
      <url>/post/submit-form-across-diffrent-encoding.html</url>
      <content type="html"><![CDATA[<h4 id="accept-charset"><a href="#accept-charset" class="headerlink" title="accept-charset"></a>accept-charset</h4><p>form 内容会按 accept-charset 的属性编码以后再提交给服务器，例如：</p><form action="form_action.asp" accept-charset="ISO-8859-1"><br><br>  <p>First name: <input type="text" name="fname"></p><br><br>  <p>Last name: <input type="text" name="lname"></p><br><br>  <input type="submit" value="Submit"><br><br></form><p>但不支持  IE 。  </p><h4 id="onsubmit-”document-charset-’utf-8’-”"><a href="#onsubmit-”document-charset-’utf-8’-”" class="headerlink" title="onsubmit=”document.charset=’utf-8’;”"></a>onsubmit=”document.charset=’utf-8’;”</h4><p>onsubmit=”document.charset=’utf-8’;” 在 IE 下相当于 accept-charset=’utf-8’  </p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>以上两个写在一起即可兼容所有浏览器。  </p><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p><strong>HTML form 标签的 accept-charset 属性</strong> <a href="http://www.w3school.com.cn/tags/att_form_accept_charset.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/tags/att_form_accept_charset.asp</a> <strong>用 form 提交不同编码的数据</strong> <a href="http://iiu.me/archives/94" target="_blank" rel="noopener">http://iiu.me/archives/94</a>  </p><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><p><strong>2012年春运_网易专题</strong> <a href="http://news.163.com/special/chunyun2012/" target="_blank" rel="noopener">http://news.163.com/special/chunyun2012/</a> <a href="https://www.bokeyy.com/wp-content/uploads/2012/06/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/06/image_thumb.png" alt="image" title="image"></a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 跨浏览器 </tag>
            
            <tag> IE提交表单乱码的解决方案 </tag>
            
            <tag> 跨编码提交表单 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译]针对 FireFox 的 hack</title>
      <link href="/post/hack-for-firefox.html"/>
      <url>/post/hack-for-firefox.html</url>
      <content type="html"><![CDATA[<h4 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h4><p>《CSS Hacks Targeting Firefox》 <a href="http://css-tricks.com/snippets/css/css-hacks-targeting-firefox/" target="_blank" rel="noopener">http://css-tricks.com/snippets/css/css-hacks-targeting-firefox/</a> 来自<a href="http://css-tricks.com" target="_blank" rel="noopener">css-tricks.com</a>  </p><h4 id="译文"><a href="#译文" class="headerlink" title="译文"></a>译文</h4><h5 id="Firefox-2"><a href="#Firefox-2" class="headerlink" title="Firefox 2"></a>Firefox 2</h5><p>html&gt;/**/body .selector, x:-moz-any-link {</p><p>  color:lime;</p><p>}</p><h5 id="Firefox-3"><a href="#Firefox-3" class="headerlink" title="Firefox 3"></a>Firefox 3</h5><p>html&gt;/**/body .selector, x:-moz-any-link, x:default {</p><p>  color:lime;</p><p>}</p><h5 id="所有版本的-Firefox"><a href="#所有版本的-Firefox" class="headerlink" title="所有版本的 Firefox"></a>所有版本的 Firefox</h5><p>@-moz-document url-prefix() {</p><p>  .selector {</p><pre><code>color:lime;</code></pre><p>  }</p><p>}</p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>随着浏览器的发展，Firefox 并不是没有兼容性问题。虽然它因为速度慢和竞争不过 Chrome 的原因，用户越来越少。但是对于追求完美的前端而言，偶尔还需要用到它的 hack。原文来自 <a href="http://css-tricks.com" target="_blank" rel="noopener">css-tricks.com</a> ，总共没几个字，但不是所有中文用户都能一眼定位到它。希望换了中文标题后这篇文章能够有所帮助。</p>]]></content>
      
      <categories>
          
          <category> 兼容Firefox </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Chinese Translation </tag>
            
            <tag> CSS Hacks Targeting Firefox </tag>
            
            <tag> 专门针对 Firefox 的 css hack </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[兼容IE各版本] 同时使用多个 IE 滤镜</title>
      <link href="/post/e5-85-bc-e5-ae-b9ie-e5-90-84-e7-89-88-e6-9c-ac-e5-90-8c-e6-97-b6-e4-bd-bf-e7-94-a8-e5-a4-9a-e4-b8-aa-ie-e6-bb-a4-e9-95-9c.html"/>
      <url>/post/e5-85-bc-e5-ae-b9ie-e5-90-84-e7-89-88-e6-9c-ac-e5-90-8c-e6-97-b6-e4-bd-bf-e7-94-a8-e5-a4-9a-e4-b8-aa-ie-e6-bb-a4-e9-95-9c.html</url>
      <content type="html"><![CDATA[<p>当 CSS3 遇上较低版本 IE，滤镜就成了实现兼容性的折衷方案之一。虽然滤镜是过时很久的技术了，但还是能看出微软的高瞻远瞩——早在 IE6 就用滤镜实现了 bug 丛生的 CSS3 特性。 以下是 MSDN 《Alpha Filter》 中同时使用多个滤镜的示例，适合各个 IE 版本。滤镜之间使用空格或者回车隔开（<a href="https://www.bokeyy.com/wp-content/uploads/2012/04/MSDN-co-filter-demo.html" target="_blank" rel="noopener">DEMO</a>）：</p><div style="width:100%; filter:    progid:DXImageTransform.Microsoft.MotionBlur(strength=13, direction=310)    progid:DXImageTransform.Microsoft.Blur(pixelradius=2)    progid:DXImageTransform.Microsoft.Wheel(duration=3);"><pre><code>Blurry text with smudge of gray.&lt;/div&gt;</code></pre><p>然而，由于滤镜本身的缺陷，这种组合时不时会有意想不到的效果。例如，单独使用  shadow 滤镜是给盒子里的文字加阴影特效的（<a href="https://www.bokeyy.com/wp-content/uploads/2012/04/single-shadow-filter-demo.html" target="_blank" rel="noopener">DEMO</a>）：</p><div style="font-size:36px; width:300px; height:200px;filter:progid:DXImageTransform.Microsoft.Shadow(color=#0000FF,direction=45);">测试文字</div><p>配合 Glow 滤镜也很正常，可以加上发光效果（<a href="https://www.bokeyy.com/wp-content/uploads/2012/04/shadow-glow-filters-co-work.html" target="_blank" rel="noopener">DEMO</a>）：</p><div style="font-size:36px; width:300px; height:200px;filter:progid:DXImageTransform.Microsoft.Glow(Color=red,Strength=5)progid:DXImageTransform.Microsoft.Shadow(color=#0000FF,direction=45);">测试文字</div><p>然而，再加上 Gradiant 滤镜，所有的效果就都加在 div 盒子而不是文字上的了 （<a href="https://www.bokeyy.com/wp-content/uploads/2012/04/shadow-glow-gradient-filters-co-work.html" target="_blank" rel="noopener">DEMO</a>）：</p><div style="font-size:36px; width:300px; height:200px;filter:progid:DXImageTransform.Microsoft.Gradient(enabled=bEnabled,startColorstr=#fff, endColorstr=black)progid:DXImageTransform.Microsoft.Glow(Color=red,Strength=5)progid:DXImageTransform.Microsoft.Shadow(color=#0000FF,direction=45);">测试文字</div><p>这或许是因为 Gradiant 滤镜单独使用时就是只会应用在盒子上（<a href="https://www.bokeyy.com/wp-content/uploads/2012/04/single-gradient-filter-demo.html" target="_blank" rel="noopener">DEMO</a>）？</p><div style="font-size:36px; width:300px; height:200px;filter:progid:DXImageTransform.Microsoft.gradient(enabled=bEnabled,startColorstr=#fff, endColorstr=black)">测试文字</div><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>有的时候此法不好用，在于 IE 的滤镜本身。比如 IE 的 Shadow 滤镜和 Gradiant 滤镜配合只作用于盒子。退一步说，即便 Shadow 单独使用是文字阴影，有时也能看到难看的杂色（见配图，配图来自 <a href="http://www.zhangxinxu.com/" target="_blank" rel="noopener">鑫空间</a>）。这里的“有时”和滤镜及文字所用的颜色以及浏览器都有关系。 <img src="http://image.zhangxinxu.com/image/blog/201105/2011-05-04_212053.png" alt="灰色光晕下的效果 张鑫旭-鑫空间-鑫生活"> <a href="http://www.zhangxinxu.com/" target="_blank" rel="noopener">鑫空间</a> 的文章 <a href="http://www.zhangxinxu.com/wordpress/2011/05/ie%E4%B8%8B%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%BC%BCcss3-text-shadow%E6%96%87%E5%AD%97%E9%98%B4%E5%BD%B1%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/" target="_blank" rel="noopener">《IE下实现类似CSS3 text-shadow文字阴影的几种方法》</a>  推荐的，使用两段一模一样的文字交叠显示才是最终无 bug 阴影的跨浏览器解决方案。</p><h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><p>Alpha Filter <a href="http://msdn.microsoft.com/zh-cn/library/ie/ms532967(v=vs.85" target="_blank" rel="noopener">http://msdn.microsoft.com/zh-cn/library/ie/ms532967(v=vs.85).aspx</a>.aspx) Applying Filters (Windows Embedded CE 6.0) <a href="http://msdn.microsoft.com/zh-cn/library/ee492403.aspx" target="_blank" rel="noopener">http://msdn.microsoft.com/zh-cn/library/ee492403.aspx</a></p></div>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兼容IE各版本 </tag>
            
            <tag> IE滤镜的多面性 </tag>
            
            <tag> IE滤镜的缺陷 </tag>
            
            <tag> 同时使用多个IE滤镜 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[分享] MobilePress Default Browser 主题完全汉化版</title>
      <link href="/post/e5-88-86-e4-ba-ab-mobilepress-default-browser-e4-b8-bb-e9-a2-98-e6-b1-89-e5-8c-96-e7-89-88.html"/>
      <url>/post/e5-88-86-e4-ba-ab-mobilepress-default-browser-e4-b8-bb-e9-a2-98-e6-b1-89-e5-8c-96-e7-89-88.html</url>
      <content type="html"><![CDATA[<p><a href="http://mobilepress.co.za/" target="_blank" rel="noopener">MobilePress</a> 是一款让 <a href="http://cn.wordpress.org/" target="_blank" rel="noopener">WordPress</a> 支持手机和 iPhone 浏览的插件。今天汉化了下它的针对非 iPhone 手机的主题，<a href="https://www.bokeyy.com/wp-content/uploads/2012/03/default.zip" target="_blank" rel="noopener">点此下载完整汉化版</a>。 <a href="https://www.bokeyy.com/wp-content/uploads/2012/03/image1.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/03/image_thumb1.png" alt="MobilePress Default Browser 主题汉化效果图" title="MobilePress Default Browser 主题汉化效果图"></a> 解压后上传到 <strong>/wp-content/plugins/mobilepress/system/themes/</strong> 下并覆盖所有文件即可。没有安装 <a href="http://mobilepress.co.za/" target="_blank" rel="noopener">MobilePress</a> 请点 <a href="http://wordpress.org/extend/plugins/mobilepress/" target="_blank" rel="noopener">这里</a> 打开插件首页。 手机主题预览亦可点这里： <a href="https://www.bokeyy.com/?mobile" target="_blank" rel="noopener">https://www.bokeyy.com/?mobile</a>  查看本站使用的线上版本。</p>]]></content>
      
      <categories>
          
          <category> 作品 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MobilePress 主题 </tag>
            
            <tag> 下载 </tag>
            
            <tag> 完全汉化 </tag>
            
            <tag> 手机浏览wordpress </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记]相对大小不确定的图片绝对定位的图标</title>
      <link href="/post/a-icon-relative-to-any-size-image-element.html"/>
      <url>/post/a-icon-relative-to-any-size-image-element.html</url>
      <content type="html"><![CDATA[<h4 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h4><p>注意下图右下角的放大镜图标，无论图片被裁剪还是放大，该图标始终会在图片的右下角（<a href="http://data.163.com/12/0229/01/7RD40GN500014MTN.html" title="网易数读栏目《保加利亚艺术家绘制偏见地图 将地域歧视娱乐化》" target="_blank" rel="noopener">DEMO</a>）。 <a href="https://www.bokeyy.com/wp-content/uploads/2012/03/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/03/image_thumb.png" alt="image" title="image"></a>  </p><h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><p>图片外套一个层，大小始终和图片一样，让放大镜图标相对这个始终和图片同样大小的层绝对定位。因此设置其 CSS 属性 display:inline-block;position:relative; 。放大镜图标作为一个 span 紧跟在图片后面，设置 CSS  position:absolute; bottom:0; right:0; 。  </p><h4 id="display-inline-block-和-display-table"><a href="#display-inline-block-和-display-table" class="headerlink" title="display:inline-block; 和 display:table;"></a>display:inline-block; 和 display:table;</h4><p>display:table; 也可以实现 div 始终和内包的图片大小相同，但是在 Firefox 8（可能也包含之前的版本） 不支持在其上设置 positiion:relative; ），故而不适用本文说的情况。 display:table-cell; 等类似的 display 属性也能同样控制 div 的大小，但是它们的浏览器兼容性更差，故而不讨论。  </p><h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><p>《CSS 宽度自适应》- 源代码爱好者 - <a href="http://www.codefans.net/jscss/code/865.shtml" target="_blank" rel="noopener">http://www.codefans.net/jscss/code/865.shtml</a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> CSS </tag>
            
            <tag> display inline block </tag>
            
            <tag> display table 能否跨浏览器 </tag>
            
            <tag> div始终和图片一样大小 </tag>
            
            <tag> featured </tag>
            
            <tag> 兼容 </tag>
            
            <tag> 宽度自适应 </tag>
            
            <tag> 相对大小不确定的图片绝对定位 </tag>
            
            <tag> 跨浏览器 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[攻略] 古剑奇谭孤魂双剑打法总结</title>
      <link href="/post/e6-94-bb-e7-95-a5-e5-8f-a4-e5-89-91-e5-a5-87-e8-b0-ad-e5-ad-a4-e9-ad-82-e5-8f-8c-e5-89-91-e6-89-93-e6-b3-95.html"/>
      <url>/post/e6-94-bb-e7-95-a5-e5-8f-a4-e5-89-91-e5-a5-87-e8-b0-ad-e5-ad-a4-e9-ad-82-e5-8f-8c-e5-89-91-e6-89-93-e6-b3-95.html</url>
      <content type="html"><![CDATA[<p>二周目以后可以换终极装备，其中小铃儿需要孤魂双剑掉落的红肚兜。虽然调率有点儿低，但这个轮回连刷了不到十次也就拿到了。打法如下，亲测有效： 1、去中皇山之前，江都城郊“不知通往何处的小道”上，孤魂双剑一个人站在那儿背对玩家，撞上去偷袭之； 2、刷侠义榜也一样，但去幽都前侠义榜上没有他，且未必能先手（本人一周目是苏苏在天墉城单刷的，一次就掉了红肚兜，但又没用 =_= ）； 3、孤魂双剑的大招 “孤魂业火” 是火属性，用五行饰品调节队员五行 “<strong>土</strong>” <strong>&gt;</strong> “<strong>金</strong>” 即是被该大招加血； 4、孤魂双剑只有被 <strong>土系和水系法术</strong> 打才不会加血而是扣血； 5、孤魂双剑受到普攻有很大几率会普攻反击，受到 <strong>特技、组合技和攻击物品等其它物理攻击</strong> 则不会； 6、孤魂双剑可以用“<strong>冰夷流云</strong>”的 全体加血 + 免疫伤害 对付：如果晴雪不是前排最后一个行动，让她防御一次试试； 7、孤魂双剑可以同时吃降速、降防、降攻等五种负面效果，不信的话用 <strong>“绮月·殇”组合“残月·霜”</strong> 试试； 8、孤魂双剑的 “乾坤夺命镖” 不致命； 9、网络传言侠义榜的孤魂双剑只有三个女主角前排才能刷、才能掉红肚兜——但本人用全男和男女混合也刷过他的榜，而且三四次刷到了肚兜，只有一次是全部女主角前排，还是中途换上去的，如下图。 <a href="https://www.bokeyy.com/wp-content/uploads/2012/01/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2012/01/image_thumb.png" alt="image" title="image"></a> 结合以上规律，知道该怎么打了吧？游戏愉快！</p>]]></content>
      
      <categories>
          
          <category> 古剑奇谭 </category>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 古剑奇谭 </tag>
            
            <tag> 孤魂双剑打法 </tag>
            
            <tag> 攻略 </tag>
            
            <tag> 红肚兜获得方法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>High Performance Web Sites Rule 14</title>
      <link href="/post/high-performance-web-sites-rule-14.html"/>
      <url>/post/high-performance-web-sites-rule-14.html</url>
      <content type="html"><![CDATA[<p>本书的规则一样适用于 Web 2.0 的页面。本章介绍怎样将前述的规则应用到 Ajax 当中去。 首先，除了 <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule3.html" target="_blank" rel="noopener">Rule 3</a> 外，注意给每条 AJAX 请求应用以下几条规则：</p><ul><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-4.html" target="_blank" rel="noopener">Rule 4: Gzip 压缩组件</a></li><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-9.html" target="_blank" rel="noopener">Rule 9: 缩减 DNS 解析</a></li><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-10.html" target="_blank" rel="noopener">Rule 10: Minify JavaScript</a> （这里的 Minify 指的是从字符、缩进、回车上压缩）</li><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-11.html" target="_blank" rel="noopener">Rule 11: 避免跳转</a></li><li><a href="https://www.bokeyy.com/post/high-performance-web-sites-rule-13.html" target="_blank" rel="noopener">Rule 13: 利用 ETags 或者删掉 ETags</a></li></ul><p>接下来单独讨论怎么应用 Rule 3。虽然 AJAX 使加载完毕之前的友好响应的 UI 成为可能，但并不代表使用了 AJAX 就一定更好。每发出一条 AJAX 请求直到完成都需要一定的等待时间。 以雅虎邮箱为例：所有的联系人列表都是预先加载好的，邮箱中前三封来信也会预先下载好。如果这时点击了第四封邮件，才会发出即时的请求。 再以 Google Spreadsheets 为例，用户每访问或创建、修改一份文档都会产生同样多的 AJAX 请求，即便之前访问过它，且从未修改。 书中建议：类似的用户私有的数据也应进行缓存，用时效很长的 Expire Header，并通过 SSL 连接保护隐私。为了保证用户取缓存时，取到的东西正确，被缓存的 URL 应该包含类似：/ar?id=[snip…]&amp;srow=0&amp;erow=100&amp;t=1177458941 的 Query String，即包含用户 ID、文档（或邮件）的唯一 ID、版本号等。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/12/image4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/12/image_thumb4.png" alt="image" title="image"></a></p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> AJAX </tag>
            
            <tag> 优化 </tag>
            
            <tag> web 2.0 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] 跨浏览器的 CSS 垂直渐变</title>
      <link href="/post/all-browser-compatible-css-gradient.html"/>
      <url>/post/all-browser-compatible-css-gradient.html</url>
      <content type="html"><![CDATA[<h4 id="导言"><a href="#导言" class="headerlink" title="导言"></a>导言</h4><p>原来垂直渐变和水平渐变这样简单的效果，不是 CSS3 独有或者 webkit 独有的，而是可以完美兼容所有浏览器。</p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><style type="text/css">\[CSS选择器\]{    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#60B921,endcolorstr=#3C9136,gradientType=0)\\0; /* IE8 hack */    \*filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#60B921,endcolorstr=#3C9136,gradientType=0); /\* IE7 hack */    _filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#60B921,endcolorstr=#3C9136,gradientType=0); /* IE6 hack */    background:#60B921;   /* 给没兼容的浏览器设置个背景色，不过好像没有哪个不支持 */    background: -moz-linear-gradient(top, #60B921, #3C9136);    background: -webkit-gradient(linear, 0 0, 0 bottom, from(#60B921), to(#3C9136));    background: -o-linear-gradient(top, #60B921, #3C9136);    /\* 以上一行兼容 opera */}:root \[CSS选择器\]{    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#60B921,endcolorstr=#3C9136,gradientType=0);} /\* 针对 IE9 10 的 Hack */</style><h4 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h4><p>下图中的 8 的背景色效果： <img src="https://www.bokeyy.com/wp-content/uploads/2011/11/thumb.png" alt="赛事导航" title="赛事导航">  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>总要写这么多 hack，是因为写法太不标准了么？</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS3 </tag>
            
            <tag> 兼容各浏览器 </tag>
            
            <tag> 垂直渐变 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>High Performance Web Sites Rule 13</title>
      <link href="/post/high-performance-web-sites-rule-13.html"/>
      <url>/post/high-performance-web-sites-rule-13.html</url>
      <content type="html"><![CDATA[<h4 id="Entity-Tags"><a href="#Entity-Tags" class="headerlink" title="Entity Tags"></a>Entity Tags</h4><p>Entity Tags (ETags) 是 HTTP/1.1 的新特性。在 Conditional GET Requests 中起作用，是一个标识文件特定版本的标记。是除了最后修改时间以外，判断组件是否变化的另一种方式。   <a href="https://www.bokeyy.com/wp-content/uploads/2011/12/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/12/image_thumb.png" alt="image" title="image"></a> <strong>图1</strong> <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule3.html" target="_blank" rel="noopener">Rule 3</a> 提到的 If-Modified-Since 请求判断文件是否已修改   <a href="https://www.bokeyy.com/wp-content/uploads/2011/12/image1.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/12/image_thumb1.png" alt="image" title="image"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/12/image2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/12/image_thumb2.png" alt="image" title="image"></a> <strong>图2</strong> 如果第一次请求时服务器返回了 ETags 那么每次的 Conditional GET Request 浏览器都会多一个 If-None_Match 请求头判断 ETags 是否改变  </p><h4 id="Etags-的问题"><a href="#Etags-的问题" class="headerlink" title="Etags 的问题"></a>Etags 的问题</h4><p>如果网站使用多个服务器，Apache 和 IIS 的默认配置都会导致不同服务器的同样文件有不同的 ETags，从而大大增加了不必要的流量。 此外，若 ETags 的优先级高于 Expire Header （本章没说清啥情况下 ETags 的优先级高于 Expire Header），则尽管遵循 <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule3.html" target="_blank" rel="noopener">Rule 3</a> 为基本不改动的组件设了长 Expire Header ，访问者每次刷新还是会重新下载一次那个组件。很浪费有木有？</p><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p>要就充分利用 ETags 带来的灵活性，比如根据不同的浏览器给出不同的 ETags （例如谷歌就给中文和英文网站的资源不同的 Etags，可以想象到带来的维护上的方便性）； 要么删掉 ETags 。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/12/image3.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/12/image_thumb3.png" alt="image" title="image"></a></p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> Entity Tags </tag>
            
            <tag> ETags </tag>
            
            <tag> 优化 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>YUI io-base AJAX 通用模板</title>
      <link href="/post/yui-io-base-ajax-common-template.html"/>
      <url>/post/yui-io-base-ajax-common-template.html</url>
      <content type="html"><![CDATA[<p>第一次用 YUI 的 io-base ，有个模板会轻松很多，特此笔记。作者是 @liheke。  </p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p>var cfg = {</p><pre><code>method: &apos;POST&apos;,on: {    start: function (id, args) {    },    success: function (id, o, args) {        if ( o.responseText ) {            var rp = Y.JSON.parse(o.responseText);            if(rp){                jsonData = rp;                currentCallback();            }        }    },    failure: function (id, o) {        Y.log( &apos;fail&apos; );    },    complete: function (id, args) {    },    end: function (id, args) {    }}</code></pre><p>};</p><p>function AJAXRequest(URI){</p><pre><code>var obj = Y.io(     URI,     cfg);</code></pre><p>}</p><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>要 use 的模块是 io-base 和 json-parse。   @liheke</p>]]></content>
      
      <categories>
          
          <category> YUI </category>
          
          <category> 兼容IE6 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 笔记 </tag>
            
            <tag> AJAX </tag>
            
            <tag> JSON </tag>
            
            <tag> JS库 </tag>
            
            <tag> YUI </tag>
            
            <tag> 通用模板 </tag>
            
            <tag> 非跨域 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] 两个图片背景并存</title>
      <link href="/post/e7-ac-94-e8-ae-b0-e4-b8-a4-e4-b8-aa-e5-9b-be-e7-89-87-e8-83-8c-e6-99-af-e5-b9-b6-e5-ad-98.html"/>
      <url>/post/e7-ac-94-e8-ae-b0-e4-b8-a4-e4-b8-aa-e5-9b-be-e7-89-87-e8-83-8c-e6-99-af-e5-b9-b6-e5-ad-98.html</url>
      <content type="html"><![CDATA[<h4 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h4><p>这样的背景设计： 1、花样繁复必须用图片实现； 2、网页不定高； 3、可以拆分为一个不重复的部分和一个重复的部分； 4、或者——题头很宽很绚丽，但在低分辨率的电脑上不会因为不能展示全部题头而出现水平滚动条。 本例中，一个是宽题头背景，一个是 repeat-y 重复的绚丽的背景设计。  </p><h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><p>html {</p><pre><code>background:url(repeat-y-bg.jpg) center -50px repeat-y #560606;</code></pre><p>}</p><p>body{</p><pre><code>background:url(top_bg.jpg) center top no-repeat;</code></pre><p>}</p><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>在 body 上设置背景色会使 html 上的重复背景图片失效。若需要背景色请设置在 html 上。  </p><h4 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h4><p>测了 ie firefox opera 和 chrome。当然第一个是 6 - 9，后三个是最新版，暂时没发现问题。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 跨浏览器 </tag>
            
            <tag> 兼容各浏览器 </tag>
            
            <tag> 网页 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 两个图片背景并存 </tag>
            
            <tag> 图片背景 </tag>
            
            <tag> 题头 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Windows 7 USB/DVD download tool 无法复制文件的解决办法</title>
      <link href="/post/windows-7-usbdvd-download-tool-e6-97-a0-e6-b3-95-e5-a4-8d-e5-88-b6-e6-96-87-e4-bb-b6-e7-9a-84-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95.html"/>
      <url>/post/windows-7-usbdvd-download-tool-e6-97-a0-e6-b3-95-e5-a4-8d-e5-88-b6-e6-96-87-e4-bb-b6-e7-9a-84-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95.html</url>
      <content type="html"><![CDATA[<p>前几天去一号店买了个漂亮的镶水钻的小 U 盘，全名是 <a href="http://www.yihaodian.com/product/1121589_2" target="_blank" rel="noopener">SILICON POWER 广颖电通Touch 810 晶钻碟 8G U盘 暹罗红</a> 。据说它还具有 7 大备份以及防护功能，总之很讨人喜欢。我特地选了 8G 的容量，好把它做成 Windows 7 安装启动盘的同时，还可以放进去一些日常备份数据，比如个人写真底片。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image5.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb5.png" alt="image" title="image"></a> <strong>图1  小 U 盘外观</strong> 然而，用 <a href="http://images2.store.microsoft.com/prod/clustera/framework/w7udt/1.0/en-us/Windows7-USB-DVD-tool.exe" target="_blank" rel="noopener">Windows 7 USB/DVD download tool</a> 将 U 盘制作成 Windows 7 安装启动盘的过程却失败了。Windows 7 USB/DVD download tool 在第四步格式化完小 U 盘后提示“无法复制您的文件，请检查您的 USB 设备和 ISO 文件并重试”，如 <strong>图2</strong>。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image8.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb8.png" alt="image" title="image"></a> <strong>图2 Windows 7 USB/DVD download tool 在格式化 U 盘后提示无法复制文件</strong> ISO 文件肯定是原版并且没有问题的。因为不久前还用它做过一个 win 7 安装启动盘。那么，只能是 U 盘的原因了。先不考虑 U 盘质量可能出差错，毕竟这样的概率比较小。而且从一号店那裹了 N 层的包装上看，也不太可能是运输损坏。那么，是否是启动盘需要满足一些特殊的条件，这些条件无法通过格式化来修改呢？ 小 U 盘于是被格式化了一次，不是快速格式化的那种，问题依然存在。这时 <a href="http://www.google.com.hk/" target="_blank" rel="noopener">Google</a> 到了结果。以下两篇英文文章都讲了完全相同的解决方案：<a href="http://www.nowfromhome.com/windows-7-usbdvd-download-tool-unable-to-copy-files/" target="_blank" rel="noopener">Windows 7 USB/DVD download tool unable to copy files</a> 和 <a href="http://4sysops.com/archives/windows-7-usbdvd-download-tool-wudt-is-unable-to-copy-files/" target="_blank" rel="noopener">Windows 7 USB/DVD Download Tool (WUDT) is unable to copy files</a> 。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image6.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb6.png" alt="image" title="image"></a> <strong>图3 DiskPart 的命令行界面</strong> 原来，手动清除 U 盘的 MBR 信息就好了，打开 Windows 命令行，输入：</p><p>diskpart</p><p>按回车，以管理员权限运行 DiskPart 工具。这时会弹出一个新的命令行窗口，如 <strong>图3</strong>。这时依次输入：</p><p>list disk</p><p>select disk</p><p>#</p><p>clean</p><p>create partition primary</p><p>select partition 1</p><p>active</p><p>format quick fs=fat32</p><p>assign</p><p>就可以了，其中 # 号是 list disk 命令列出的磁盘列表中，U 盘对应的编号。注意不要输成硬盘的编号噢~结局会让人伤心的。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image7.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb7.png" alt="image" title="image"></a> <strong>图4 Windows 7 USB/DVD download tool 复制即将成功</strong> 最后，再次运行 Windows 7 USB/DVD download tool，成功！  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>由于无法下载 U 盘的官方驱动程序，只能猜测：可能就是为了实现“7 大备份以及防护功能”，厂家为 U 盘预置了不平常的 MBR 信息，才导致一开始的复制失败。</p>]]></content>
      
      <categories>
          
          <category> 日常小技巧 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 解决方案 </tag>
            
            <tag> unable to copy your files </tag>
            
            <tag> U盘 </tag>
            
            <tag> Windows 7 USB/DVD download tool </tag>
            
            <tag> 手动清除 MBR </tag>
            
            <tag> 无法复制文件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[代码] 合并边框的格子效果</title>
      <link href="/post/e4-bb-a3-e7-a0-81-e5-90-88-e5-b9-b6-e8-be-b9-e6-a1-86-e7-9a-84-e6-a0-bc-e5-ad-90-e6-95-88-e6-9e-9c.html"/>
      <url>/post/e4-bb-a3-e7-a0-81-e5-90-88-e5-b9-b6-e8-be-b9-e6-a1-86-e7-9a-84-e6-a0-bc-e5-ad-90-e6-95-88-e6-9e-9c.html</url>
      <content type="html"><![CDATA[<p>本文阐述了如何实现合并边框的格子效果。其中，每个格子的四个边框在 hover 状态下都同时变色。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/38de8c1d206c.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/thumb.png" alt="赛事导航" title="赛事导航"></a><br><strong>图1  效果图  </strong>每个相邻的格子都共享边框。且编号 8 的格子是鼠标放在格子上的效果，四周的边框都变成了绿色</p><h4 id="border-collapse-CSS-属性"><a href="#border-collapse-CSS-属性" class="headerlink" title="border-collapse CSS 属性"></a>border-collapse CSS 属性</h4><p>用<a href="http://www.w3school.com.cn/css/pr_tab_border-collapse.asp" target="_blank" rel="noopener">表格的 border-collapse 属性</a>使格子的边框合并。</p><p>table { border-collapse:collapse;}</p><h4 id="position-relative-和-position-absolute-CSS-属性"><a href="#position-relative-和-position-absolute-CSS-属性" class="headerlink" title="position:relative 和 position:absolute CSS 属性"></a>position:relative 和 position:absolute CSS 属性</h4><p>给每个格子加上 position:relative 属性，格子内的数字做成链接，并给链接加上 position:absolute 属性，使得 a 标签相对于格子是绝对定位。  </p><p>如果直接把 position:relative; 加在 td 上，结果是 a 标签不会相对于单元格而是相对于表格绝对定位，这是 FireFox 也存在的 bug 。所以在 td 内再加一个 div 层，把 position:relative; 加在 div 上。</p><p>td div {position:relative;}</p><p>td div a:hover{ position:absolute; }</p><h4 id="height-100-和-width-100"><a href="#height-100-和-width-100" class="headerlink" title="height:100%; 和 width:100%;"></a>height:100%; 和 width:100%;</h4><p>为了 a 标签相对于 div 的绝对定位和期望的相对于 td 的绝对定位效果一样，div 应该和 td 宽高相同，所以：</p><p>td div {width:100%; height:100%;}</p><h4 id="定宽高"><a href="#定宽高" class="headerlink" title="定宽高"></a>定宽高</h4><p>上面将 div 的宽度和高度都设为了 td 的 100% ，这种效果只有当 td 是定宽定高才能实现，所以：</p><p>td { width:30px; height:30px; }</p><h4 id="display-block"><a href="#display-block" class="headerlink" title="display:block;"></a>display:block;</h4><p>当鼠标放在格子里时，我们是给 a 标签加的背景和边框。所以这里的 a 应该和 div 一样可以定宽定高：</p><p>td div a{ display:block;}</p><h4 id="left-1px-top-1px-和-overflow-visible"><a href="#left-1px-top-1px-和-overflow-visible" class="headerlink" title="left:-1px; top: -1px; 和 overflow:visible;"></a>left:-1px; top: -1px; 和 overflow:visible;</h4><p>本文重点是每个格子的四个共享边框同时变色。每个格子对应哪些共享边框的概念，在 HTML 和 CSS 中都似乎没有。直接给 td 的 border 变色的话，会变色的只有右下两条边框（<a href="https://www.bokeyy.com/wp-content/uploads/2011/11/table-test-tdhover.html" title="td:hover 无法完全实现合并边框的格子边框高亮效果，只能使右边和下边的边框变色，且不支持例如 IE6 的老浏览器" target="_blank" rel="noopener">DEMO</a>）。所以选择用 a 的边框盖在外层 td 边框的上面，就好像 td 的边框变色了一样：</p><p>td div { overflow:visible; }</p><p>td div a:hover{  left:-1px; top: -1px;   }</p><h4 id="样式美化"><a href="#样式美化" class="headerlink" title="样式美化"></a>样式美化</h4><p>还要给 table 和 td 和 a:hover 加上 border 颜色和粗细，a:hover 应该用 CSS3 和 IE 滤镜加上渐变。此外，a 的宽高应该比 td 大一些等等。  </p><h4 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h4><p>table { border-collapse:collapse; border:1px;}</p><p>td { border: solid 1px #eee; text-align:center; </p><p>   width:30px; height:30px; }</p><p>td div {position:relative; width:100%; height:100%;</p><pre><code>overflow:visible; line-height:30px;}</code></pre><p>td div a, td div a:visited{ display:block;}</p><p>td div a:hover{ position:absolute;  left:-1px; top: -1px; </p><pre><code>border:solid 1px #0F0; width:32px; height:30px; color:#FFFFFF; background:#006633;}</code></pre><table border="0" cellspacing="0" cellpadding="0"><br><br><caption>1111111111111111</caption><br><br><tbody><br><br>  <tr><br><br>    <td><div><a href="#">1</a></div></td><br><br>    <td><div><a href="#">2</a></div></td><br><br>    <td><div><a href="#">3</a></div></td><br><br>    <td><div><a href="#">4</a></div></td><br><br>    <td><div><a href="#">5</a></div></td><br><br>  </tr><br><br>  <tr><br><br>    <td><div><a href="#">6</a></div></td><br><br>    <td><div><a href="#">7</a></div></td><br><br>    <td><div><a href="#">8</a></div></td><br><br>    <td><div><a href="#">9</a></div></td><br><br>    <td><div><a href="#">10</a></div></td><br><br>  </tr><br><br>  <tr><br><br>    <td><div><a href="#">1</a></div></td><br><br>    <td><div><a href="#">2</a></div></td><br><br>    <td><div><a href="#">3</a></div></td><br><br>    <td><div><a href="#">4</a></div></td><br><br>    <td><div><a href="#">5</a></div></td><br><br>  </tr><br><br>  <tr><br><br>    <td><div><a href="#">6</a></div></td><br><br>    <td><div><a href="#">7</a></div></td><br><br>    <td><div><a href="#">8</a></div></td><br><br>    <td><div><a href="#">9</a></div></td><br><br>    <td><div><a href="#">10</a></div></td><br><br>  </tr><br><br></tbody><br><br><tfoot><br><br>    <tr><br><br>        <td colspan="5">1</td><br><br>    </tr><br><br></tfoot><br><br></table><h4 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h4><p>td:hover 无法完全实现变色 - <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/table-test-tdhover.html" title="td:hover 无法完全实现合并边框的格子边框高亮效果，只能使右边和下边的边框变色，且不支持例如 IE6 的老浏览器" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2011/11/table-test-tdhover.html</a><br>最终DEMO -  <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/table-test.html" title="鼠标放到有“1”的单元格上，可以看到效果" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2011/11/table-test.html</a>   <a href="http://bluescript.iteye.com/" target="_blank" rel="noopener">@guoaimin</a>  <a href="http://airflare.me/" target="_blank" rel="noopener">@JD</a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> CSS </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 合并边框的格子 </tag>
            
            <tag> 格子的四个边框同时变色 </tag>
            
            <tag> 纯 CSS 特效 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>干净风格</title>
      <link href="/post/clean-style.html"/>
      <url>/post/clean-style.html</url>
      <content type="html"><![CDATA[<p>我跟摄影师说我想要干净的感觉的相片 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5288.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5288-150x150.jpg" alt="" title="蓝色的窗扇"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5458.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5458-150x150.jpg" alt="吉他" title="吉他"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5440.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5440-150x150.jpg" alt="花瓣雨" title="花瓣雨"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5434.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5434-150x150.jpg" alt="安静" title="安静"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5396.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5396-150x150.jpg" alt="草丛边的绿叶" title="草丛边的绿叶"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5348.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5348-150x150.jpg" alt="阳光透射的树丛" title="阳光透射的树丛"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5308.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5308-150x150.jpg" alt="阳光洒下" title="阳光洒下"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5311.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5311-150x150.jpg" alt="透过树丛的笑容" title="树从中的笑容"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5334.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/IMG_5334-150x150.jpg" alt="芭蕉叶边的女孩" title="芭蕉叶边的女孩"></a></p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 写真 </tag>
            
            <tag> 相片 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 12 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule12.html"/>
      <url>/post/high-performance-web-sites-rule12.html</url>
      <content type="html"><![CDATA[<p>本章建议 Remove Duplicate Scripts，去掉重复的脚本。重复的脚本从两个方面降低网站的访问速度： 1、不必要的 HTTP 请求； 2、无用的 JavaScript 运行时间。 其中，第一条当浏览器是 Internet Explorer 且该脚本没有设缓存时会发生。看过 <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule3.html" target="_blank" rel="noopener">Rule 3</a> 的童鞋们都会用缓存，所以此条略去 —— 除非用户点了“刷新”按钮（如 <strong>图1</strong>）。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image1.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb1.png" alt="image" title="image"></a> <strong>图1</strong>  加载完含设置了缓存的重复脚本的网页后点“刷新”的加载结果 - FireFox 7.0.1 而第二条无视重复的脚本是否有缓存，都会在 FireFox 和 Internet Explorer 中发生。 此外，重复脚本比一般人想象的要多，甚至可能以不同域名的形式存在（如 <strong>图2</strong>）。书中统计了国外流量最高的几个网站，全都有重复的脚本存在（本书出版于 2007 年 9 月）。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb2.png" alt="image" title="image"></a> <strong>图2</strong> 重复的脚本 最后，书中给出一种 PHP 管理 JavaScript 脚本加载的示例代码，建议每次插入 JavaScript 脚本都调用相应的函数，判断是否存在、版本是否一致后再插入，作为解决方案。 不过，在大团队中，插入 JavaScript 这件事情发生的环境本身就是复杂多样的，要做到完全都调用后台函数来插入 JavaScript 调用， 还是比较困难的吧！ <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image3.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb3.png" alt="image" title="image"></a></p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 优化 </tag>
            
            <tag> 移除重复脚本 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 11 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule11.html"/>
      <url>/post/high-performance-web-sites-rule11.html</url>
      <content type="html"><![CDATA[<p>Avoid Redirects 的意思是避免跳转，跳转使得网页变慢。原因如 <strong>图1</strong> ，所有下载都被阻塞了，比 <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule5.html" target="_blank" rel="noopener">Chapter 5</a> 和 <a href="https://www.bokeyy.com/post/high-performance-web-sites-rule6.html" target="_blank" rel="noopener">Chapter 6</a> 所提到的<a href="https://www.bokeyy.com/post/high-performance-web-sites-rule5.html" target="_blank" rel="noopener">放在页尾的 CSS 样式表</a>和<a href="https://www.bokeyy.com/post/high-performance-web-sites-rule6.html" target="_blank" rel="noopener">放在页首的外链 JavaScript 文件</a>造成的影响还大。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb.png" alt="image" title="image"></a><br><strong>图1  所有下载都被阻塞直到跳转完成</strong> 更好的替代方案：<br>1、目录 URL 不加 / 的话会自动 301 跳转到加 / 的地址，例如 <a href="http://astrology.yahoo.com/astrology" title="http://astrology.yahoo.com/astrology" target="_blank" rel="noopener">http://astrology.yahoo.com/astrology</a> 自动跳转到 <a href="http://astrology.yahoo.com/astrology/" target="_blank" rel="noopener">http://astrology.yahoo.com/astrology/</a>  ，<br>解决方案：加上 / （紧跟域名后面的 / 缺少不会引起跳转）；<br>2、当重写后端导致接口替换时，用以下三种方案替代跳转：<br>(1) Alias、 mod_rewrite 和 DirectorySlash；<br>(2) 如果新老后端在同一服务器上，直接用后端代码链接起来；<br>(3) 如果只是更改域名，设置 CNAME 使得老后端地址自动指向新后端；<br>3、如果是统计网页站内进入来源，可以用 Referer Log 实现；<br>4、如果是统计站外链接的点击信息，用 “XMLHttp-Request Beacon”会稍微快些；<br>如果是链接是打开新窗口的，可以直接用 beacon 图像协议：</p><p>&lt;a href=<a href="http://en.wikipedia.org/wiki/Performance" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Performance</a>  </p><p>onclick=”resultBeacon(this); return false;”&gt;Performance - Wikipedia</p><script type="text/javascript">  var beacon;function resultBeacon(anchor) {  beacon = new Image( );beacon.onload = gotoUrl;  beacon.onerror = gotoUrl;beacon.src = "http://rds.yahoo.com/?url=" \+ escape(anchor.href);  }function gotoUrl( ) {  document.location = beacon.src;}  </script><p>以上这段代码并不比跳转快，但对于打开新窗口的链接，却不会阻塞页面加载； 5、如果是用短域名跳转到长域名地址，使得网址更好记的情况，阅第二条； 总之，避免跳转。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/image4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/image_thumb4.png" alt="image" title="image"></a>  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>XMLHttp-Request Beacon 详见 <a href="http://stevesouders.com/hpws/xhr-beacon.php" title="http://stevesouders.com/hpws/xhr-beacon.php" target="_blank" rel="noopener">http://stevesouders.com/hpws/xhr-beacon.php</a> 和 <a href="http://stevesouders.com/hpws/redir-beacon.php" title="http://stevesouders.com/hpws/redir-beacon.php" target="_blank" rel="noopener">http://stevesouders.com/hpws/redir-beacon.php</a>。 关于 301 302 等跳转以及 mod_rewrite 等的进一步信息，请自行阅读《High Performance Web Sites》或者自己 google :-D</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 避免跳转 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] overflow:visible 使 li 中的下拉 div 不被盖住</title>
      <link href="/post/e7-ac-94-e8-ae-b0-overflowvisible-e4-bd-bf-li-e4-b8-ad-e7-9a-84-e4-b8-8b-e6-8b-89-div-e4-b8-8d-e8-a2-ab-e7-9b-96-e4-bd-8f.html"/>
      <url>/post/e7-ac-94-e8-ae-b0-overflowvisible-e4-bd-bf-li-e4-b8-ad-e7-9a-84-e4-b8-8b-e6-8b-89-div-e4-b8-8d-e8-a2-ab-e7-9b-96-e4-bd-8f.html</url>
      <content type="html"><![CDATA[<p>最近在做  <a href="http://www.bokeyy.tk/doubanPoster/" target="_blank" rel="noopener">z-blog 豆瓣发布器</a> ，它是一个 z-blog 的豆瓣插件。它有几个会自动完成的搜索框，可以搜索豆瓣的书籍、电影和音乐，然后有选择的将 z-blog 博文摘要和地址作为它们的评论发布。其中自动完成功能用的是 YUI 的 auto-complete 组件，生成在和对应搜索框在一起的 li 标签里面。</p><p><a href="https://www.bokeyy.com/wp-content/uploads/2011/10/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/10/image_thumb.png" alt="image" title="image"></a><br><strong>图1</strong> z-blog 豆瓣发布器</p><p>然而，自动完成下拉框会被 ul 的边界盖住，ul 会产生下拉框。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/10/image1.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/10/image_thumb1.png" alt="image" title="image"></a> 给 ul 加上 overflow:visible 的 CSS 属性后，问题解决。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/10/image2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/10/image_thumb2.png" alt="image" title="image"></a></p><pre><code>&lt;h4&gt;&lt;/h4&gt;  &lt;h4&gt;后记&lt;/h4&gt;  &lt;p&gt;由此可见，ul 的默认 overflow 值是 auto 而不是 visible。   &lt;br /&gt;参考资料：&lt;a href=&quot;http://paranimage.com/css-overflow-attribute/&quot; target=&quot;_blank&quot;&gt;《CSS Overflow 属性详解》&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;a href=&quot;http://www.zhoumingzhi.com&quot; target=&quot;_blank&quot;&gt;@zhoumingzhi&lt;/a&gt;</code></pre>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 下拉框 </tag>
            
            <tag> ul </tag>
            
            <tag> 盖住 </tag>
            
            <tag> 默认overflow属性 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] JavaScript 判断空对象</title>
      <link href="/post/e7-ac-94-e8-ae-b0-javascript-e5-88-a4-e6-96-ad-e7-a9-ba-e5-af-b9-e8-b1-a1.html"/>
      <url>/post/e7-ac-94-e8-ae-b0-javascript-e5-88-a4-e6-96-ad-e7-a9-ba-e5-af-b9-e8-b1-a1.html</url>
      <content type="html"><![CDATA[<p>以下 isEmptyObject(O) 是判断对象是否为 {} 的函数：</p><p>var a = {};</p><p>function isEmptyObject(O){</p><p>  for (var x in O){</p><pre><code>return false;</code></pre><p>  }</p><p>  return true;</p><p>}</p><p>isEmptyObject(a);</p><p>不能使用的几种判断方法：</p><p>var a = {};</p><p>console.log(typeof a);             //输出 object</p><p>console.log(a instanceof Object);  //输出 true</p><p>console.log(a.length);             //输出 undefined</p><p>if(a){console.log(“not empty”);}   //输出 not empty</p><p><a href="http://bluescript.iteye.com/" target="_blank" rel="noopener">@guoaimin</a>  <a href="http://topic.csdn.net/u/20090926/09/55238f10-80a2-40a3-8e37-24118e52ab06.html" target="_blank" rel="noopener">@CSDN某帖子</a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 判断 </tag>
            
            <tag> 空对象 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] JavaScript 解析当前 URL</title>
      <link href="/post/e7-ac-94-e8-ae-b0-javascript-e8-a7-a3-e6-9e-90-e5-bd-93-e5-89-8d-url.html"/>
      <url>/post/e7-ac-94-e8-ae-b0-javascript-e8-a7-a3-e6-9e-90-e5-bd-93-e5-89-8d-url.html</url>
      <content type="html"><![CDATA[<p>JavaScript 可以通过 window.location 方便的获取 URL 的各个部分，MDN 对 window.location 的介绍非常详尽： <a href="https://developer.mozilla.org/en/window.location" target="_blank" rel="noopener">https://developer.mozilla.org/en/window.location</a> 。 1、完整的 URL：  </p><p>alert(window.location.toString());</p><p>2、window.location 的各个属性及其对应 URL 的哪些部分：</p><p>属性</p><p>描述</p><p>例子</p><p>hash</p><p>URL # 号后面并包括 # 号的部分<br>您可以监听 <a href="https://developer.mozilla.org/en/DOM/window.onhashchange" title="en/DOM/window.onhashchange" target="_blank" rel="noopener">hashchange 事件</a> 以在此更改时执行函数</p><p>#test</p><p>host</p><p>域名和端口号</p><p>[<a href="http://www.google.com\]:80" target="_blank" rel="noopener">www.google.com\]:80</a></p><p>hostname</p><p>域名 (不含端口号和方括号)</p><p><a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a></p><p>href</p><p>完整 URL</p><p>http://[<a href="http://www.google.com\]:80/search?q=devmo#test" target="_blank" rel="noopener">www.google.com\]:80/search?q=devmo#test</a></p><p>pathname</p><p>路径 (相对于域名).</p><p>/search</p><p>port</p><p>URL 中的端口号</p><p>80</p><p>protocol</p><p>URL 协议</p><p>http:</p><p>search</p><p>URL ? 号后面并包括 ? 号的部分</p><p>?q=devmo</p><p>注：当 location.hash 中含有例如 %20 的编码字符串时，Firefox 会自动反编码（若是 %20 则变成空格）。解决方法也在 <a href="https://developer.mozilla.org/en/window.location" target="_blank" rel="noopener">https://developer.mozilla.org/en/window.location</a> 中阐述了。</p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>因此可以在前端将 location.hash 和 location.search 当 Query String 来用。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 笔记 </tag>
            
            <tag> QueryString </tag>
            
            <tag> window.location </tag>
            
            <tag> 解析 URL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>全静态的 z-blog 网站迁移到 wordpress 的步骤</title>
      <link href="/post/z-blog-to-wordpress.html"/>
      <url>/post/z-blog-to-wordpress.html</url>
      <content type="html"><![CDATA[<p>1、安装鸟儿修改版的 z-blog 插件 <a href="https://www.bokeyy.com/wp-content/uploads/2011/10/movabletype.zpi" title="https://www.bokeyy.com/wp-content/uploads/2011/10/movabletype.zpi" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2011/10/movabletype.zpi</a> ； 2、导出 z-blog 的所有文章和评论，然后用 wordpress 提供的 Movable Type 格式导入工具导入所有文章； 3、改域名指向，改 wordpress 网站域名设置，修改小工具栏等界面布局使之类似于之前的 z-blog 网站； 4、将 z-blog 站根目录下的 UPLOAD 文件夹上传到 wordpress 站的根目录； 5、因为 linux 区分大小写，将 UPLOAD 文件夹改名为 upload，再传一次（用 Windows Live Writer 以 FTP 的方式向博客传图片时人工填写错误造成的）； 6、将 z-blog 站根目录下的 IMAGE 文件夹（含评论表情文件）改名 image，上传到 wordpress 站的根目录； 7、将固定链接格式改成和 z-blog 一样，本站是 /post/%post-name%.html ； 8、将 z-blog 根目录的 POST 件夹下载下来，把里面有所有的静态文件的文件名重新一个个填写到 wordpress 相应文章的固定链接里面（这是 z-blog 导出插件不完美的地方），使所有外链和内链继续有效； 9、如果是国外服务器，将图片和其它上传文件的文件名的中文部分改成英文和数字，并在相应文章内做更改； 10、安装 WP Super Cache ，预加载所有缓存并将缓存的刷新时间设置为一天，模拟 z-blog 的静态效果； 11、按照此文 <a href="http://www.chinaz.com/web/2011/0605/186189.shtml" target="_blank" rel="noopener">http://www.chinaz.com/web/2011/0605/186189.shtml</a> 给 wordpress 加上 z-blog 一样的 meta 标签； 12、按照此文 <a href="http://www.boke8.net/wordpress-code-thread-comment.html" target="_blank" rel="noopener">http://www.boke8.net/wordpress-code-thread-comment.html</a> 给当前主题增加 z-blog 一样的嵌套回复功能。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> z-blog迁移到wordpress </tag>
            
            <tag> 全静态 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>justHost 主机评价</title>
      <link href="/post/how-is-justhost.html"/>
      <url>/post/how-is-justhost.html</url>
      <content type="html"><![CDATA[<p>本站使用的 <a href="http://stats.justhost.com/track?c5e1229bb33e3e905337cb3d3b02d64d7" target="_blank" rel="noopener">JustHost</a> 主机是通过双币信用卡半价买来的（优惠码 50off）。还有一个更便宜的渠道，就是上淘宝，善用搜索，花 150 人民币左右一年请卖家代购。 试用几个月以来，感觉 justhost 还可以，速度不慢，无大问题。支持 PHP5、Perl5、Python（<a href="https://www.bokeyy.com/post/justhost-justplan-python-installing-guide.html" target="_blank" rel="noopener">JustHost JustPlan 主机 Python 设置指南</a>） 和 Ruby/Ruby On Rails。是 wordpress 官方推荐空间之一。本空间上站点有 <a href="http://www.ued163.com/" title="ued163" target="_blank" rel="noopener">http://www.ued163.com/</a> 、 <a href="https://www.bokeyy.com/" title="博客歪歪" target="_blank" rel="noopener">https://www.bokeyy.com/</a> 、 <a href="http://www.wangqinqin.com/" title="回夏山小村庄" target="_blank" rel="noopener">http://www.wangqinqin.com/</a> 、 <a href="http://www.zhoumingzhi.com/" title="记事本" target="_blank" rel="noopener">http://www.zhoumingzhi.com/</a> 、 <a href="http://www.aikdd.com/" title="Wente TIAN&#39;s Blog" target="_blank" rel="noopener">http://www.aikdd.com/</a> 、<a href="http://www.qimoy.com/" title="奇蘑网" target="_blank" rel="noopener">http://www.qimoy.com/</a> 、<a href="http://www.congv.com/" title="聪威合作社" target="_blank" rel="noopener">http://www.congv.com/</a> 、<a href="http://www.yymwz.com/" title="袁袁们网站" target="_blank" rel="noopener">http://www.yymwz.com/</a> 等。网络传言 justhost 专门针对亚洲线路做过优化，求证实。 缺点的话，第一：不免费提供 SSH；第二：网络传言 justhost 潜规则限定 10% 的 CPU 和 5 万个文件数。若超限，警告三次后，直接关闭网站（求证）；第三：据说 IXWebHosting 更便宜，但是我没有试用过。 最后，推荐系列文章：<a href="http://zhiqiang.org/blog/tag/%E7%BD%91%E7%AB%99%E6%8F%90%E9%80%9F" target="_blank" rel="noopener">由阅微堂出品的“加速 blog”</a>。作者用 <a href="http://zhiqiang.org/" target="_blank" rel="noopener">zhiqiang</a> 用自己一系列的亲身经历全面的阐述了 wordpress 博客的速度优化。借鉴其中几条优化了本站（ <a href="http://www.bokeyy.com" target="_blank" rel="noopener">http://www.bokeyy.com</a> ）的访问速度，几乎赶上纯静态页面的效果。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 虚拟主机 </tag>
            
            <tag> 心得 </tag>
            
            <tag> justhost </tag>
            
            <tag> justhost怎么样 </tag>
            
            <tag> justPlan </tag>
            
            <tag> 主机评测 </tag>
            
            <tag> 海外主机 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Movable Type Z-blog 插件鸟儿修改版下载</title>
      <link href="/post/236.html"/>
      <url>/post/236.html</url>
      <content type="html"><![CDATA[<p>将 z-blog 文章转成支持多tag 的  movable type  z-blog 插件鸟儿修改版，多用于备份 z-blog 文章和将 z-blog 文章和评论完美导入 WordPress。使用教程请 google “<a href="http://www.google.com/search?ix=c2&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=z-blog+%E8%BD%AC+wordpress" title="单击打开搜索结果页" target="_blank" rel="noopener">z-blog 转 wordpress</a>” <strong>下载地址 </strong><a href="https://www.bokeyy.com/wp-content/uploads/2011/10/movabletype.zpi" title="本站提供下载地址" target="_blank" rel="noopener">https://www.bokeyy.com/wp-content/uploads/2011/10/movabletype.zpi</a></p>]]></content>
      
      <categories>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 9 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule9.html"/>
      <url>/post/high-performance-web-sites-rule9.html</url>
      <content type="html"><![CDATA[<p>本章的主题是 Reduce DNS Lookups ，即减少 DNS 解析。 DNS 解析平均要花TTL 一半的时间，而 DNS 缓存生效的时间依各个浏览器的不同而不同，并且被许多复杂的因素影响着。 本章也就是 Rule 9 和 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule6.html" target="_blank" rel="noopener">Rule 6</a> 所提倡的将 js、图片 等组件放到多个域名下，以提高并行下载数的做法相冲突。因为域名越多，DNS 解析所需的时间就越多。大多数网站都不是像<a href="http://www.google.com.hk" target="_blank" rel="noopener">谷歌首页</a>一样只有两个组件，所以推荐使用 2 – 4 个域名就可以了。 最后一个影响因素是 Keep-alive。<a href="https://www.bokeyy.com/post/High-Performance-Web-Sites1.html" target="_blank" rel="noopener">Chapter B</a> 中提到使用 Keep-alive 能很好的改善 TCP/IP 的响应时间。在此，它还减少了 DNS 解析的次数，尤其是对于 FireFox 用户而言。 总之，将组件分别放在 2 – 4 个域名上，并确保服务器支持 Keep-alive 吧！ <a href="https://www.bokeyy.com/wp-content/uploads/2011/9/HighPerformanceWebSitesRule9_D998/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/9/HighPerformanceWebSitesRule9_D998/image_thumb.png" alt="image" title="Reduce DNS lookups by using Keep-Alive and fewer domains."></a></p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> Reduce DNS Lookups </tag>
            
            <tag> 减少DNS解析 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[兼容各浏览器] 怎么用 CSS 拉伸背景解析</title>
      <link href="/post/background-size-for-all-browsers.html"/>
      <url>/post/background-size-for-all-browsers.html</url>
      <content type="html"><![CDATA[<p>转载两篇博文，合起来就行了：</p><blockquote><h4 id="1、《背景图拉伸显示–只面向IE》"><a href="#1、《背景图拉伸显示–只面向IE》" class="headerlink" title="1、《背景图拉伸显示–只面向IE》"></a>1、《背景图拉伸显示–只面向IE》</h4><p><strong>链接</strong>   <a href="http://weilaixu.cn/read.php/49.htm" target="_blank" rel="noopener">http://weilaixu.cn/read.php/49.htm</a> <strong>语言</strong>   简体中文 <strong>内容</strong></p><p>filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=’’, sizingMethod=’scale’)</p></blockquote><blockquote><h4 id="2、background-size"><a href="#2、background-size" class="headerlink" title="2、background-size"></a>2、background-size</h4><p><strong>链接</strong>    <a href="https://developer.mozilla.org/en/CSS/background-size" target="_blank" rel="noopener">https://developer.mozilla.org/en/CSS/background-size</a> <strong>语言</strong>    English <strong>内容</strong></p><p>.foo {</p><pre><code>    background-image: url(bg-image.png);   -moz-background-size: 100% 100%;           /* Gecko 1.9.2 (Firefox 3.6) */     -o-background-size: 100% 100%;           /* Opera 9.5 */-webkit-background-size: 100% 100%;           /* Safari 3.0 */        background-size: 100% 100%;           /* Gecko 2.0 (Firefox 4.0) and other CSS3-compliant browsers */   -moz-border-image: url(bg-image.png) 0;    /* Gecko 1.9.1 (Firefox 3.5) */</code></pre><p>}</p></blockquote><p>其中，background-size 的浏览器兼容情况： <a href="https://www.bokeyy.com/wp-content/uploads/2011/9/fe5be871ade1_CF31/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/9/fe5be871ade1_CF31/image_thumb.png" alt="image" title="image"></a> 综上所述， IE9 以上才支持 background-size，所以这样写：</p><p>/<em>自动拉伸背景</em>/</p><p>.foo {</p><pre><code>   background-image:url(scale.jpg);   -moz-background-size: 100% 100%;       /\* Gecko 1.9.2 (Firefox 3.6) */     -o-background-size: 100% 100%;       /\* Opera 9.5 */-webkit-background-size: 100% 100%;       /\* Safari 3.0 */        background-size: 100% 100%;       /\* Gecko 2.0 (Firefox 4.0) and other</code></pre><p> CSS3-compliant browsers */</p><pre><code>   -moz-border-image: url(scale.jpg) 0;/\* Gecko 1.9.1 (Firefox 3.5) */</code></pre><p>}</p><p></p><!--\[if lt IE 9\]><style type="text/css">.foo{       background-image:none;       filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='scale.jpg', sizingMethod='scale');}</style><!\[endif\]--><style type="text/css"><p>/<em>自动拉伸背景 end</em>/</p><p>总之，非 IE 用 CSS3 ，IE9 以下用滤镜。 本文原先只对 IE6 进行了处理，感谢 <a href="http://henryzp.com/" title="小张的窝">@小张</a>。 <a href="http://www.zhoumingzhi.com/">@zhoumingzhi</a>  <a href="http://bluescript.iteye.com/">@guoaimin</a></p></style>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 兼容 </tag>
            
            <tag> background-size </tag>
            
            <tag> 拉伸背景 </tag>
            
            <tag> 背景与容器一样大 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[读书笔记] CSS FrameWorks and Integration</title>
      <link href="/post/css-frameworks-and-integration-which-is-chapter4.html"/>
      <url>/post/css-frameworks-and-integration-which-is-chapter4.html</url>
      <content type="html"><![CDATA[<p>这是 《Pro CSS for High Traffic Websites》的第四章，讲的是 CSS 框架与整合。@后面的是提供本书的人，感谢 <a href="http://www.ivernaloo.com/" target="_blank" rel="noopener">@zhoupeng</a> 。</p><h4 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h4><ul><li>流行的 CSS 框架和 reset 样式表概览</li><li>理解 OOCSS（Object Oriented CSS, 面向对象的 CSS，下同） 的原则以及怎么工作</li><li>怎么处理重载的 CSS</li><li>掌控第三方代码的一些小窍门</li><li>理解防守型的 CSS</li><li>学习怎么避免创建脆弱的 CSS</li><li>领会 CSS 中的 metadata 怎么工作*</li></ul><h4 id="CSS-框架"><a href="#CSS-框架" class="headerlink" title="CSS 框架"></a>CSS 框架</h4><p>CSS 框架就是 <a href="http://www.blueprintcss.org/" target="_blank" rel="noopener">Blueprint</a> 、<a href="http://960.gs/" target="_blank" rel="noopener">960 Grid System</a> 和 <a href="http://wiht.link/YUI-intro" target="_blank" rel="noopener">YUI Grids</a> 之类的东西。使用一个框架做网页，例如：</p><!--这是使用 YUI Grids 制作的网页。通过 div 的 class 决定其宽度。例如 class="yui3-u-1-3" 表示宽度为父容器的 1/3。--><head><br><br><style type="text/css"><br><br>body {<br><br>margin: auto;<br><br>width: 960px;<br><br>}<br><br></style><br><br></head><body><br><br><div class="yui3-g"><br><br><div class="yui3-u-1"><br><br>Header<br><br></div><br><br><div class="yui3-u-1-3"><br><br>Sidebar<br><br></div><br><br><div class="yui3-u-2-3"><br><br>Main content<br><br></div><br><br><div class="yui3-u-1"><br><br>Footer<br><br></div><br><br></div><br><br></body><p>  以上可以看出框架的弱点：1、类似表格布局； 2、滥用 div； 3、滥用 class； 4、无意义冗余代码； <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/8/CSSFrameWorksandIntegration_F7D8/image7.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb3.png" alt="image_thumb3" title="image_thumb3"></a> <strong>图1 使用框架建立的网页类似表格布局</strong> 然而，也可以看出框架的优点：快速、规范、适合做网站原型。 此外，由于 CSS 框架提供的 class 应该好多都用不上，书中推荐 Firefox 插件：<a href="https:/addons.mozilla.org/en-US/firefox/addon/css-usage/" title="帮助您自动扫描所有 CSS 并列出哪些没有使用，可生成无冗余的样式表。" target="_blank" rel="noopener">CSS Usage</a> 。  </p><h4 id="reset-样式表"><a href="#reset-样式表" class="headerlink" title="reset 样式表"></a>reset 样式表</h4><p>reset 样式表是为了统一网页在更多浏览器中的显示效果，鉴于例如下图所示的情况： <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb.png" alt="image" title="image"></a> <strong>图2 有的浏览器会自动给 input 加边距</strong> 这时若 CSS 规定 input { margin:0 }，则上述情况就没有了。负责做这些规定的 CSS 样式即 reset 。 定制错误的 reset 可能带来后期每次都要重载的麻烦，得根据需求定制。例如 li 列表如果大都需要前面的小圆点，就不要在 reset 中：</p><p>li { list-style: none; }</p><p>若滥用全局选择器，不仅重载工作量增加，和重载它的那些选择器共存还会降低效率。 另外，根据 <a href="http://www.bokeyy.com/post/High-Performance-Web-Sites-Rule1.html" target="_blank" rel="noopener">《High Performance Websites》的 rule One</a>，reset 不要单独成一个文件。  </p><h4 id="OOCSS"><a href="#OOCSS" class="headerlink" title="OOCSS"></a>OOCSS</h4><p>例：</p><div class="block">I am a discrete block</div><div class="block">I am another discrete block</div><div class="block information">I am a discrete block</div><div class="block warning">I am another discrete block</div><p>  特征：1、修改代码不会使其它的出错； 2、控制结构的规则和控制美学的规则要分开（有点点晦涩啊有木有）。 缺点：无意义的使用 class、违反了 CSS 的样式覆盖规则的设计意图（其实我觉得还有一个缺点是看起来很麻烦……）。 总结：OOCSS 只在大网站想要代码健壮和灵活的时候，或者在追求代码一致性时最有意义。 注： HTML5 的新标签可以解决无意义使用 class 这个问题  </p><h4 id="重载的-CSS"><a href="#重载的-CSS" class="headerlink" title="重载的 CSS"></a>重载的 CSS</h4><p>考虑以下两个问题： 1、是使劲重载好呢，还是重新设计好呢？ 2、默认样式的优先级有没有设太高？ 如果还是需要重载优先级太高的样式，可以采用这种形式：</p><p>#home .template-12 #main .col-1 .post img.thumbnail {</p><p>border: 1px dotted green;</p><p>}</p><p>#europe .template-8 aside#secondary ol li img {</p><p>border: 1px dotted #333333;</p><p>}</p><p>注意：本书建议高流量网站不要用 !important 。  </p><h4 id="与第三方-CSS-代码协作"><a href="#与第三方-CSS-代码协作" class="headerlink" title="与第三方 CSS 代码协作"></a>与第三方 CSS 代码协作</h4><p>如果协作很痛苦，请考虑： 重写这个框架，还是换一个呢？<img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/wlEmoticon-openmouthedsmile.png" alt="大笑"> 与第三方 CSS 代码共存，可以选择尽量避免冲突，或者尽量超越它们。 避免冲突（推荐）： 1、尽量别用 !important ； 2、用简单的 CSS 选择器，不怎么和第三方 CSS 代码冲突的那种； 超越它们： 1、使用高 specificity 的选择器，例如“重载 CSS”的示例代码；2、用 iframe；   </p><h4 id="防守型的-CSS"><a href="#防守型的-CSS" class="headerlink" title="防守型的 CSS"></a>防守型的 CSS</h4><p>在大网站中，使样式不易因误重载而被打乱，可采取的防守措施有： 1、使用 OOCSS（修改某一样式不会影响其它代码正常工作）； 2、命名空间，例如“重载 CSS”的示例代码，缺点是缺乏代码可重用性； 3、为关键和脆弱的部分写上注释； <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_3.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb_3.png" alt="image" title="image"></a> <strong>图3 防守措施-添加不必要的定义</strong> 4、添加不必要，却可能因为其它代码的存在而改变的样式属性，配合命名空间使用，如图3。 尤其在 CMS 系统这样由非专业人士参与样式编辑的系统中，防守型的 CSS 显得尤其重要。因为很难控制编辑们的 CSS 代码质量。这种情况下，可提供一系列 class 和 id 定义供编辑选用。定期收集反馈意见并改进它们。  </p><h4 id="脆弱的-CSS"><a href="#脆弱的-CSS" class="headerlink" title="脆弱的 CSS"></a>脆弱的 CSS</h4><p>望文生义，依赖性太强，一不小心就会弄乱的 CSS 就是脆弱的 CSS，例如：</p><p>#books img[src=”book-cssmastery.jpg”] {</p><p>float: left;</p><p>}</p><p>#books img[src=”book-webstandards.jpg”] {</p><p>float: right;</p><p>}</p><p>脆弱的 CSS 需要逐步改进，可参考图 4 。 <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_4.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb_4.png" alt="image" title="image"></a> <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_5.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb_5.png" alt="image" title="image"></a> <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_6.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb_6.png" alt="image" title="image"></a> <a href="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_7.png" target="_blank" rel="noopener"><img src="http://cdn.bokeyy.com/wp-content/uploads/2011/9/CSSFrameWorksandIntegration_F7D8/image_thumb_7.png" alt="image" title="image"></a> <strong>图4 一步步改进脆弱的 CSS</strong> 终极解决方案还是提早规划好代码，避免出现脆弱的 CSS。 注：老浏览器不支持 a[href$=”.doc”] 这样的属性选择器。  </p><h4 id="CSS-的-metadata"><a href="#CSS-的-metadata" class="headerlink" title="CSS 的 metadata"></a>CSS 的 metadata</h4><p>metadata 就是“数据的数据”。HTML 的 metadata 起描述 HTML 文档的作用：</p><meta name="application-name" content="网易微博"><p>由于标签定义有限，需要期望 class 或者 id 值来暗示该 HTML 标签可能的用途。甚至，为了 HTML 文档结构的相关性，需要在标签中包含它验证有效性的提示等等信息，例如：</p><input type="text" id="orderCode" class="{dataType:'orderCode',errorText:'Please enter a valid order code.'}"><!--传统--><input type="text" id="orderCode" data-datatype="orderCode" data-errortext="Please enter a valid order code."><!--HTML5--><p>  HTML5 的写法无甚问题。传统的却看起来不太正确： 1、json 数据放在 class 内很奇怪不说，使得浏览器每次都从样式表中搜索该 class 是否会增加性能消耗（请问哪位帮忙确切指出这样做对性能的影响）？ 2、为什么不自制属性来存放 metadata，比如：datatype=”orderCode”？ 本书认为，这种写法是书写正确 HTML 前提下的最好办法，且利大于弊 *。  </p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>高流量网站应根据需要建立自己的框架（可参阅第 11 章）。由于 reset 可算最小的框架，所以包括按需自定义 reset 的意思。框架所能给予的灵活性和效率是高流量网站团队无法忽视的。 除去框架，其它原则和编码实践不仅降低出错，更重要的是避免样式被破坏。CSS 代码不会总是隔离的，所以需要提早规划。  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>《Pro CSS for High Traffic Websites》可以翻译成《高流量网站的专业 CSS》，英文原版出版于 2011 年 4 月 27 日。本章认为高流量的网站（每天 1W UV 以上）追求的是高效和可维护性，因此对 CSS 的要求是灵活、鲁棒、越小越好。然而，由于程序员不可能什么都从最基础写起，外加大网站为了多人协作之便利，往往会有统一的 CSS 规范以及 CSS 框架。而这又牵扯到框架与程序员手写代码，及第三方代码之间扯不清的关系。如何兼顾  CSS 代码质量和这些代码间的关系，是本章所讨论的中心。</p><ul><li>注：据说从性能的角度，书中的 CSS metadata 方式并不都是可取的</li></ul>]]></content>
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
            <tag> CSS FrameWorks and Integration </tag>
            
            <tag> CSS 框架与整合 </tag>
            
            <tag> Pro CSS for High Traffic Websites </tag>
            
            <tag> 高流量网站的 CSS 设计 </tag>
            
            <tag> 高流量网站的专业 CSS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>测试 Blogilo 发布 wordpress 的效果</title>
      <link href="/post/e6-b5-8b-e8-af-95-blogilo-e5-8f-91-e5-b8-83-wordpress-e7-9a-84-e6-95-88-e6-9e-9c.html"/>
      <url>/post/e6-b5-8b-e8-af-95-blogilo-e5-8f-91-e5-b8-83-wordpress-e7-9a-84-e6-95-88-e6-9e-9c.html</url>
      <content type="html"><![CDATA[<p>Blogilo 是 Ubuntu 下的一个博客发布器。也许它有一天会比得上 Windows Live Writer。 <img src="file:///home/yuan/%E5%9B%BE%E7%89%87/http_imgload.cgi.jpeg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 良工利器 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>[小结] 360安全桌面应用开发点滴</title>
      <link href="/post/dev-360-app-experience.html"/>
      <url>/post/dev-360-app-experience.html</url>
      <content type="html"><![CDATA[<p><strong>【360应用开放平台】</strong><a href="http://dev.app.360.cn/" title="http://dev.app.360.cn/" target="_blank" rel="noopener"><strong>http://dev.app.360.cn/</strong></a> 【<strong>本文所述应用</strong>】<a href="http://v.163.com/special/open-for-360/" target="_blank" rel="noopener">http://v.163.com/special/open-for-360/</a> 昨天终于消除了已知的 bug 。360安全桌面应用 封装的环境还是有颇多特别的地方的。  </p><h4 id="FLASH标签"><a href="#FLASH标签" class="headerlink" title="FLASH标签"></a>FLASH标签</h4><p>虽然 <a href="https://www.bokeyy.com/post/change-swf-url.html" target="_blank" rel="noopener">《【兼容各浏览器】JavaScript 动态修改 swf 地址方法》介绍的写法</a> 可以通吃 IE6 到 IE9：</p><!----这是通过 FireFox \ Chrome 最新版和 IE6 IE7 IE8 IE9 的 flash 对象代码的写法 ----><object width="宽" height="高" align="middle" type="application/x-shockwave-flash" id="flash对象id" name="flash对象id" data="swf地址"><br><br>  <param name="quality" value="high"><br><br>  <param name="bgcolor" value="#261a12"><br><br>  <param name="allowscriptaccess" value="always"><br><br>  <param name="allowfullscreen" value="true"><br><br></object><p>  但对 360应用封装环境 无效。有效的写法如下：</p><object type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" id="FPlayer" align="middle" height="482" width="856"><br><br>  <param name="allowScriptAccess" value="always"><br><br>  <param name="allowFullScreen" value="true"><br><br>  <param name="movie" value="{ }"><br><br>  <param name="quality" value="high"><br><br>  <param name="wmode" value="opaque"><br><br>  <embed src="{ }" id="FPlayer" quality="high" name="FPlayer" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="opaque" align="middle" height="482" width="856"><br><br></object><h4 id="渲染bug"><a href="#渲染bug" class="headerlink" title="渲染bug"></a>渲染bug</h4><p>封装环境有 IE6 的渲染 bug，如此文所述：《<a href="https://www.bokeyy.com/post/ie6-synchronously-render-bug.html" target="_blank" rel="noopener">【笔记】 IE6 的渲染 bug</a> 》  </p><h4 id="FLASH-Share-Object"><a href="#FLASH-Share-Object" class="headerlink" title="FLASH Share Object"></a>FLASH Share Object</h4><p>FLASH Share Object 是一种美好的保存本地数据的方法：兼容所有浏览器、不限存储大小、不提交到服务器端浪费流量。在封装环境中使用 FLASH Share Object，除了要使用本文所述的 FLASH 标签的写法，还要记得使用相对路径——《<a href="https://www.bokeyy.com/post/relative-path-fix-method-unsupported-by-object-bug.html" target="_blank" rel="noopener">相对路径修正 “对象不支持此方法” 错误</a>》。  </p><h4 id="DEBUG"><a href="#DEBUG" class="headerlink" title="DEBUG"></a>DEBUG</h4><p>封装环境不会给出错误提</p>]]></content>
      
      <categories>
          
          <category> 兼容360浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
            <tag> flash </tag>
            
            <tag> swf </tag>
            
            <tag> 360应用开发 </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相对路径修正 &quot;对象不支持此方法&quot; 错误</title>
      <link href="/post/relative-path-fix-method-unsupported-by-object-bug.html"/>
      <url>/post/relative-path-fix-method-unsupported-by-object-bug.html</url>
      <content type="html"><![CDATA[<p>感谢 CSDN此帖（<a href="http://topic.csdn.net/u/20100322/13/16b47772-bea7-4309-bc5e-d2e66e9c05f4.html" target="_blank" rel="noopener">http://topic.csdn.net/u/20100322/13/16b47772-bea7-4309-bc5e-d2e66e9c05f4.html</a>） 提供了相对路径可能解决这个问题的信息。  </p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>使用 flash 的 share object 进行本地存储，并通过了 ie6 – ie9 、 Chrome 和 Firefox 的测试。但是，以 360安全桌面 web app 的形式封装之后，每次试图调用 flash 创建 share object 的方法时，都 catch 到 “对象不支持此方法”的错误。仿佛 360安全桌面 web app 的封装环境有某些安全性的措施，阻止了 share object 的写入。  </p><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p><strong>确定问题：</strong> 将 flash 和 web app 源码（其实只是一个 html 文件）下载到本地； 把以上两个文件放到同一个文件夹； 将源码对 swf 文件调用的地址改成本地的相对路径； 用 360安全桌面 web app 调试工具封装测试。    ==&gt;   测试通过！ <strong>解决问题：</strong> 保持相对路径不变。在源文件的 head 区域中加入：</p><base href="swf文件所在网址除去swf文件名的部分"><p>  再次用 360安全桌面 web app 调试工具封装测试。 ==&gt; 测试通过！  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>其实如果没有条件将 swf 放在相对路径下，使用了 base 方法并且 href=”” 后面的 url 有双斜杠的话，还是会间歇性的抽风。测试多了就能发现。这时需要用户手动清空 Internet Explorer 的缓存，就可以用了。 所以终极的解决方案还是，下次不要用 flash 做本地存储了。</p>]]></content>
      
      <categories>
          
          <category> 兼容360浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> flash </tag>
            
            <tag> 360应用开发 </tag>
            
            <tag> bug </tag>
            
            <tag> 对象不支持此方法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] 消除 flash 视频播放器的叠音</title>
      <link href="/post/flv-sound-overlaping-problem.html"/>
      <url>/post/flv-sound-overlaping-problem.html</url>
      <content type="html"><![CDATA[<p>本文讨论的是类似于 优酷360桌面应用（<a href="http://api.youku.com/widget/360box/index.html" title="http://api.youku.com/widget/360box/index.html" target="_blank" rel="noopener">http://api.youku.com/widget/360box/index.html</a>） 的切换视频的情况。即：所有操作在同一网页完成，无页面切换的情况。 JS 动态切换 flash 是采用 <a href="https://www.bokeyy.com/post/change-swf-url.html" target="_blank" rel="noopener">本站此文</a> 所说的第三或第四种方法。测试环境是 360桌面app 的封装环境（<a href="http://wiki.dev.app.360.cn/index.php?title=%E5%BA%94%E7%94%A8%E5%88%B6%E4%BD%9C%E7%9B%B8%E5%85%B3%E4%B8%8B%E8%BD%BD" target="_blank" rel="noopener">点此下载 360安全桌面 WebApp 本地制作工具</a>）。  </p><h4 id="叠音的产生"><a href="#叠音的产生" class="headerlink" title="叠音的产生"></a>叠音的产生</h4><p>就是包含 Flash 播放器的 div 的 DOM 节点被不断的删除，并且每次都生成新的 包含 Flash 播放器的 div 的过程。这样的 DOM 操作反复几次后，每当影片播放 3 – 10 分钟，网页会传来某一个之前播放的影片的声音。且除非刷新或者关闭网页，叠音无法被消除。</p><div id="container"><br><br>  <a href="javascript:;" onclick="goBack();" target="_blank" rel="noopener">返回选电影</a><br><br>  <div id="FPlayerLayer"><br><br>    <object type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" id="FPlayer" align="middle" height="500" width="400"><br><br>      <param name="allowScriptAccess" value="always"><br><br>      <param name="allowFullScreen" value="true"><br><br>      <param name="movie" value="影片地址"><br><br>      <param name="quality" value="high"><br><br>      <param name="wmode" value="opaque"><br><br>      <embed src="影片地址" id="FPlayer" quality="high" name="FPlayer" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="opaque" align="middle" height="400" width="500"><br><br>    </object><br><br>  </div><p></p></div><p></p><script type="text/javascript">    function goBack(){        /* 清除 id 为 "container" 的 div 的内容，替换成影片列表。 并且单击影片链接后，会再次清空 id 为 "container" 的 div ， 重新加入 <div id="FPlayerLayer"> 的内容。  */    }</script><h4 id="消除叠音"><a href="#消除叠音" class="headerlink" title="消除叠音"></a>消除叠音</h4><p>将 包含 Flash 播放器的 div 的 DOM 节点 放到 id 为 “container” 的 div 外面。且每次只更改前者的 innerHTML，而不删除其 DOM 节点。</p>]]></content>
      
      <categories>
          
          <category> 兼容360浏览器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> flash </tag>
            
            <tag> swf </tag>
            
            <tag> 360应用开发 </tag>
            
            <tag> 叠音 </tag>
            
            <tag> 播放 </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] IE6 的渲染 bug</title>
      <link href="/post/ie6-synchronously-render-bug.html"/>
      <url>/post/ie6-synchronously-render-bug.html</url>
      <content type="html"><![CDATA[<p>在 IE6 或者其它有采用 IE 内核的浏览器中，有时候会突然有一部分不渲染。例如：</p><p>Y.on(“click”, function(){</p><pre><code>var name = this.getAttribute(&quot;data-role&quot;);if(isNameValidated(name)){    setSelectedStyle(this);    loadContent(name);}</code></pre><p>}, “ul.nav a”);</p><p>function loadContent(name){</p><pre><code>refreshVariables();Y.jsonp(interfaces\[name\] + &apos;callback={callback}&apos;, function(data) {   if (data.success){</code></pre><p>   recordData(name, data);</p><pre><code>     refreshLayout(name);   }});</code></pre><p>}</p><p>  在 IE6 下会正常运行并获取数据。但是，虽然 setSekectedStyle(this); 改变了导航栏的样式，而 refreshLayout(name); 却没成功改变其它容器的内容。 再例如：</p><p>/* 在 refreshLayout(name) 中会调用如下函数 */</p><p>function turnOnBackground(){</p><pre><code>if(isBgTurnedOff){    Y.one(&quot;#容器id&quot;).removeClass(&quot;backgroundOff&quot;);    Y.one(&quot;#容器id&quot;).addClass(&quot;backgroundOn&quot;);    isBgTurnedOff = false;}</code></pre><p>}</p><p>  当网页在采用了 ie 内核的 360桌面app 内运行时，如果系统是 win7 + IE8，则这个设置容器背景的函数有时会不生效。 以上两个例子都是在程序运行正确的情况下，偶尔出现的网页外观不改变的情况。这是 IE 的一个 bug。鉴别它们的方法是，在函数运行前增加：</p><p>alert(“什么字符都可以”);</p><p>  就会发现，对弹出的对话框按确定之后，网页外观就都正常改变了。 想不 alert 修复这个问题，方法是用 setTimeout 将不起作用的部分包裹起来，并将延迟设为 0：</p><p>setTimeout(function(){</p><pre><code>//不起作用的更改 DOM 外观的语句</code></pre><p>},0);</p>]]></content>
      
      <categories>
          
          <category> 兼容360浏览器 </category>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兼容 </tag>
            
            <tag> 360应用开发 </tag>
            
            <tag> bug </tag>
            
            <tag> AJAX </tag>
            
            <tag> IE6 </tag>
            
            <tag> JSONP </tag>
            
            <tag> 渲染 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] IE6 链接无法点击的修复方法</title>
      <link href="/post/ie6-unclickable-a-label.html"/>
      <url>/post/ie6-unclickable-a-label.html</url>
      <content type="html"><![CDATA[<p>IE6 是个有一些兼容问题的浏览器。本文介绍会使 <a> 标签在 IE6 下，鼠标既没有手型又不可点击的三种情况及解决方案。@后面的是为本人指出此 bug 的人，感谢~  </a></p><h4 id="情况一"><a href="#情况一" class="headerlink" title="情况一"></a>情况一</h4><!--这是 <a> 标签所在容器的背景上画了一个按钮，需要能点击跳转的情况--><p>&lt;a href=”<a href="https://www.bokeyy.com/&quot;" target="_blank" rel="noopener">https://www.bokeyy.com/&quot;</a> style=”display:block;width:100px;height:40px;”</p><p> alt=”博客歪歪”&gt;</p><p>由于 <a> 标签没有背景，在 IE6 下将不可点击，鼠标移上后也不会是手型。 解决方案：给 <a> 标签增加一个透明的图片或者 filter 做背景。 <a href="http://www.zhoumingzhi.com/" target="_blank" rel="noopener">@zhoumingzhi</a>  </a></a></p><h4 id="情况二"><a href="#情况二" class="headerlink" title="情况二"></a>情况二</h4><!--这是绝对定位与浮动元素相邻的情况--><p>&lt;a href=”<a href="https://www.bokeyy.com/&quot;" target="_blank" rel="noopener">https://www.bokeyy.com/&quot;</a></p><p> style=”position:absolute;display:block;right:0;top:0;</p><p>background:url(transparent_bg.</p><p>png) no-repeat center;”&gt;</p><p>返回首页<div style="float:left;"></div></p><p>内容</p><p>当绝对定位元素与浮动元素相邻时，绝对定位的元素在 IE6 下可能会消失（？？）。 解决方案：在两者间插入一些其它标签。 <a href="http://www.zhoumingzhi.com/" target="_blank" rel="noopener">@zhoumingzhi</a>  </p><h4 id="情况三"><a href="#情况三" class="headerlink" title="情况三"></a>情况三</h4>&lt;div style=’background:url(bg.png);_background:none;<br><br>_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=”<br><br>bg_png8.png”);’&gt;<br><br><a href="http://www.bokeyy.com" style="display:block;width:100px;height:100px;" target="_blank" rel="noopener">点击访问</a><p>当 <a> 标签所在容器使用了半透明滤镜时，会造成锚点失效 。该 <a> 标签不可点击，鼠标放上去也不是手型。 原因：滤镜会覆盖在 a 和 input 标签的上面。 解决方案：去掉滤镜或使之相对浮动（position:relative）。关于相对浮动为什么可以解决这个问题，请参考 <a href="http://www.css88.com/archives/2916" target="_blank" rel="noopener">http://www.css88.com/archives/2916</a> 和 <a href="http://a68091555.iteye.com/blog/761958" target="_blank" rel="noopener">http://a68091555.iteye.com/blog/761958</a> 。 <a href="http://bluescript.iteye.com/" target="_blank" rel="noopener">@guoaimin</a>  </a></a></p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>完成之后，发现这三种情况的共同点是：<a> 标签具有 “display:block;” 属性。所以，可能使用 <a> 进行 “display:block;” 本身就不是一个标准的做法，并且这种做法才是各种 bug 的根源吧！</a></a></p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 兼容 </tag>
            
            <tag> bug </tag>
            
            <tag> IE6 </tag>
            
            <tag> a </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>encodeURI 修正 IE6 AJAX 找不到对象的 bug</title>
      <link href="/post/encodeuri-ajax-ie6.html"/>
      <url>/post/encodeuri-ajax-ie6.html</url>
      <content type="html"><![CDATA[<p>大概是如下的情况：</p><p>var interface1 = “<a href="http://www.a.com/i/if.do?type=心理学&quot;" target="_blank" rel="noopener">http://www.a.com/i/if.do?type=心理学&quot;</a>;</p><p>var interface2 = “<a href="http://www.a.com/i/if.do?type=心理&quot;" target="_blank" rel="noopener">http://www.a.com/i/if.do?type=心理&quot;</a>;</p><p>//语句一</p><p>Y.jsonp(interface1 + ‘callback={callback}’, function(data) {</p><p>});</p><p>//语句二</p><p>Y.jsonp(interface2 + ‘callback={callback}’, function(data) {</p><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 在 IE6 下语句一报错，提示“找不到对象”，语句二则正常执行。 解决方案如下，将 interface1 的内容复制到 IE6 浏览器地址栏，“<a href="http://www.a.com/i/if.do?type=心理学”" target="_blank" rel="noopener">http://www.a.com/i/if.do?type=心理学”</a> 就变成了 “<a href="http://www.a.com/i/if.do?type=%E5%BF%83%E7%90%86%E5%AD%A6”。将" target="_blank" rel="noopener">http://www.a.com/i/if.do?type=%E5%BF%83%E7%90%86%E5%AD%A6”。将</a> interface1 的内容改成后者的值即可正确获取接口内容。 究其原因，URL需要被 encodeURI 之后才能正常被 AJAX。 而将含有中文的 URL 复制到 IE6 地址栏中，正是一次 encodeURI 的过程。和其它浏览器不同，IE6 不会在 AJAX 的时候自动进行这个过程。因此产生了一些奇怪的结果。 语句二因为只有两个汉字，虽然也没有经过 encodeURI ，却能工作。不过但凡遇到这样的情况，还是统一进行一下 encodeURI 吧！ 总结：AJAX 获取的 URL 应该是 encodeURI(URL字符串); 语句的返回值。 注：以上 javascript 语句使用 YUI3 框架。  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>看了下encodeURIComponent 、 encodeURI 与 escape 三者的区别。觉得为了 IE，最正确的方法是<strong>只对要传输的字符串参数部分</strong>用一次 encodeURIComponent ，因为它会将 / 等在 URL 中可能破坏原本语义的字符也一并转义，这样才是处理用户提交的未知字符串的正确方法，如 图1。<br><a href="https://www.bokeyy.com/wp-content/uploads/2011/9/33fe8e954467_108BC/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/9/33fe8e954467_108BC/image_thumb.png" alt="image" title="image"></a><br><strong>图1 encodeURIComponent 与 encodeURI 区别</strong> 另外，JavaScript 中 encodeURIComponent 、 encodeURI 与 escape 的区别在于，escape 是连同 # 号什么的在 URL 中有功能并且不该被转义的字符也转义的。 escape不编码字符有69个：<em>，+，-，.，/，@，</em>，0-9，a-z，A-Z<br>encodeURI不编码字符有82个：!，#，$，&amp;，’，(，)，<em>，+，,，-，.，/，:，;，=，?，@，</em>，~，0-9，a-z，A-Z<br>encodeURIComponent不编码字符有71个：!， ‘，(，)，*，-，.，_，~，0-9，a-z，A-Z<br>（此列表来源：<a href="http://www.zhoumingzhi.com/2010/08/11/tips-20100804-20100811/" target="_blank" rel="noopener">http://www.zhoumingzhi.com/2010/08/11/tips-20100804-20100811/</a> ） 详细请参考 w3cSchool：<a href="http://www.w3school.com.cn/js/jsref_encodeURIComponent.asp" target="_blank" rel="noopener">encodeURIComponent</a> 、<a href="http://www.w3school.com.cn/js/jsref_encodeURI.asp" target="_blank" rel="noopener">encodeURI</a> 、<a href="http://www.w3school.com.cn/js/jsref_escape.asp" target="_blank" rel="noopener">escape</a> 。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> AJAX </tag>
            
            <tag> encodeURI </tag>
            
            <tag> IE6 </tag>
            
            <tag> 找不到对象 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[翻译] JavaScript 中的堆栈溢出和内存不足</title>
      <link href="/post/javascript-out-of-memery-and-stack.html"/>
      <url>/post/javascript-out-of-memery-and-stack.html</url>
      <content type="html"><![CDATA[<p><strong>[原文]</strong> <a href="http://cautionsingularityahead.blogspot.com/2011/03/stack-overflow-and-out-of-memory-in.html" title="http://cautionsingularityahead.blogspot.com/2011/03/stack-overflow-and-out-of-memory-in.html" target="_blank" rel="noopener">http://cautionsingularityahead.blogspot.com/2011/03/stack-overflow-and-out-of-memory-in.html</a> 本文给出了主流各浏览器中 Javascript 堆栈溢出和内存不足时的表现。借助此文，发现了脚本里面死循环的 bug。原文发布日期：2011-03-23</p><h4 id="堆栈溢出"><a href="#堆栈溢出" class="headerlink" title="堆栈溢出"></a>堆栈溢出</h4><p>范例代码：</p><p>function a() { return a() + 1; } a();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><ul><li>IE9： Error， 信息： ‘<em>Out of stack space</em>‘</li><li>Firefox 4： InernalError， 信息： ‘<em>too much recursion</em>‘</li><li>Safari 5： RangeError， 信息： ‘<em>Maximum call stack size exceeded</em>‘</li><li>Chrome 10： RangeError， 信息： ‘<em>Maximum call stack size exceeded</em>‘, type: _stack_overflow_’</li><li>Opera 11： Error， 信息： ‘<em>Maximum recursion depth exceeded</em>‘</li></ul><h4 id="内存不足"><a href="#内存不足" class="headerlink" title="内存不足"></a>内存不足</h4><p>范例代码：</p><p>var s = ‘x’; while(true) { s = s + s; }</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><ul><li>IE9： Error， 信息： ‘<em>Out of memory</em>‘</li><li>Firefox 4： InternalError， 信息： ‘<em>allocation size overflow</em>‘</li><li>Safari 5： Error， 信息： ‘<em>Out of memory</em>‘</li><li>Chrome 10： sad browser tab - <strong>not catchable</strong>(?)  （实测范例代码的结果是提示该脚本占用内存过多而不是出现 sad browser tab，然而在真正的脚本中死循环时，确实出现了 sad browser tab）</li><li>Opera 11： my box ground to a crawl for several minutes; I ended up killing the process</li></ul><p>注意这也表明某个 string 达到了最大大小，所以它也并非是如此可靠的测试。 我在 <a href="https://mail.mozilla.org/pipermail/es-discuss/2011-March/013367.html" target="_blank" rel="noopener">es-discuss</a> 提出了此问题，看看是否有人对其标准化感兴趣（指的是同一各浏览器的提示信息么？）。</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 转载 </tag>
            
            <tag> 内存不足 </tag>
            
            <tag> 堆栈溢出 </tag>
            
            <tag> 翻译 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[兼容各浏览器] JavaScript 动态修改 swf 地址方法</title>
      <link href="/post/change-swf-url.html"/>
      <url>/post/change-swf-url.html</url>
      <content type="html"><![CDATA[<h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><p>适合浏览器：FireFox 和 Chrome<br>参考文献：<a href="http://noobflash.com/swf-css-display-change-causes-reload-in-firefox-and-chrome/" target="_blank" rel="noopener">http://noobflash.com/swf-css-display-change-causes-reload-in-firefox-and-chrome/</a> (英文)</p><p>/*</p><p> 代码用 YUI ～ 也可以用原生 JS 或者其它框架同理去做 :-)；</p><p>none-display 是定义的一个 class ，其属性是 display:none；</p><p>因为 Chrome 在从 display:none 切换到不是 display:none 的时候会根据当前 src 值重加载影片；</p><p>而 FireFox 总是在 src 一改变就加载（详见参考文献）</p><p> */</p><p>Y.one(“#embed标签的id”).addClass(“none-display”); </p><p>tmpObj.setAttribute(“src”, movieSwfURL); // 用 YUI3 Node 的 setAttribute 改变 src </p><p>Y.one(“#embed标签的id”).removeClass(“none-display”); </p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }  </p><h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><p>适合浏览器：IE6 和 IE7<br>参考文献：<a href="http://bufanliu.iteye.com/blog/200590" title="http://bufanliu.iteye.com/blog/200590" target="_blank" rel="noopener">http://bufanliu.iteye.com/blog/200590</a> （中文）</p><p>/*</p><p>IE6 和 IE7 读取的是 object 标签内的内容，关于 object 和 embed 标签可以查阅参考文献；</p><p>swf 文件的地址通过 param 标签 <param name="movie" value="swf 文件地址"> 来确定；</p><p>可以尝试直接修改 <param> 标签的值，但是在 IE 的 Developer Tool 里面可以看到：值虽然修改了，</p><p>影片却没有重新加载。并且对 chrome 有效的 display:none 大法无效。</p><p>解决方案是取 object 对象，修改其 movie 属性的值；</p><p>然而此法对于 Ie8 及以上的浏览器无效 :-(</p><p> */</p><p>Y.one(“#embed标签的id”).setAttribute(“movie”,movieSwfURL); </p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }  </p><h4 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h4><p>适合浏览器：全面适合各种浏览器<br>参考文献：<a href="http://aiyooyoo.com/index.php/archives/180/" target="_blank" rel="noopener">http://aiyooyoo.com/index.php/archives/180/</a> (中文)</p><p>/*</p><p>原生代码较长，其原理就是直接修改整个插入 flash 功能的代码，</p><p>一般通过在 flash 外面套一个 div 并修改其 innerHTML 来实现。</p><p>原生实现可以仿照参考文献。</p><p>*/</p><p>var data = {</p><pre><code>&quot;movieURL&quot;:&quot;swf 的 URL 地址&quot;</code></pre><p>};</p><p>Y.one(“#div的Id”).setContent(Y.Mustache.to_html(Mustache模板字符串, data));    </p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><h4 id="方法四"><a href="#方法四" class="headerlink" title="方法四"></a>方法四</h4><p>适合浏览器：FireFox Chrome IE6 IE7 IE8 IE9</p><p>/*</p><p>本人在用这个方法的时候，总是碰到各种各样的兼容性问题，和 flash 的 HTML 标签的写法有关。</p><p>changeVideo 是 swf 文件里面实现的一个可以用 js 调用的方法，其作用是改变播放的影片。</p><p>这是一个脆弱的方法，其原因在于，flash object 标签写法的不同，</p><p>可以导致在某些浏览器中能够调用 flash object 方法，某些浏览器中提示方法无效。</p><p>*/</p><p>movieObj.changeVideo(movieURL, 其它参数……);</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><!----这是通过 FireFox \ Chrome 最新版和 IE6 IE7 IE8 IE9 的 flash 对象代码的写法 ----><object width="宽" height="高" align="middle" type="application/x-shockwave-flash" id="flash对象id" name="flash对象id" data="swf地址"><br><br>&lt;param name=&amp;q<br>uot;quality” value=”high”&gt;<br><br><param name="bgcolor" value="#261a12"><br><br><param name="allowscriptaccess" value="always"><br><br><param name="allowfullscreen" value="true"><br><br></object><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><h4 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h4><p>为了视频切换无叠音，请阅读《<a href="https://www.bokeyy.com/post/flv-sound-overlaping-problem.html" target="_blank" rel="noopener">【笔记】 消除 flash 视频播放器的叠音</a>》。</p>]]></content>
      
      <categories>
          
          <category> 兼容IE6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> flash </tag>
            
            <tag> swf </tag>
            
            <tag> 动态改变地址 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JustHost JustPlan 主机 python 设置指南</title>
      <link href="/post/justhost-justplan-python-installing-guide.html"/>
      <url>/post/justhost-justplan-python-installing-guide.html</url>
      <content type="html"><![CDATA[<p>JustHost （<a href="http://www.justhost.com" target="_blank" rel="noopener">www.justhost.com</a>）提供服务器在美国的虚拟主机服务，其标准主机主机支持 python，但是需要一些设置。之前尝试运行一个 helloworld， 总是提示 500 内部服务器错误。网络上搜索了下，可能是用的人不多，没发现这方面的中文文章。因此，在参照英文博客并在 justhost 客服的帮助下搞定问题之后，决定翻译有帮助的两篇英文以及 justhost 官方客服的回信，供后来人方便。</p><h2 id="第一篇"><a href="#第一篇" class="headerlink" title="第一篇"></a>第一篇</h2><p><strong>[原文地址]</strong> <a href="http://stackoverflow.com/questions/3970178/justhost-com-and-python-cgi" target="_blank" rel="noopener">http://stackoverflow.com/questions/3970178/justhost-com-and-python-cgi</a> <strong>[翻译]</strong> 问：我在试着使 justhost.com 编译一段 python CGI 脚本 （helloworld.py），但不太顺利。这个站点说支持 python，但我都没怎么发现。我在使用 webpython.codepoint.net/cgi_tutorial 。有人成功过么？ 答：OK，我明白了。justhost.com 的用户需要做一些步骤：</p><ul><li>在 ‘public_html/’ 下建立名为‘scgi-bin/’的目录；</li><li>登陆 cpanel ，然后  ‘advanced options’ -&gt; ‘Apache Handlers’ -&gt; 添加一个用户自定义 apache handler ( handler: cgi-script, extenstion: .py) ，并按 ‘add’；</li><li>编写 helloworld.py (不会写 helloworld 看这里的全英文指南 <a href="http://webpython.codepoint.net/cgi_hello_world" target="_blank" rel="noopener">http://webpython.codepoint.net/cgi_hello_world</a> )；</li><li>上传到之前建立的 ‘scgi-bin/‘ 目录； (注意： 必须以 ascii 格式上传。Dreamweaver 默认是使用二进制，我使用 filezille ，把传输模式设为 ascii；</li><li>运行！ www.您的网站.com/scgi-bin/helloworld.py</li></ul><h2 id="第二篇"><a href="#第二篇" class="headerlink" title="第二篇"></a>第二篇</h2><p><strong>[原文地址]</strong> <a href="http://codingrecipes.com/python-as-cgi-and-error-500-internal-server-error" target="_blank" rel="noopener">http://codingrecipes.com/python-as-cgi-and-error-500-internal-server-error</a> <strong>[标题]</strong> Python CGI 脚本 500 内部服务器错误 <strong>[翻译]</strong> 如果您在 *nix 系统中遇到了这个问题，需要检查以下几条：</p><ol><li>确保换行符是 \n 而不是 \n\r，大部分编辑器可以修改这个设置；</li><li>确保文件以 ascii 模式上传，使得 \n 依然是 \n；</li><li>如果还不行，确保您的 Python 脚本是 755 权限，尝试：chmod 755 您的python脚本.py 或者使用 FTP 客户端来更改权限（查阅帮助文件，一般是点击右键修改）；</li><li>若仍有问题，确认脚本头部有正确的 <a href="http://zh.wikipedia.org/wiki/Shebang" target="_blank" rel="noopener">Shebang 行</a>，其中最常用的是： #!/usr/bin/env python 若不能使用，试试： #!/usr/bin/python 或者： #!/usr/local/bin/python 注意必须在第一行；</li><li>最后，如果以上都没用而且您有 root 权限，请 tail -f /usr/local/apache/logs/error_log （注意不同服务器的 Apache 地址可能不同） 并查找与您的请求相关的错误信息；</li><li>然而，如果您依然无法指出问题所在，请联系您的服务器提供商，希望会有帮助。</li></ol><h2 id="客服回信"><a href="#客服回信" class="headerlink" title="客服回信"></a>客服回信</h2><p><strong>[翻译]</strong> 嗨，Vivian 谢谢来信。我们的 LINUX 网络服务器支持在您自己的 ‘cgi-bin’目录中运行 CGI 脚本。脚本可以用 Python 和 CGI 语言编写。这里有些安装脚本时有帮助的点：</p><ul><li>上传到 cgi-bin 目录以确保合适的文件权限设置；</li><li>所有我们服务器上的脚本必须是 755 权限 （rwx-rx-rx）。</li></ul><p>如果您更改脚本权限需要帮助，如下： - 以 ASCII 传输模式上传（<strong>不是二进制模式</strong>） - 每个脚本的第一行必须是： #!/usr/local/bin/python - 确保权限设置是 755。 我已经更正了您脚本的权限设置和一些字符串，请检查：<a href="http://yuanal.com/sinzero/cgi-bin/Sample.py" target="_blank" rel="noopener">http://yuanal.com/sinzero/cgi-bin/Sample.py</a> 。  </p><h2 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h2><p>本人的主机 <a href="http://www.yuanal.com" target="_blank" rel="noopener">www.yuanal.com</a> ，是较为便宜的 justPlan 。上述 HelloWorld python 脚本地址就是 <a href="http://yuanal.com/sinzero/cgi-bin/Sample.py" target="_blank" rel="noopener">http://yuanal.com/sinzero/cgi-bin/Sample.py</a> 。justhost 主机的评测和便宜购买的渠道参考本站的《<a href="https://www.bokeyy.com/post/how-is-justhost.html" title="justHost 主机评价" target="_blank" rel="noopener">justHost 主机评价</a>》。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 虚拟主机 </tag>
            
            <tag> 试用心得 </tag>
            
            <tag> justhost </tag>
            
            <tag> justPlan </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>给 bokeyy.com 添加 JiaThis 社会化分享插件</title>
      <link href="/post/z-blog-jiathis-installation.html"/>
      <url>/post/z-blog-jiathis-installation.html</url>
      <content type="html"><![CDATA[<p>最近看博文的时间比较多，但凡遇到有帮助的原创文章（ 也可能只是无署名转载的原创 –_-|| ），本人都会在新浪微博上复制文章名、链接和一两句话的评论进行分享。 本来是不太看好社会化分享这种赤裸裸的营销插件的。可是正如销售存在的意义一样，往往推销也是应众人所需，从而主动传播可能改善对方生活的信息的双赢活动。分享了这么多次，深觉得方便的分享工具还是很有必要的。谁晓得呢，也许，我的博文也可以被分享的 <img src="https://www.bokeyy.com/wp-content/uploads/2011/8/-bokeyy.com--JiaThis-_5349/wlEmoticon-openmouthedsmile.png" alt="大笑">。 本站使用的是 <a href="http://www.rainbowsoft.org/" target="_blank" rel="noopener">Z-blog 1.8 Wall</a>，按照 <a href="http://www.jiathis.org/" target="_blank" rel="noopener">JiaThis</a> 的官方教程 <a href="http://www.jiathis.com/help/html/zblog-install-jiathis" target="_blank" rel="noopener">http://www.jiathis.com/help/html/zblog-install-jiathis</a> 就可以添加完毕了。本站就是给 <a href="http://imotta.cn/" target="_blank" rel="noopener">Coogee</a> 主题（本站主题 <a href="http://imotta.cn/" target="_blank" rel="noopener">Coogee</a> 可是海滩的名字噢~）的 single.html 的  前面加了 JiaThis 提供的尾脚本。这样每个文章页右边都会有个始终在中部的 <a href="http://www.jiathis.com/" target="_blank" rel="noopener">JiaThis</a> 工具。 看过《<a href="https://www.bokeyy.com/search.asp?q=High+Performance+Web+Sites" target="_blank" rel="noopener">High Performance Web Sites</a>》的孩子们都该知道，JS 放在  的前面，在页面内容都载完才下载和运行 JS，既不影响功能，又不怎么影响访客感觉的加载速度。 选择的是 <a href="http://www.jiathis.com/" target="_blank" rel="noopener">JiaThis</a> 的侧边栏版本，可爱的亮橙色。欢迎使用 <img src="https://www.bokeyy.com/wp-content/uploads/2011/8/-bokeyy.com--JiaThis-_5349/wlEmoticon-winkingsmile.png" alt="眨眼">。</p>]]></content>
      
      <categories>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
            <tag> jiathis </tag>
            
            <tag> 网站开发 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>求职网页程序员的历程（五）</title>
      <link href="/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-ba-94-ef-bc-89.html"/>
      <url>/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-ba-94-ef-bc-89.html</url>
      <content type="html"><![CDATA[<p>写这篇文章时已经是 2011-11-01 ，我的第 24 个公历生日。把发布日期设置为 2011-07-04 ，就是入职“网之易科技（北京）有限公司”的那天，续写求职的琐事吧！</p><p>直到 2011 年 6 月中旬，本人在银禾的职业生涯就走到了尽头。银禾的工作经历使本人变成了“有相关工作经验”的人。再则得感谢一线城市互相争抢前端开发工程师的就业势头，使得大公司都乐意招募会做基本工作的员工进行培养。因此，通过新浪微群的招聘信息，本人在六月底来到了北京，过新的生活。前两份工作教给自己的，也许不太理解，但是，也许终有一天会理解，会用上，会记住。</p><p>遥望前路，还是漫漫。不过这份工作，还是圆了少时体验北方生活的梦想。所谓理想不过是离乡。什么经历恐怕都是沧海一粟罢了。可是，还是不甘心吧！</p><p>今天生日，希望自己和家人都健康，希望可以走过看过很多地方，也希望大家都平平安安的生活。如果有理想，无论现在在做什么，就一直一直的，坚持下去。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作经验 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> 找工作 </tag>
            
            <tag> 求职 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>无闪烁的 mouseover 高亮区域</title>
      <link href="/post/mouse-over-flash-problem.html"/>
      <url>/post/mouse-over-flash-problem.html</url>
      <content type="html"><![CDATA[<p>网络上很多鼠标悬停会高亮的区域，比如某个 TR ，某个 DIV 等等。这些天用 JQuery 模仿这个效果，如下：</p><p>$(“tr[attributed]“).mouseover(function(){</p><pre><code>$(this).addClass(&quot;hovered&quot;);</code></pre><p>}).mouseout(function(){</p><pre><code>$(this).removeClass(&quot;hovered&quot;);</code></pre><p>}).click(function(){</p><pre><code>//click event</code></pre><p>});</p><p>其中，“hovered” 是高亮的样式。这样虽然能用了，但鼠标放上去的时候，背景总会一闪一闪的。经过请教，原来，原因是 mouseout 事件里面的函数在每次鼠标经过一些边界区域，比如 td 的边框等等的时候，也会执行。</p><p>所以解决方案是 var 一个 currentHoveredObj 变量记录当前高亮的符合 JQuery 筛选器条件的对象，只有当 currentHoverObj 指向的对象改变的时候，高亮才消失。而不是用 mouseout 事件来判断高亮是否消失。于是定义了一个通用的函数叫 setHoveredStyle 来解决，并去掉 mouseout 的部分，如下：</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>var currentHoveredObj = null;</p><p>function setHoveredStyle(obj){</p><pre><code>currentHoveredObj.removeClass(&quot;hovered&quot;);currentHoveredObj = obj;      currentHoveredObj.addClass(&quot;hovered&quot;);</code></pre><p>}</p><p>$(“tr[attributed]“).mouseover(function(){</p><pre><code>setHoveredStyle($(this));</code></pre><p>}).click(function(){</p><pre><code>//clickevent</code></pre><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }   运行调试后，果然不再闪烁了。 刚刚试验了一下二楼说的方法，果然可以而且方便很多：</p><p>//使用 mouseenter 和 mouseleave</p><p>jQuery(“tr”).mouseenter(function(){</p><pre><code>$(this).addClass(&quot;hovered&quot;);}).mouseleave(function(){$(this).removeClass(&quot;hovered&quot;);    });</code></pre><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }   JQuery的hover可以代替 mouseenter 和 mouseleave 的组合：</p><pre><code>$(&quot;tr&quot;).hover(function(){        $(this).addClass(&quot;hovered&quot;);    }, function(){        $(this).removeClass(&quot;hovered&quot;);        });</code></pre><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>另外，如果是 YUI 框架的话，也可使用 mouseenter 和 mouseleave 事件来避免冒泡～ 只需 use 一下  event-mouseenter 就行了～</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 感评 </tag>
            
            <tag> JS </tag>
            
            <tag> JQuery </tag>
            
            <tag> 视觉 </tag>
            
            <tag> 练习 </tag>
            
            <tag> hover </tag>
            
            <tag> mouseover </tag>
            
            <tag> unflash </tag>
            
            <tag> 无闪烁 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 10 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule10.html"/>
      <url>/post/high-performance-web-sites-rule10.html</url>
      <content type="html"><![CDATA[<p>本章的主题是 Minify JavaScript （压缩 JavaScript）。本章认为，不管是单独的 js 文件，还是直接嵌入到 HTML 之间的代码，都应该被 minified。 这里的压缩指的不是 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule4.html" target="_blank" rel="noopener">Gzip 压缩</a>，而是从代码本身的字符数下手，进一步减小其被 Gzip 压缩后的尺寸。 Minified JavaScript 被移除的有注释、多余的空白和回车；obfuscation 是另一种选择，压缩率更高，但有可能会造成 bug。 例如，最初的代码：</p><p>YAHOO.util.CustomEvent = function(type, oScope, silent, signature) {</p><p>this.type = type;</p><p>this.scope = oScope || window;</p><p>this.silent = silent;</p><p>this.signature = signature || YAHOO.util.CustomEvent.LIST;</p><p>this.subscribers = [];</p><p>if (!this.silent) {</p><p>}</p><p>var onsubscribeType = “_YUICEOnSubscribe”;</p><p>if (type !== onsubscribeType) {</p><p>this.subscribeEvent =</p><p>new YAHOO.util.CustomEvent(onsubscribeType, this, true);</p><p>}</p><p>};</p><p>  .csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }Minify 以后：</p><p>YAHOO.util.CustomEvent=function(type,oScope,silent,signature){this.type=type;this.</p><p>scope=oScope||window;this.silent=silent;this.signature=signature||YAHOO.util.</p><p>CustomEvent.LIST;this.subscribers=[];if(!this.silent){}</p><p>var onsubscribeType=”_YUICEOnSubscribe”;if(type!==onsubscribeType){this.subscribeEv</p><p>ent=new YAHOO.util.CustomEvent(onsubscribeType,this,true);}};</p><p>  如果选择 obfuscation ：</p><p>YAHOO.util.CustomEvent=function(_1,_2,_3,_4){</p><p>this.type=_1;</p><p>this.scope=_2||window;</p><p>this.silent=_3;</p><p>this.signature=_4||YAHOO.util.CustomEvent.LIST;</p><p>this.subscribers=[];</p><p>if(!this.silent){</p><p>}</p><p>var _5=”_YUICEOnSubscribe”;</p><p>if(_1!==_5){</p><p>this.subscribeEvent=new YAHOO.util.CustomEvent(_5,this,true);</p><p>}</p><p>};</p><p>本书统计，对于大部分 JavaScript ， obfuscation 的压缩比只会高出几个百分点。而且这个差距在使用了 Gzip 压缩后会变得几乎没有，甚至为负。</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 相比于单纯的 Gzip 压缩（见 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule4.html" target="_blank" rel="noopener">rule 4</a>， 能减少约 70% 的大小）， minify 压缩对 Gzip 压缩后的增益是比较微不足道的，这就是为什么 Gzip 压缩是 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule4.html" target="_blank" rel="noopener">rule 4</a> 而 minify 压缩是 rule 10。然而，随着 js 尺寸的增大，minify 能帮助减小的尺寸就越多。 最后，本章补充了 minify CSS。书中认为，CSS 文件往往没有那么多的注释和空白。真正的压缩还是要借助于去掉无用的 class 等，而这个所需的工具尚需研究（其实现在已经有 CSS 的管理工具可以做到）。因此书中的结论是，CSS 中用 “#606”代替 “#660066”，用 “0” 代替 “0px”等。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gzip </tag>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 压缩 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 8 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule8.html"/>
      <url>/post/high-performance-web-sites-rule8.html</url>
      <content type="html"><![CDATA[<p>终于开始在北京一间小屋里平静过自己的小日子（2011-07-16 星期六），想把火车上看过的书的笔记补一下，免得有一种残缺感。 Rule 8 说的是外链 JavaScript 和 CSS ， 而不是直接嵌入。 其实外链和嵌入是各有优点的：前者虽然增加了 HTTP 请求，却增大了有 cache 和 expire header 时的加载效率（配合缓存），外链的 js 的代码重用性也更好；后者只适合基本没什么重用的 JS 和 CSS。 所以本章认为，外链在大部分情况下好过内嵌。然而，也有一个折衷的办法，叫做：首页内嵌、预先加载。也就是在首页嵌入 JavaScript 和 CSS 代码，并在加载结束后，预先为其它页面下载好它们会包含的 JavaScript 和 CSS 文件。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 外链 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 6 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule6.html"/>
      <url>/post/high-performance-web-sites-rule6.html</url>
      <content type="html"><![CDATA[<p>本章主题：Put Scripts at the Bottom（将脚本放到末尾）。和《High Performance JavaScript》第一章的重点内容相同，并被引用。 其中心思想在于，浏览器为了按正确顺序下载和执行脚本，遇到 script 代码块的时候，浏览器会屏蔽下载活动，等待该脚本<strong>下载</strong>和<strong>执行</strong>完毕，如下两张图。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image_thumb.png" alt="image" title="image"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image_3.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image_3.png" alt="image" title="image"></a> 继续用图说话，如果将 script 引用和代码块都放在页面尾，就变成： <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image_4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/High-Performance-Web-Sites-Rule-6-_A89E/image_thumb_4.png" alt="image" title="image"></a> 显然，脚本在其它所有组件都显示出来了以后才被下载和执行，相信和 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule5.html" target="_blank" rel="noopener">Rule 5: 将 CSS 文件放到页首</a> 一样，访客会感觉快很多。 引申问题：为什么图中并行下载的 component （图片也算 component）只有两个？ 此问题可以回到 <a href="https://www.bokeyy.com/post/High-Performance-Web-Sites-Rule1.html" target="_blank" rel="noopener">Rule 1</a> 来解答。 HTTP/1.1 规定，每个域名下最多同时下载两个 component 。大部分网站都是 HTTP/1.1 的。这时如果将 component 分布在多个不同的域名下，可以在增加服务器负担的同时提升 HTTP 并行数。经过 Yahoo! 的研究，域名数为 2 时效果最佳。 另外，访客可以修改浏览器在每个域名下最多同时下载的 component 个数，来达到加速的目的。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 网页 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 7 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule7.html"/>
      <url>/post/high-performance-web-sites-rule7.html</url>
      <content type="html"><![CDATA[<p>本人从此章第一次知道世上有种叫做 CSS expression 的东西，示例代码如下。</p><p>background-color: expression( (new Date()).getHours( )%2 ? “#B8D4FF” : “#F08A00” );</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }本章的主题就是“Avoid CSS Expressions”（避免使用 CSS expression ）。CSS expression 是 IE only，很适合用来做跨浏览器兼容，比如 IE 不支持的 min-width 属性：</p><p>P {</p><p>  width: expression( document.body.clientWidth&lt;600 ? “600px” : “auto” );</p><p>  min-width: 600px;</p><p>}</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }<br>那么 CSS expression 坏在哪里呢？在于它的计算次数过多（包括鼠标移动、滚动条位置改变、放大缩小窗口等待），并且可能锁死浏览器。本书有一个计算次数和锁死的官方示例：<a href="http://stevesouders.com/hpws/expression-counter.php" title="http://stevesouders.com/hpws/expression-counter.php" target="_blank" rel="noopener">http://stevesouders.com/hpws/expression-counter.php</a> 如何避免？事实上，本书认为每个需要用到 CSS expression 的地方都会有替代方法，本书给出了两种： 1、只计算一次的 expression （官方演示地址：<a href="http://stevesouders.com/hpws/onetime-expressions.php" title="http://stevesouders.com/hpws/onetime-expressions.php" target="_blank" rel="noopener">http://stevesouders.com/hpws/onetime-expressions.php</a>）</p><style>P {    background-color: expression( altBgcolor(this) );}</style><script type="text/javascript">function altBgcolor(elem) {    elem.style.backgroundColor = (new Date()).getHours( )%2 ? "#F08A00" : "#B8D4FF";}</script><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 2、Event Handler （官方示例： <a href="http://stevesouders.com/hpws/event-handler.php" title="http://stevesouders.com/hpws/event-handler.php" target="_blank" rel="noopener">http://stevesouders.com/hpws/event-handler.php</a> ）</p><p>function setMinWidth( ) {</p><pre><code>setCntr( );var aElements = document.getElementsByTagName(&quot;p&quot;);for ( var i = 0; i &lt; aElements.length; i++ ) {    aElements\[i\].runtimeStyle.width = ( document.body.clientWidth&lt;600 ?</code></pre><p>“600px” : “auto” );</p><pre><code>}</code></pre><p>}</p><p>if ( -1 != navigator.userAgent.indexOf(“MSIE”) ) {</p><pre><code>window.onresize = setMinWidth;</code></pre><p>}</p><p>以上代码使得每次窗口大小改变时，段落的宽度会自动调整。但是由于在第一次加载的时候不会初始化，需要和上一种方法配合使用。</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 用户体验 </tag>
            
            <tag> css expression </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 5 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule5.html"/>
      <url>/post/high-performance-web-sites-rule5.html</url>
      <content type="html"><![CDATA[<p>这章说的是将 CSS Sheet 以 <link> 标签的形式放到 <head> 和 </head> 之间。 提速指数： 略慢于将 CSS Sheet 放在末尾或者以 @import 的形式。 实际好处：在 IE 中，避免网页在加载过程中一直显示空白直到所有组件下载完毕，使访客感官上觉得更快。 起效时机：打开新窗口时、刷新页面时、浏览器加载首页时。 为什么 IE 会选择在另两种情况下让网页先白屏呢？原因是样式表会改变 components 的显示方式。当 CSS 文件全部下载完毕以后，浏览器要按其规定对网页上 components 进行形式重排。在此之前，如果贸然显示已下载的内容，访客就会目睹这个格式重排的过程。 IE 选择了不让访客看到此过程，Firefox 则恰恰相反。但无论访客能不能看到，这个问题都是前端工程师应该去避免的。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> CSS </tag>
            
            <tag> 网页空白 </tag>
            
            <tag> 页面空白 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 感评 </tag>
            
            <tag> CSS 入门 </tag>
            
            <tag> FOUC </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 4 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule4.html"/>
      <url>/post/high-performance-web-sites-rule4.html</url>
      <content type="html"><![CDATA[<p>前面三章说的都是直接提速，这一章说的是压缩网页内容从而间接提速。 提速指数： 压缩后传输内容缩小：70 %，在 900 Kbs （理论最大下载速度 112.5 KB/s）的带宽下加速 50% 多一些。 工作原理（下图）： <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image.png" alt="image" title="image"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image_3.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image_thumb_3.png" alt="image" title="image"></a> 值得压缩的对象（相较服务器 CPU 等资源开销而言）： 1、HTML 文档（ Apache 默认开启压缩 HTML）； 2、所有其它大于 1 ~ 2 Kb 的文件； 配置方法： 1、Apache 1.3 的 mod_gzip 模块（mod_gzip_on、mod_gzip_item_include、mod_gzip_item_exclude）; 2、Apache 2.x 的 mod_deflate 模块 （尽管叫做 mod_deflate ，它依然是用 gzip 的方法压缩的）； 注意事项： 1、Proxy Caching 支持 gzip 的浏览器通过代理服务器访问完网站后，再由一个不支持 gzip 的浏览器通过同一个代理服务器访问同一个网站，会发生什么情况？读者还可以自己想类似的问题，解决的办法是：<a href="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image_4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/e3eb31b9cb18_13C47/image_4.png" alt="image" title="image"></a> 这样代理服务器就会缓存两个版本，一个是 gzip 压缩的，一个不是。 2、Edge Cases 超过 90% 的浏览器宣称支持 gzip，然而早期的一些（例如未打补丁的 IE 6）是有 bug 的，这时如果通过代理获取到的 gzip cache 可能显示不正确。 这时有以下三种解决办法：(1) 如果访客较少并且浏览器可以规定 —— 直接使用“Vary: Accept-Encoding”的办法；(2) 如果网站的带宽紧张 —— 同前，节约带宽； (3) 如果有大量用户和余裕带宽并且追求高质量 —— 压缩并使用“Cache-Control: Private”，这将禁用代理但也避免了 Edge Cases 。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gzip </tag>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 压缩 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance JavaScript》读书笔记 Preface</title>
      <link href="/post/e3-80-8ahigh-performance-javascript-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-preface.html"/>
      <url>/post/e3-80-8ahigh-performance-javascript-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-preface.html</url>
      <content type="html"><![CDATA[<p>本文是《High Performance JavaScript》（中译名：高性能 JavaScript ）前言的读书笔记。 本书的主要作者是 <a href="http://www.nczonline.net/" target="_blank" rel="noopener">Nicholas C.Zakas</a>。 为什么需要提升 JavaScript 的性能呢？因为 JavaScript 需求的日益提升与浏览器的 JavaScript 引擎的效率提升不成正比（当然 Chrome 的 V8 JavaScript 引擎是自主开发并经过优化的，很多性能瓶颈都不存在，是 “blazingly fast”； 但 IE 就不是这样了。本书出版时间：2010年3月）。 为什么更改代码编写方式提升 JavaScript 的性能是可行的呢？因为 JavaScript 是解释执行而非编译执行，因此很多在编译过程中会根据代码的实际作用进行的优化过程没有了，代码完全按编写的方式执行。 随着 JavaScript 引擎的发展，这些问题或许将不再存在。但是， JavaScript 引擎能够优化的也只有与核心（ECMAScript）性能有关的部分，复杂的 JavaScript 脚本不可能完全通过 JavaScript 引擎的优化而得到性能的提升。而即便是这些与核心性能有关的问题的优化依然有待发展。 本书按照 JavaScript 一般的开发生命周期的顺序，按 JavaScript 的各个方面组织起来。本书的协作者是从整体上为 web 开发社区作出过重要贡献的 Stoyan Stefanov, Steven Levithan, Ross Harmes, Julien Lecomte 和 Matt Sweenry 。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 3 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule3.html"/>
      <url>/post/high-performance-web-sites-rule3.html</url>
      <content type="html"><![CDATA[<p> Rule 3 的主体是 Expires Header，也就是如何利用浏览器缓存来大幅提速。 提速指数：超过50% 原理：通过在 HTTP 头中设置浏览器缓存的过期时间来减少频繁访问者的加载时间，缓存的对象也是那些 component。（<a href="https://www.bokeyy.com/post/High-Performance-Web-Sites1.html" target="_blank" rel="noopener">何谓 component ？点此看之前的读书笔记</a>） 注意事项：<br>1、对于内容更新太快、或者访客不太可能每次访问都遇到同样的 component 的网站，本方法效果会打折扣；<br>2、先看看如下表格，如果觉得您的网站属于第一条的话：<br><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/rule3-1.jpg" alt="table3-2"> 方法：<br>1、Expires：即在 HTTP 头中指明具体失效的时间，如下图。<br><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/rule3-2.jpg" alt="table3-2"><br>2、Max-age：在 HTTP 头中按秒指定失效的时间，如下图。好处是不像方法 1 一样需要定时检查是否过期，一旦过期就需要指定新的时间，坏处是只有 HTTP/1.1 支持。<br><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/rule3-3.jpg" alt="table3-2"><br>3、方法 1 和 方法 2 都用,较好，如下图。<br><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/rule3-4.jpg" alt="table3-2"><br>4、用 PHP 在服务器端动态指定 Expires：  </p><p><filesmatch ".(gif|jpg|js|css)$"=""><br>ExpiresDefault “access plus 10 years”<br></filesmatch> 小技巧：最后，知道怎么防止文件更新了而用户端还在使用旧的缓存么？——引入文件名管理机制，意即：给每个 components 的文件名都加上版本号，这样更新的时候就会自动读取了！是不是既实现了缓存加速又没有负面效应呢？</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> Expires Header </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 浏览器缓存 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 2 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule2.html"/>
      <url>/post/high-performance-web-sites-rule2.html</url>
      <content type="html"><![CDATA[<p> Rule 2 讲的是 Content Delivery Network，也就是CDN。 加速指数：20% 左右，若用户分布的区域差别较大，提速会更明显。 原理：通过在全国各地设立网站的图片、脚本、CSS Sheet 等网页的 components 的镜像服务器从而大幅提速，使得各地的用户访问网站都很快。 方法：有专门提供 CDN 服务的公司，比如厦门网宿科技。大公司也可以用自己的 CDN 服务器。 注意事项：CDN 服务提供商通常是给所有用户共享带宽的，故而为了网站的访问速度不被其它用户所限制，注意不要选择具有流量巨大的客户的 CDN 服务提供商。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> CDN </tag>
            
            <tag> Content Delivery Network </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>原生 JS 实现的 quickSort 算法</title>
      <link href="/post/js-quick-sort.html"/>
      <url>/post/js-quick-sort.html</url>
      <content type="html"><![CDATA[<p>本文贴的是一个使用原生 JS 实现的 quickSort（快速排序） 算法。 用法：赋值一个 draggableTableData 以后，直接调用 quickResortData(from, to, callback)，draggableTableData 的内容就会按照 callback 排序。 第一次用 JS 实现算法，能改进的地方比较多吧！以后考虑好了~~</p><p>其中，“draggableTableData”是被排序的对象，格式为：</p><p>var draggableTableData = [{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 },</p><p>{ “id”: 1, “name”: “p”, “amount”: 1, “price”: 1 }</p><p>];</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>callback 比较函数，格式为：</p><p>function functionName(a, b){</p><pre><code>return a - b;</code></pre><p>}</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>from 是排序起始元素的 index ， to 就是排序结束元素的 index。</p><p>function makeFronterEqualsBacker(a, b) ，顾名思义，就是使得 a Object 和 b Object 的所有成员都相等。</p><pre><code>function quickResortData(from, to, callback) {    var i = from;    var j = to;    var keyPosition = from;    var key = { &quot;id&quot;: 1, &quot;name&quot;: &quot;p&quot;, &quot;amount&quot;: 1, &quot;price&quot;: 1 };    makeFronterEqualsBacker(key, draggableTableData\[keyPosition\]);    while (i != j) {        while (callback(draggableTableData\[j\], key) &gt;= 0 &amp;&amp; j &gt; keyPosition) {            j--;        }        makeFronterEqualsBacker(draggableTableData\[keyPosition\], draggableTableData\[j\]);        makeFronterEqualsBacker(draggableTableData\[j\], key);        keyPosition = j;        if (i &lt; j) {            while (callback(draggableTableData\[i\], key) &lt;= 0 &amp;&amp; i &lt; keyPosition) {                i++;            }            makeFronterEqualsBacker(draggableTableData\[keyPosition\], draggableTableData\[i\]);            makeFronterEqualsBacker(draggableTable\[i\], key);            keyPosition = i;        }    }    if (from &lt; keyPosition - 1) { quickResortData(from, keyPosition - 1, callback); }    if (keyPosition + 1 &lt; to) { quickResortData(keyPosition + 1, to, callback); }}function makeFronterEqualsBacker(a, b) {    for (i in a) {        //据说用 for in 的效率只有普通 for 的 1/7，但是……还是懒得写这么多代码了        a\[i\] = b\[i\];    }}有人做过测试，当排序对象大到一定程度了以后，quick Sort 算法会大于 Array.prototype.sort() ，原文参见 [http://www.jb51.net/article/6136.htm](http://www.jb51.net/article/6136.htm) 。未知本文的实现是否更快，没有实践过。</code></pre><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 加速 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> quick sort </tag>
            
            <tag> 原生JS </tag>
            
            <tag> 快速排序 </tag>
            
            <tag> 算法实现 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>原生JS实现表格行拖动及单击排序（兼容各浏览器）</title>
      <link href="/post/js-draggable-table.html"/>
      <url>/post/js-draggable-table.html</url>
      <content type="html"><![CDATA[<p><a href="https://www.bokeyy.com/wp-content/uploads/2012/04/js-draggable-quicksort-table-demo.html" title="原生JS实现拖动表格行、及表格列自动排序的方法（快速排序）DEMO" target="_blank" rel="noopener">DEMO</a> 支持拖动表格行第一列拖动表格行、支持单击表头排序、支持跨浏览器禁止选中文字（防止拖动时选中）。其中，排序算法为博主自行用原生 js 实现的快速排序算法。</p><h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><p>《Firefox禁止选择，屏蔽右键》<a href="http://www.opwer.com/showthread.asp?threadid=1726" target="_blank" rel="noopener">http://www.opwer.com/showthread.asp?threadid=1726</a>   ------------------以下为旧版的不完善的代码--------------------- <em>代码均经过测试，可以直接复制来使用（取消选择只支持IE）。在我写完这段代码最后一行的时候，猛然发现~如果将表格里面的内容存储为数组的话那么早就解决了……如果那样做的话，什么都是浮云……不过终归算一次尝试吧~~第一次写这么长的原生JS。</em> <em>本代码是直接用原生 JS 来操作 DOM 对象解决表格的拖拽问题。拖动表格的第一列可以将表格手动重排。bug在于拖拽的时候总是会选中表格中的文字。</em></p><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</a></p><html xmlns="http://www.w3.org/1999/xhtml"><br><br><head><br><br>    <title>draggableTable</title><br><br>    <style type="text/css"><br><br>        #draggableTable td<br><br>        {<br><br>            border: solid 1px gray;<br><br>        }<br><br>    </style><br><br></head><br><br><body><br><br>    <table id="draggableTable"><br><br>        <thead><br><br>            <tr><br><br>                <th><br><br>                    Heading<br><br>                </th><br><br>                <th><br><br>                    Another Heading<br><br>                </th><br><br>            </tr><br><br>        </thead><br><br>        <tbody><br><br>            <tr><br><br>                <td><br><br>                    row 1, cell 1<br><br>                </td><br><br>                <td><br><br>                    row 1, cell 2<br><br>                </td><br><br>            </tr><br><br>            <tr><br><br>                <td><br><br>                    row 2, cell 1<br><br>                </td><br><br>                <td><br><br>                    row 2, cell 2<br><br>                </td><br><br>            </tr><br><br>            <tr><br><br>                <td><br><br>                    row 3, cell 1<br><br>                </td><br><br>                <td><br><br>                    row 3, cell 2<br><br>                </td><br><br>            </tr><br><br>            <tr><br><br>                <td><br><br>                    row 4, cell 1<br><br>                </td><br><br>                <td><br><br>                    row 4, cell 2<br><br>                </td><br><br>            </tr><br><br>        </tbody><br><br>    </table><br><br>    <script type="text/javascript"><br><br>        window.onload = function() {<br><br>            //variables<br><br>            var draggableTable = document.getElementById(“draggableTable”);<br><br>            var draggingShowDiv = document.createElement(“div”);<br><br>            var currentMoveTr = null;<br><br>            //initation<br><br>            initDraggingShowDiv();<br><br>            bindMouseEvents();<br><br>            //bind functions<br><br>            function bindMouseEvents() {<br><br>                for (i = 0<br>; i &lt; draggableTable.rows.length; i++) {<br><br>                    draggableTable.rows[i].cells[0].onmousedown = function() {<br><br>                        mouseDownOnTd(this.parentNode);<br><br>                    };<br><br>                    draggableTable.rows[i].cells[0].onmousemove = function() {<br><br>                        mouseMoveOnTd(this.parentNode);<br><br>                    };<br><br>                    draggableTable.rows[i].cells[0].onmouseup = function() {<br><br>                        mouseUpOnTd(this.parentNode);<br><br>                    };<br><br>                    draggableTable.rows[i].cells[0].onmouseout = function() {<br><br>                        mouseOutTd(this.parentNode);<br><br>                    };<br><br>                    draggableTable.rows[i].cells[0].style.cursor = “pointer”;<br><br>                }<br><br>            }<br><br><br><br>            //dragging functions<br><br>            function mouseDownOnTd(Obj) {<br><br>                varCurrentMoveTr(Obj);<br><br>            }<br><br>            function mouseMoveOnTd(Obj) {<br><br>                if (isCurrentMoveTrExist()) {<br><br>                    turnBottomBorderRed(Obj);<br><br>                    showDraggingShowDiv();<br><br>                }<br><br>            }<br><br>            function mouseUpOnTd(Obj) {<br><br>                doMoveTr(Obj);<br><br>                clearCurrentMoveTr();<br><br>                hideDraggingShowDiv();<br><br>            }<br><br>            function mouseOutTd(Obj) {<br><br>                turnBottomBorderGray(Obj);<br><br>            }<br><br>            //justifying functions<br><br>            function isCurrentMoveTrExist() {<br><br>                return (currentMoveTr != null);<br><br>            }<br><br><br><br>            //var functions<br><br>            function varCurrentMoveTr(Obj) {<br><br>                currentMoveTr = Obj;<br><br>            }<br><br>            function clearCurrentMoveTr() {<br><br>                currentMoveTr = null;<br><br>            }<br><br><br><br>            //about draggingShowDiv<br><br>            function initDraggingShowDiv() {<br><br>                draggingShowDiv.style.position = “absolute”;<br><br>                draggingShowDiv.style.display = “none”;<br><br>                document.body.appendChild(draggingShowDiv);<br><br>            }<br><br>            function showDraggingShowDiv() {<br><br>                //draggingShowDiv.style.pixelTop = document.body.scrollTop + event.clientY + 10;<br><br>                //draggingShowDiv.style.pixelLeft = document.body.scrollLeft + event.clientX + 10;<br><br>                draggingShowDiv.innerHTML = ‘<table style="border:solid 1px gray;"><tr>‘ + currentMoveTr.innerHTML + ‘</table></tr>‘;<br><br>                draggingShowDiv.style.backgroundColor = “brown”;<br><br>                draggingShowDiv.style.display = “inline”;<br><br>            }<br><br>            function hideDraggingShowDiv() {<br><br>                draggingShowDiv.style.display = “none”;<br><br>            }<br><br>            //about the red postion indicator<br><br>            function turnBottomBorderRed(trObj) {<br><br>                for (i = 0; i &lt; trObj.cells.length; i++) {<br><br>                    trObj.cells[i].style.borderBottomColor = “red”;<br><br>                }<br><br>            }<br><br>            function turnBottomBorderGray(trObj) {<br><br>                for (i = 0; i &lt; trObj.cells.length; i++) {<br><br>                    trObj.cells[i].style.borderBottomColor = “gray”;<br><br>                }<br><br>            }<br><br>            //disable text selection<br><br>            // function disableTextSelection() {<br><br>            // document.body.setAttribute(“onselectstart”, “return false;”);<br><br>            // }<br><br>            // function enableTextSelection() {<br><br>            // document.body.removeAttribute(“onselectstart”);<br><br>            // }<br><br>            //do moving functions<br><br>            function doMoveTr(Obj) {<br><br>                if (isCurrentMoveTrExist()) {<br><br>                    var newTr = draggableTable.insertRow(returnTrIndex(Obj) + 1);<br><br>                    newTr.innerHTML = currentMoveTr.innerHTML;<br><br>                    draggableTable.deleteRow(returnTrIndex(currentMoveTr));<br><br>                    bindMouseEvents();<br><br>                }<br><br>            }<br><br><br><br>            //common lib<br><br>            function returnTrIndex(trObj) {<br><br>                for (i = 0; i &lt; draggableTable.rows.length; i++) {<br><br>                    if (draggableTable.rows[i] == trObj) {<br><br>                        return i;<br><br>                    }<br><br>                }<br><br>            }<br><br>        };<br><br>    </script><br><br></body><br><br></html>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> quick sort </tag>
            
            <tag> 原生javascript实现 </tag>
            
            <tag> 快速排序的原生js实现 </tag>
            
            <tag> 拖拽排序的表格 </tag>
            
            <tag> 表格 </tag>
            
            <tag> 跨浏览器禁止选中文字 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>用JQuery实现三级联动 Select 添加、删除、多选、预览功能</title>
      <link href="/post/jquery-third-level-select.html"/>
      <url>/post/jquery-third-level-select.html</url>
      <content type="html"><![CDATA[<p>由于 IE 不支持 option 的 click 和 mouseover 事件，本人改用 select 的 change 事件，这样造成了有时候不能预览的 bug 。 然后，在添加和删除的时候，我发现 select 简直是“添加”和“删除”功能呢的噩梦。 结论是：这种功能尽量不要用 select！替代品是 Div + UL 会好很多。</p><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</a></p><html xmlns="http://www.w3.org/1999/xhtml"><br><br><head><br><br>    <title>三级联动-多选-删除</title><br><br>    <script src="jquery-latest.min.js" type="text/javascript"></script><br><br>    <script type="text/javascript"><br><br>        var data = [{ “areaid”: 1, “typeid”: 1, “typeName”: “精装修” },<br><br>        { “areaid”: 1, “typeid”: 2, “typeName”: “立面” },<br><br>        { “areaid”: 1, “typeid”: 3, “typeName”: “产品线” },<br><br>        { “areaid”: 1, “typeid”: 4, “typeName”: “户型” },<br><br>        { “areaid”: 2, “typeid”: 1, “typeName”: “楼层户型” },<br><br>        { “areaid”: 2, “typeid”: 2, “typeName”: “立面” },<br><br>        { “areaid”: 3, “typeid”: 1, “typeName”: “独立户型” },<br><br>        { “areaid”: 3, “typeid”: 2, “typeName”: “核心筒” },<br><br>        { “areaid”: 4, “typeid”: 1, “typeName”: “精装修” },<br><br>        { “areaid”: 4, “typeid”: 2, “typeName”: “立面”}];<br><br>        var dataForTirdSelect = [{ “typeid”: 1, “itemid”: 1, “itemName”: “成果1” },<br><br>        { “typeid”: 1, “itemid”: 2, “itemName”: “成果2” },<br><br>        { “typeid”: 1, “itemid”: 3, “itemName”: “成果3” },<br><br>        { “typeid”: 1, “itemid”: 4, “itemName”: “成果4” },<br><br>        { “typeid”: 2, “itemid”: 1, “itemName”: “成果5” },<br><br>        { “typeid”: 2, “itemid”: 2, “itemName”: “成果6” },<br><br>        { “typeid”: 3, “itemid”: 1, “itemName”: “成果7” },<br><br>        { “typeid”: 3, “itemid”: 2, “itemName”: “成果8” },<br><br>        { “typeid”: 4, “itemid”: 1, “itemName”: “成果9” },<br><br>        { “typeid”: 4, “itemid”: 2, “itemName”: “成果10”}];<br><br>        $(document).ready(function() {<br><br>            var currentAreaId = 0;<br><br>            var currentTypeId = 0;<br><br>            var secondItemChooseContent = “”;<br><br>            var thirdItemChooseContent = “”;<br><br>            var countCurrentSelectItem = 0;<br><br>            $(“#firstItemChoose”).change(function() {<br><br>                currentAreaId = $(this).find(“option:selected”).attr(“areaid”);<br><br>                $(data).each(function() {<br><br>                    if (this.areaid == currentAreaId) {<br><br>                        secondItemChooseContent += ‘<option typeid="' \+ this.typeid + '">‘ + this.typeName + ‘</option>‘;<br><br>                    }<br><br>                });<br><br>                if (secondItemChooseContent != “”) {<br><br>                    $(“#secondItemChoose”).html(secondItemChooseContent);<br><br>                    $(“#secondItemChoose”).removeAttr(“disabled”);<br><br>secondItemChooseContent = “”;<br><br>                }<br><br>            });<br><br>            $(“#secondItemChoose”).change(function() {<br><br>                currentTypeId = $(this).find(“option:selected”).attr(“typeid”);<br><br>                $(dataForTirdSelect).each(function() {<br><br>                    if (this.typeid == currentTypeId) {<br><br>                        thirdItemChooseContent += ‘<option typeid="' \+ this.itemid + '">‘ + this.itemName + ‘</option>‘;<br><br>                    }<br><br>                });<br><br>                if (thirdItemChooseContent != “”) {<br><br>                    $(“#thirdItemChoose”).html(thirdItemChooseContent);<br><br>                    $(“#thirdItemChoose”).removeAttr(“disabled”);<br><br>                    //                    $(“#thirdItemChoose option”).mouseover(function() {<br><br>                    //                        //获取详细说明 JSON 并显示在相应的 Div 上，预览之<br><br>                    //                        previewClickedItem($(this));<br><br>                    //                    });<br><br>                    thirdItemChooseContent = “”;<br><br>                }<br><br>            });<br><br>            $(“#thirdItemChoose”).change(function() {<br><br>                if ($(“#thirdItemChoose”).find(“option:selected”).length &gt; 0) {<br><br>                    previewClickedItem($(thirdItemChoose.options[thirdItemChoose.selectedIndex]));<br><br>                }<br><br>            });<br><br>            $(“#selectedItems”).change(function() {<br><br>                if ($(“#selectedItems”).find(“option:selected”).length &gt; 0) {<br><br>                    previewClickedItem($(selectedItems.options[selectedItems.selectedIndex]));<br><br>                }<br><br>            });<br><br>            $(“#delChosenItems”).click(function() {<br><br>                $(“#selectedItems”).find(“option:selected”).each(function() {<br><br>                    $(this).remove();<br><br>                    //还要恢复相应选项<br><br>                });<br><br>            });<br><br>            function previewClickedItem(optionObj) {<br><br>                $(“#previewItemPannel”).text(“预览” + optionObj.text());<br><br>            }<br><br>            $(“#addItemBtn”).click(function() {<br><br>                var selectedItems = $(“#thirdItemChoose”).find(“option:selected”);<br><br>                var selectedItemsList = $(“#selectedItems”);<br><br>                if (selectedItems.length &gt; 0) {<br><br>                    if (countCurrentSelectItem == 0) {<br><br>                        selectedItemsList.html(“”);<br><br>                    }<br><br>                    selectedItems.each(function() {<br><br>                        selectedItemsList.append(‘&lt;option itemid=”‘ + $(this).attr(“itemid”) + ‘“&gt;’ + $(this).html() + ‘</option>‘);<br><br>                        $(this).remove();<br><br>                        //还要记录下次也不要出现<br><br>                        countCurrentSelectItem += 1;<br><br>                    });<br><br>                    selectedItemsList.removeAttr(“disabled”);<br><br>                }<br><br>            });<br><br>        });<br><br>    </script><br><br></head><br><br><body><br><br>    <div class="ItemChosen"><br><br>        <select size="10" id="firstItemChoose"><br><br>            <option areaid="1">集团</option><br><br>            <option areaid="2">北京区域</option><br><br>            <option areaid="3">深圳区域</option><br><br>            <option areaid="4">深圳一线</option><br><br>        </select><br><br>        &gt;&gt;<br><br>        <select size="10" id="secondItemChoose" disabled="disabled"><br><br>            <option>请先点击左侧选择区域</option><br><br>        </select><br><br>        &gt;&gt;<br><br>        <select size="10" id="thirdItemChoose" disabled="disabled" multiple="multiple"><br><br>            <option>请先点击左侧选择分类</option><br><br>        </select><br><br>        <input value=">>" type="button" id="addItemBtn"><br><br>        <select size="10" id="selectedItems" disabled="disabled" multiple="multiple"><br><br>            <option>暂无</option><br><br>        </select><br><br>        <input value="删除" type="button" id="delChosenItems"><br><br>    </div><br><br>    <div id="previewItemPannel" style="height: 200px;"><br><br>    </div><br><br>    <div class="controlBar"><br><br>        <input value="确定" type="button" id="chooseItemConfirmBtn"><br><br>        <input value="关闭" type="button" id="cancelBtn"><br><br>    </div><br><br></body><br><br></html><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
            <tag> select </tag>
            
            <tag> 三级联动 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Rocket Surgery Made Easy》预览版读书笔记</title>
      <link href="/post/rocket-surgery-made-easy0.html"/>
      <url>/post/rocket-surgery-made-easy0.html</url>
      <content type="html"><![CDATA[<p>本书是《Don’t make me think》的作者 <a href="http://www.sensible.com/" target="_blank" rel="noopener">Steve Krug</a> 继《Don’t make me think》（<a href="https://www.bokeyy.com/view.asp?id=41" target="_blank" rel="noopener">点此阅读读书笔记</a>）出版九年之后出的扩展书籍。书的内容是关于如何进行简易的打折的可用性测试。本书的预览版可以从<a href="http://www.sensible.com/" target="_blank" rel="noopener">Steve Krug</a> 的首页<a href="http://www.sensible.com/rocketsurgery/RSME%20sample%20chapter.pdf" target="_blank" rel="noopener">下载</a>到。 本书也想写成一本小册子。如果依然想在长途飞机上读完本书，推荐到 <a href="http://www.rocketsurgerymadeeasy.com" target="_blank" rel="noopener">www.rocketsurgerymadeeasy.com</a> 下载相应的演示视频。 《Rocket Surgery Made Easy》预览版 PDF 其实是本书的介绍，内容概要如下：</p><ol><li>不全面：不是全面而细致的各种方法都有的面面俱到的可用性测试大全；</li><li>解决问题：除了找到可用性问题，还包含解决问题的内容；</li><li>不严格：本书不适用于弄不清楚菜单可能会危及人身安全的场合，只是打折扣的改善方法；</li><li>不唯一：本书提供的方法不唯一正确；</li></ol><p>一句话概括之，本书阐述的是随处可行的、打折的、简便的、廉价的、不需要聘请专家的、大众化的可用性测试。</p>]]></content>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> UI </tag>
            
            <tag> Don&#39;t Make Me Think </tag>
            
            <tag> UIE </tag>
            
            <tag> 可用性 </tag>
            
            <tag> Rocket Surgery Made Easy </tag>
            
            <tag> 可用性测试 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Rule 1 读书笔记</title>
      <link href="/post/high-performance-web-sites-rule1.html"/>
      <url>/post/high-performance-web-sites-rule1.html</url>
      <content type="html"><![CDATA[<p>Rule 1 也就是 Chapter 1，说的是 Make Fewer HTTP Request（减少 HTTP 请求）。 会造成 HTTP 请求的有图片、CSS 和 JS 文件等。本章提供了四种不影响效果而减少 HTTP 请求的办法：Image Maps、CSS Sprites、Inline Images 和 Combined Script and StyleSheets。其中，据《Even Faster Web Sites》前言所述，自本书 2007 出版至 2009 年，越来越多的网站运用了第二、第四种方法。 Image Maps 是很直观的减少 HTTP 请求的办法。即将多个图片合并为一个，使用图片热点来做链接，适合于导航图标等。多个 HTTP 请求削减为一个，当然网页加载时间大减了。提速指数：56%（应该是单单图片的加载速度）。 CSS Sprites其实就是把网页中一些背景图片整合到一张图片文件中，再利用CSS的“background-image”，“background- repeat”，“background-position”的组合进行背景定位，background-position可以用数字能精确的定位出背景图片的位置。书中的示例代码：</p><style>#navbar span {  width:31px;  height:31px;  display:inline;  float:left;  background-image:url(/images/spritebg.gif);}.home     { background-position:0 0; margin-right:4px; margin-left: 4px;}.gifts    { background-position:-32px 0; margin-right:4px;}.cart     { background-position:-64px 0; margin-right:4px;}.settings { background-position:-96px 0; margin-right:4px;}.help     { background-position:-128px 0; margin-right:0px;}</style>&lt;div id=”navbar” style=”background-color: #F4F5EB; border: 2px ridge #333; width:&gt;<br><br>180px; height: 32px; padding: 4px 0 4px 0;”<br><br>  <a href="javascript:alert('Home')" target="_blank" rel="noopener"><span class="home"></span></a><br><br>  <a href="javascript:alert('Gifts')" target="_blank" rel="noopener"><span class="gifts"></span></a><br><br>  <a href="javascript:alert('Cart')" target="_blank" rel="noopener"><span class="cart"></span></a><br><br>  <a href="javascript:alert('Settings')" target="_blank" rel="noopener"><span class="settings"></span></a><br><br>  <a href="javascript:alert('Help')" target="_blank" rel="noopener"><span class="help"></span></a><br><br><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }它的缺点在于合并图片时的复杂性和维护修改时的麻烦，可参考<a href="http://baike.baidu.com/view/2173476.htm" target="_blank" rel="noopener">百度百科</a>。CSS Sprites 相对于使用 <img> 标签的提速指数：56%。   Inline Images 就是通过 data: 而不是 http: 来写 img 标签的 src 属性，从而实质上将图片“嵌入”</p><p>到网页中，一同加载。它有两个致命的缺点：1、IE 7及以下不支持；2、可能遇到浏览器（如 FireFox 1.5 ）有严格的大小限制。</p><p>&lt;IMG ALT=”Red Star”</p><p>SRC=”data:image/gif;base64,R0lGODlhDAAMALMLAPN8ffBiYvWW&gt;</p><p>lvrKy/FvcPewsO9VVfajo+w6O/zl5estLv/8/AAAAAAAAAAAAAAAACH5BAEA</p><p>AAsALAAAAAAMAAwAAAQzcElZyryTEHyTUgknHd9xGV+qKsYirKkwDYiKDBia</p><p>tt2H1KBLQRFIJAIKywRgmhwAIlEEADs=”</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>书中总是以雅虎等网站为例子。不过我查看了 cn.yahoo.com 和 amazon.com，并没有看到任何“data:”的存在。   Combined Script and StyleSheets，顾名思义，就是减少 JS 和 CSS 包含文件的数目。这和好的编程习惯是相违背的，关于 JavaScript 的合并方法在 Chapter 10 介绍。而关于 CSS 文件的管理方法，本人记得《CSS Mastery》已有结论（<a href="https://www.bokeyy.com/post/36.html" target="_blank" rel="noopener">点此查看读书笔记</a>）。 最后，推荐一下 <a href="http://stevesouders.com/" target="_blank" rel="noopener">Steve Sounders 的官方网站</a>。在那里可以发现《High Performance Web Sites》的进阶版《Even Faster Web Sites》。两书都已经有中文译本。单从 Amazon.com 的预览来看，后者更偏重于 JavaScript，并有包括 JQuery 创始人在内的许多作者共同阐述如何“Even Faster”。或许后者更能应用到 JavaScript 前端开发</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 网页 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> 精辟好句 </tag>
            
            <tag> 应用 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>用一幅图说明什么是树状数组</title>
      <link href="/post/what-is-a-tree-array.html"/>
      <url>/post/what-is-a-tree-array.html</url>
      <content type="html"><![CDATA[<p>如下图，本图片来自百度文库《<a href="http://wenku.baidu.com/view/3f9579c689eb172ded63b7c4.html" target="_blank" rel="noopener">树状数组及其应用</a>》。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/5/treearray.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/treearray.jpg" alt="" title="用一幅图说明什么是树状数组"></a></p>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 快速了解 </tag>
            
            <tag> 应用 </tag>
            
            <tag> 树状数组 </tag>
            
            <tag> 简要说明 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Clean Code》读书笔记（三）——Comments</title>
      <link href="/post/clean-code-3.html"/>
      <url>/post/clean-code-3.html</url>
      <content type="html"><![CDATA[<p>本章宗旨：Don’t comment on bad code, rewrite it. （不要给坏代码写注释，重写它） 注释是使代码变得易读易懂的好习惯。本章作者将视角扩大到注释产生之后的十年的时间数量级内，逐条评判什么是 bad comment 什么不是。事实上，作者在本章更想表达的观点是，注释往往是误导人的，注释的作用往往是比不上符合 clean code （也就是“代码整洁之道”）标准的程序代码本身的。 本章开篇不久就一针见血：“The older the comment is, and the farther away it is from the code it describes”（越久远的注释越可能是误导人的）、“Comments Do Not Make Up for Bad Code”（注释不能弥补难懂的代码，更不能成为编写劣质代码的理由）。除非，注释是以下的情况：1、版权等法律信息；2、提供信息的；3、意图解释；4、给奇怪的参数和返回值的说明，如果只能写得这么奇怪的话（若是写错就起反作用了）；5、警告后果；6、要做的事情；7、强调；8、公共 API 的 Javadocs。 接下来详细列举不好的注释。 1）喃喃自语——使读者迷惑；</p><p>public void loadProperties()<br>{<br>    try<br>    {<br>      String propertiesPath = propertiesLocation + “/“ + PROPERTIES_FILE;<br>      FileInputStream propertiesStream = new FileInputStream(propertiesPath);<br>      loadedProperties.load(propertiesStream);<br>    }<br>    catch(IOException e)<br>    {<br>       <strong>// No properties files means all defaults are loaded</strong><br>    }<br>}</p><p>2）冗余说明——<strong>可有可无</strong>，有时还使人<em>迷失在注释里找不到代码</em></p><p><strong>// Utility method that returns when this.closed is true. Throws an exception<br>// if the timeout is reached.</strong><br>public synchronized void waitForClose(final long timeoutMillis)<br>  throws Exception<br>  {<br>    if(!closed)<br>      {<br>        wait(timeoutMillis);<br>        if(!closed)<br>          throw new Exception(“MockResponseSender could not be closed”);<br>        }<br>      }</p><p>public abstract class ContainerBase<br>  implements Container, Lifecycle, Pipeline,<br>  MBeanRegistration, Serializable {<br><em>/**<br>   * The processor delay for this component.<br>*/</em><br>  protected int backgroundProcessorDelay = -1;<br><em>/**<br>   * The lifecycle event support for this component.<br>*/</em><br>  protected LifecycleSupport lifecycle =<br>    new LifecycleSupport(this);<br><em>/**<br>   * The container event listeners for this Container.<br>*/</em><br>  protected ArrayList listeners = new ArrayList();<br><em>/**<br>   * The Loader implementation with which this Container is<br>   * associated.<br>*/</em><br>  protected Loader loader = null;<br><em>/**<br>   * The Logger implementation with which this Container is<br>   * associated.<br>*/</em><br>  protected Log logger = null;<br><em>/**<br>   * Associated logger name.<br>*/</em><br>  protected String logName = null</p><p>3）误导人的——都知道有什么坏处 不过文中举出了个咋一看很不显著的例子，试图告诉我们这种注释和代码不一致的情况在不经意间就产生了，也就是紧接“2）冗余说明”下的第一段代码。 4）mandated —— 非要给每个变量都加注释 5）像杂志的 —— 每个人想起来就加一行的注释</p><p>//现在 SVN 已能很好的管理版本，所以如下注释无任何意义<br>/**<br>* Changes (from 11-Oct-2001)<br>-------------------------- *<br> * 11-Oct-2001 : Re-organised the class and moved it to new package<br> *               com.jrefinery.date (DG);<br> * 05-Nov-2001 : Added a getDescription() method, and eliminated NotableDate<br> *               class (DG);<br> * 12-Nov-2001 : IBD requires setDescription() method, now that NotableDate<br> *               class is gone (DG);  Changed getPreviousDayOfWeek(),<br> *               getFollowingDayOfWeek() and getNearestDayOfWeek() to correct<br> *               bugs (DG);<br> * 05-Dec-2001 : Fixed bug in SpreadsheetDate class (DG);<br> * 29-May-2002 : Moved the month constants into a separate interface<br> *               (MonthConstants) (DG);<br> * 27-Aug-2002 : Fixed bug in addMonths() method, thanks to N???levka Petr (DG);<br> * 03-Oct-2002 : Fixed errors reported by Checkstyle (DG);<br> * 13-Mar-2003 : Implemented Serializable (DG);<br> * 29-May-2003 : Fixed bug in addMonths method (DG);<br> * 04-Sep-2003 : Implemented Comparable.  Updated the isInRange javadocs (DG);<br> * 05-Jan-2005 : Fixed bug in addYears() method (1096282) (DG);<br>**/</p><p>6）像噪音的 —— 其结果就是让人直接略过所有注释</p>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> clean code </tag>
            
            <tag> 代码整洁之道 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> Comments </tag>
            
            <tag> 心得 </tag>
            
            <tag> 注释 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 精辟好句 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《High Performance Web Sites》之 Chapter A &amp; B 读书笔记</title>
      <link href="/post/high-performance-web-sites1.html"/>
      <url>/post/high-performance-web-sites1.html</url>
      <content type="html"><![CDATA[<p>《High Performance Web Sites》是我在借阅《Clean Code》时偶遇的一本小书。看见此书只觉得十分喜欢，就借了来。它同《Don’t Make Me Think》一样的薄，一样的是由各种 Tips 组成。 《High Performance Web Sites》通过数据和图表证明 —— 80 - 90% 的网页加载时间都卡在前端上面。要优化网站速度，最有效最省力的方法，自然是从前端下手。该书试图从 HTTP 的角度，给出好多优化网站加载速度的点子，不一定每一条都适合每个网站，但是总有几条能给每个网站带来巨大的收益。 这几天略翻了引言部分的 Chapter A 和 Chapter B。 Chapter A 用调查图表总结了前端表现的重要性。总结成一句话，就是 “用户终端响应时间只有 10-20% 花在下载HTML文档上，其余 80-90% 都花在下载页面的组件上”。这里的“组件”包括图片等。 Chapter B 概要介绍了 HTTP 协议的相关内容。主要介绍了各种 GET 请求和响应的 headers。 <img src="https://www.bokeyy.com/wp-content/uploads/2011/5/Screenshot1.png" alt="ordinary GET requests and responses"> 首先是一般的 GET 请求和回应的 Headers，如上图所示。向右的箭头是请求，下同。 <img src="https://www.bokeyy.com/wp-content/uploads/2011/5/Screenshot2.png" alt="Compression GET requests and responses"> 为了节约浏览和时间，可以压缩后传输。上图所示就是压缩传输的请求和回应的 Headers。压缩传输的概念在《CSS Mastery》里面（<a href="https://www.bokeyy.com/post/tag/css-mastery" target="_blank" rel="noopener">读书笔记</a>）也有提到。传输的内容是否压缩的信息就包含在如图所示的 HTTP 头里面。 <img src="https://www.bokeyy.com/wp-content/uploads/2011/5/Screenshot3.png" alt="Conditional Get Requests and Responses"> 上图所示是一种有条件的 GET 请求及其回应的 Headers。浏览器在加载图片的时候往往会这样请求。其中， If-Modified-since 后面的内容是向服务器确认浏览器缓存中的内容是否过时。如果不过时，返回的就是如上图所示的 304 Not Modified。 <img src="https://www.bokeyy.com/wp-content/uploads/2011/5/Screenshot4.png" alt="Conditional GET responses when expires"> 同样，如果过时，返回的就是如上图的 200 OK。 <img src="https://www.bokeyy.com/wp-content/uploads/2011/5/Screenshot5.png" alt="Keep-alive"> 另外，HTTP 的早期实现是，每遇到一个 HTTP 请求就打开一个新的 socket 连接。而 HTTP 的很多请求都是在同一个服务器上的，因此这样比较低效。这时改进的方法是，如上图，向服务器请求时使用 keep-alive 的 Connection header。不需要时发送 Connection: close header。 理论上，HTTP/1.1 是不需要发送上图所示的 keep-alive 信息的，但是很多浏览器依然要求（本书影印版出版日期 2008 年 5 月）。 最后，Chapter B 推荐了进一步了解 HTTP 协议的读物，分别为 HTTP specification (<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html" target="_blank" rel="noopener">http://www.w3.org/Protocols/rfc2616/rfc2616.html</a>)，还有 David Gourley 和 Brian Totty 的 HTTP: The Definitive Guide (O’Reilly; <a href="http://www.oreilly.com/catalog/httptdg" target="_blank" rel="noopener">http://www.oreilly.com/catalog/httptdg</a>)。</p>]]></content>
      
      <categories>
          
          <category> High Performance Web Sites </category>
          
      </categories>
      
      
        <tags>
            
            <tag> High Performance Web Sites </tag>
            
            <tag> 前端工程师技能精髓 </tag>
            
            <tag> 加速 </tag>
            
            <tag> 高性能网站建设指南 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 心得 </tag>
            
            <tag> web设计 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[原创攻略]古剑奇谭全员最高30级刷侠义榜55级风炎和炎虎</title>
      <link href="/post/gujianqitan-gonglve1.html"/>
      <url>/post/gujianqitan-gonglve1.html</url>
      <content type="html"><![CDATA[<p>【本文首发于上海烛龙官方论坛：<a href="http://aurogon.bbs.gamebar.com/viewthread.php?tid=64696" target="_blank" rel="noopener">http://aurogon.bbs.gamebar.com/viewthread.php?tid=64696</a> 】 博客写些轻松的吧！前段时间玩古剑奇谭三周目，刷完秦始皇陵的时候，全员最高只有三十级。这时侠义榜上出现了四个 DLC 新增的 55 级的任务怪，其中两个是风炎和炎虎。本人当时心里嘀咕，烛龙这么早就把任务放出来，莫非—— 果真，经过了几番试验之后，成功打败了风炎和炎虎两个怪。现总结经验如下，本文首发于<a href="http://aurogon.bbs.gamebar.com" target="_blank" rel="noopener">上海烛龙官方论坛</a>。 成功的关键点在于——五行属性。风炎和炎虎都是火属性和物理属性攻击（后者不至于秒人）。因此只要调节前排队员的土属性高于金属性，打败对方就是易如反掌，因为——对方的法术是给我方加血的。</p><h2 id="详细打法"><a href="#详细打法" class="headerlink" title="详细打法"></a>详细打法</h2><p>接下来说打法。打风炎最给力的几个技能列表如下：</p><ol><li>苏苏的组合技“玄天炽炎”   一次5000 +；</li><li>苏苏的其它火系法术也较为可观，一次至少有 1500 +；</li><li>苏苏的“焚寂血戮”，在血量低于100时    一次 6500 +；</li><li>任何水系法术，其中晴雪和兰生的“冰封术”两次可以打　4000 +；</li><li>至于物理攻击，虽然是三周目拿了家园武器，但是只有我方打出暴击才会比较可观（所以大叔可以选择砍两次，出暴击的可能性大）；</li><li>所以大叔除了爆击能砍一下打600+，共两下 1200+，其它时候只是帮忙磕药的作用。</li></ol><p>综上，容易得出选苏苏、晴雪和大叔上阵的结论。 苏苏和大叔是本身土高于金，被火系技能打是加血的。而另外一个队员如果要有稳定的输出，当然是选择水系的晴雪或者兰生。晴雪敏高，选晴雪。 晴雪的缺点在于法术攻击不如兰生高，用一个摇山水镜提高她的水灵力。晴雪的另一个缺点是天生金比土高，用一个“忘川虚沙”饰品来调节。 由于火系法术打风炎很疼，因此给苏苏戴了一个大幅提升火属性灵力的“若木火实”。此外苏苏的两个技能都耗气，给他戴了一个+60气的牛皮板带。 接下来就是开战了。 如果风炎放全体火法术，则所有队员血满，无压力；若是单体物理攻击，只要不是暴击，苏苏和大叔都能挺住，而且不用补血——因为风炎放群火的概率很高，一下就全员补满了。 晴雪会被秒，怎么办呢？前面有提到大叔最大的用处就是——专门给倒地的晴雪吃“七返灵砂”或者“凤穿牡丹”，复活她。 而苏苏如果血量低就放“焚寂血戮”，血量高就放“玄天炽炎”。 这样只要ＲＰ没差到风炎连续多次物理攻击，而我方都没有补血的程度，都可以轻松的干掉风炎。 为了保险，可以烹饪几个全员满血满神的“叫化鸡”备用。 打炎虎也是类似的。 炎虎的共同点在于：也是一个火系群法和一个物理单体攻击，也是只有晴雪会被单体物理攻击秒到。 炎虎的区别在于：任何法术打，都不是很疼。 炎虎是直接菜刀砍死的。其中，晴雪给它上“砾玉流金”降防敏。防敏降低了以后，大叔和苏苏普攻很容易砍出暴击，一次输出就有　1300 - 3000　之间。就这样持续砍，晴雪倒地了就用“七返灵砂”和“凤穿牡丹”救回来，等待炎虎的群法给她加满血。晴雪的“砾玉流金”只有两个行动点，另外两 个行动点可以用冰封术，一次　200 - 300。虽然少了点，也比她镰刀暴击一次 1 血强。 这个方法很重要的一点是尽量保证最多只有1个队员倒地，这样才能保证前排队员之间相互磕药，不至于全挂。 两个怪打完都是 18000+ 的经验，打完全员升级。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>与风炎和炎虎一起，同时放出的 55 级怪还有无目和地狼。本人依然不晓得有什么低等级打败无目的方法，不过已经发现地狼是地属性的。只要我方前排金比水高，就是加血的。地狼的速度比较快而且普攻频率高，似乎不适合 30 级去打。 然而，打了几次风炎和炎虎以后，苏苏已经升到了 47 级，正好把后排的红玉、襄铃和兰生换到前面来，平衡练级。 打的时候兰生放“摘叶飞花”两次，襄铃放“松风…（忘记名字了，木系单体法术）”，红玉放雷系法术，很快就死了。 这样可以把后排的队员等级练高，平衡全队等级。 这三个怪就是烛龙给大家练级用的吧！？？！30级快速升50级用的，对不对？！ 不得不提的是，彼岸浮灯篇 DLC 给出的侠义榜 50 级的大棕熊，用红玉的组合技“雷霆惊梦”完成最后一击，送了我 100000+ 文钱 :-)</p><h2 id="配图"><a href="#配图" class="headerlink" title="配图"></a>配图</h2><p>下图是本人当时的前排三人组的装备图 <img src="https://www.bokeyy.com/wp-content/uploads/2011/4/ss.jpg" alt="苏苏的装备图"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/qx.jpg" alt="晴雪的装备图"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/ds.jpg" alt="大叔的装备图"></p>]]></content>
      
      <categories>
          
          <category> 古剑奇谭 </category>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 古剑奇谭 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 心得 </tag>
            
            <tag> 攻略 </tag>
            
            <tag> 回顾 </tag>
            
            <tag> 快速刷级 </tag>
            
            <tag> 快速升到50级 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[收藏]What Beautiful HTML Looks Like</title>
      <link href="/post/zz-what-beautiful-html-looks-like.html"/>
      <url>/post/zz-what-beautiful-html-looks-like.html</url>
      <content type="html"><![CDATA[<p>[本图片来源于：<a href="http://www.webrebuilder.org" target="_blank" rel="noopener">www.webrebuilder.org</a> ]</p><p>我觉得本图片画出了《CSS Mastery》第一章（<a href="https://www.bokeyy.com/post/38.html" target="_blank" rel="noopener">点此阅读读书笔记</a>）所要表达的全部意图。用一张图，一句话（beautiful HTML）将CSS布局和SEO友好的布局阐述得淋漓尽致。故收藏此图于此。</p><p>网络上有此图的中文翻译版，敬请 Google “What Beautiful HTML Looks Like”。</p><p>下图就是“What Beautiful HTML Looks Like”的英文原版：</p><p><img src="https://www.bokeyy.com/wp-content/uploads/2011/5/8109519b93b197e0750874eab477a5c6.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 网页 </tag>
            
            <tag> CSS Mastery </tag>
            
            <tag> CSS 入门 </tag>
            
            <tag> CSS 布局 </tag>
            
            <tag> CSS Selector </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JQuery的fadeOut延迟导致浮动提示框若隐若现</title>
      <link href="/post/jquery-fadeout-delay-problem.html"/>
      <url>/post/jquery-fadeout-delay-problem.html</url>
      <content type="html"><![CDATA[<p>使用 JQuery 控制一个浮动提示层，当鼠标放到相应文字上的时候，JQuery就自动读取相应的JSON信息，并把该文字的详细说明在该层显示出来。 由于同一页面上有多个类似的文字，本人只建立了一个层，赋予一个ID。让它根据鼠标所在的文字的不同，自动读取不同的信息，并显示在相应文字的位置上。而当鼠标移开，浮动层自动消失。众所周知，直接 .css(“display”, “inline”) 或者 .show 的效果是很突兀的。突然出现和突然消失的层很不美观。于是出现的代码改为 .fadeIn() 淡入，消失的代码则是 .fadeOut  淡出。 这时新的问题出现了，浮动层变得若隐若现，有的时候出现而有的时候不会。 学到的原因是：fadeOut 需要时间，有些时候鼠标在层还没有 fadeOut() 完成的时候就放在了另一段文字上面，这时 JQuery 就不会触发 fadeIn() 事件 学到的解决办法如下：把 fadeOut() 改成 fadeOut(500)，既好看，淡出时间又不太长。如果文字之间的距离确实太紧密，可能就需要每次都新建立一个层，才不会导致冲突。</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 程序员 </tag>
            
            <tag> JS </tag>
            
            <tag> JQuery </tag>
            
            <tag> fadeOut </tag>
            
            <tag> 浮动框 </tag>
            
            <tag> 若隐若现 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Clean Code》读书笔记（二）——Functions</title>
      <link href="/post/clean-code-2.html"/>
      <url>/post/clean-code-2.html</url>
      <content type="html"><![CDATA[<pre><code>《Clean Code》的中文译名是《代码整洁之道》，属于 [CnBeta](http://www.cnbeta.com) 不久前推荐的程序员必读 11 书之一。适合有一定工作经验的程序员阅读和提升代码质量。书中认为代码的质量的根源还是来自于一种“代码感”。书中会极力用作者及其友人几十年从业经验来阐述何谓“Clean Code”，但是本书仍然无法教会那种“代码感”。         本文是书中第三章的读书笔记，名为“ Functions ”，讲述函数编程中的“代码整洁之道”。         本章最重要的一句话应该是：“FUNCTIONS SHOULD DO ONE THING. THEY SHOULD DO IT WELL. THEY SHOULD DO IT ONLY.”（函数应该做一件事。它们要做好那件事。它们只能做那一件事。）         也就是说，“整洁”的函数代码应该要有一种自明性。这种自明性不来自于注释，而来于使用者看到函数的那几秒钟，能做出瞬间的正确判断。这种瞬间判断不必借助于注释，不必寻找函数的本体，不会引起明显的误会，不会带来多义的困惑。不管是函数本体还是调用，最好只要是个人，看见语句那一瞬，就猜到其作用和参数顺序，而且基本不会猜错。         如何做好这种自明性呢？书中将宝贵的经验如数家珍，列举出来。</code></pre><ol><li>小！<br>要多小呢？2-4行；</li><li>blocks and identing<br>何意？If、else、While 包含的代码块中只能有一行；</li><li>只做一件事<br>函数应该做一件事。它们要做好那件事。它们只能做那一件事。</li><li>同等抽象程度<br>函数中不能细节和抽象混淆，就像 .append(“\n”) 和 getHTML()；</li><li>Switch 语句<br>这是一个必然导致多行、重复等各种问题的语句，处理办法：放入 abstract factory （设计模式的一种）；</li><li>描述性命名<br>函数的名字是函数功能的描述，可以很长，可以不停改，但同一个意义的用词要一致，参见上一章“meaningful names”；</li><li>参数个数<br>最好没有，次好一个，再次两个，避免三个，别用更多；</li><li>通用单参数形式<br>避免这两种形式的其它单参数函数的出现，这两种形式是：1)回答问题 boolean fileExists(“myFile”); 2)转化传入值并返回 InputStream fileOpen(“myFile”)；</li><li>Flag参数<br>就是类似这样 render(boolean isNumber)。如 isNumber 为 true ，做一件事。为 false ，做另一件事。这违反了“只做一件事”；</li><li>双参数<br>两个参数最好一一对应，缺一不可，前后次序可以预知。比如点的坐标 setPoint(x, y)</li><li>三参数<br>只推荐了一种三参数情况 assertEquals(1.0, amount, 0.01)，因为可以给用户一个提醒：“浮点数的相等与精确性有关”；</li><li>减少参数的方法<br>将有关联的组合成类；</li><li>提示参数顺序的方法<br>在函数名字中暗示</li><li>无副作用<br>比如 checkPassword() 里就不要包含 Session.initialize() ，不然被误调用的话，用户的 session 就被清空了；</li><li>输出参数<br>不要传参然后又改变参数的值，用 参数.方法() 的形式；</li><li>答问和命令分开<br>也就是用 if( attributeExists(“username”) ) 替代 if( set(“username”, “unclebob”) ) ，后者比前者更迷惑人；</li><li>用异常代替错误代码<br>当错误代码的 enum 变更时，维护十分繁琐，而且要出错立即处理，错误处理就和主体代码混杂一起。而如果采用 Exception 则符合“只做一件事”的原则，同时免除前述的所有麻烦；</li><li>不要自我重复<br>比如三个函数分别对应：任务加载、工作加载和计划加载，三者都 .append(data[x].name).append(data[x].time)，这时要设法将重复的这些 .append 写成函数；</li><li>结构化编程<br>函数代码较短时，偶尔用多个 renturn, break 或 continue 语句亦可，goto则要避免（话说现在还有人用 goto 么？）；</li><li><p><strong>如何做到上述标准——<br>先调试好一个正确运行的代码，然后边调试边重构。</strong></p><p>  本文完结。其实 Functions 这一章中，很多和 meaningful names 一章是重复的，比如第 3、9、11 。还有很多是可以相辅相成的，比如 1 和 13。说的玄一些，也许这就是所谓“代码感”——很多条经验都是相互联系的，交错形成一种“感觉”，便是本书所真正想表达的吧！         看这章的过程中发生了许多趣事。值得一提的是，那时我只看到第四条“同等抽象程度”。于是我费劲的拆我的 JavaScript 代码。然而那是一个给 input Box 绑定自动完成和自动搜索功能下拉框的函数。参数极其多，而我又没意识到，还不敢用全局变量。于是当我沿着函数走的顺序流程，把每个都只有 3 - 4 行的函数的参数一个个从 2 个加到5个之后……彻底风中凌乱了……还好，函数正常运行着，可我再也不想碰它了……        这大概可以算个典型的生搬硬套的笑话吧！</p></li></ol>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> clean code </tag>
            
            <tag> functions </tag>
            
            <tag> 代码整洁之道 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 摘录 </tag>
            
            <tag> 程序员 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>使用javaScript将文本转换为数字的方法</title>
      <link href="/post/e4-bd-bf-e7-94-a8javascript-e5-b0-86-e6-96-87-e6-9c-ac-e8-bd-ac-e6-8d-a2-e4-b8-ba-e6-95-b0-e5-ad-97-e7-9a-84-e6-96-b9-e6-b3-95.html"/>
      <url>/post/e4-bd-bf-e7-94-a8javascript-e5-b0-86-e6-96-87-e6-9c-ac-e8-bd-ac-e6-8d-a2-e4-b8-ba-e6-95-b0-e5-ad-97-e7-9a-84-e6-96-b9-e6-b3-95.html</url>
      <content type="html"><![CDATA[<p>今天没事看了一下 W3C School 的 javaScript 的文档（<a href="http://www.w3school.com.cn/js/jsref_obj_number.asp" title="http://www.w3school.com.cn/js/jsref_obj_number.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/jsref_obj_number.asp</a>），猛然发现原来 javaScript 还是有 Number 类的。因此转换方式很简单：</p><p>var n = new Number(text);  //text是文本形式的数字</p><p>或者：</p><p>alert(Nmuber(“6”) - 1);</p><p>本方法浮点数和整数通用，而 parseInt 和 parseFloat 分别是转换为整数和浮点数。 下面是测试代码：</p><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</a></p><html xmlns="http://www.w3.org/1999/xhtml"><br><br><head><br><br>    <title>test Number function</title><br><br>    <script type="text/javascript" src="jquery-latest.min.js"></script><br><br>    <script type="text/javascript"><br><br>        $(document).ready(function() {<br><br>            var n = new Number($(“#testDiv”).text());<br><br>            alert(n - 1);<br><br>        });<br><br>    </script><br><br></head><br><br><body><br><br><div id="testDiv">123.5</div><br><br></body><br><br></html><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 笔记 </tag>
            
            <tag> Number类 </tag>
            
            <tag> 文本转换为数字 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Don’t make me think》全书读书笔记</title>
      <link href="/post/do-not-make-me-think.html"/>
      <url>/post/do-not-make-me-think.html</url>
      <content type="html"><![CDATA[<p>本文概括一下本书的要点。书的开篇讲到，这是一本薄薄的册子，并且是一本能很快读完的书。大部分人都在飞机上读完了本书，而本人是在上周六睡前花了两个多小时就过完了。 之所以写得这么短而易懂，作者列出了很多理由，其中有一条是：“一件东西花的时间越长，它被用到的可能性往往越少”。是不是很有意思呢？有没有感触？ 本书分要点归纳如下：</p><ul><li>指导原则<ul><li>别让我思考——Krug可用性第一定  <pre><code>让网站容易使用最重要的一条是“别让我思考”。如果做不到让一切不言而喻，至少需要使所有东西都能自我解释。这样的列子列举了很多，比如招聘链接如果叫“Job”就一目了然了，叫“Employment Oppotunities”就要让人思考一下了，要是 叫“Job-o-Rama”就很费解了。</code></pre></li><li>我们实际上是如何使用Web的——扫描，满意即可，勉强应付  <pre><code>这里列举了三点：1) 不是阅读，而是扫描；2) 不作最佳选择，只是满意即可；3) 不是追根究底，而是勉强应付；  看下图，用户像右边红线所示的扫描，点击大体符合的链接。如果满足要求就不再深究，如果不满足，就后退重新选。 [![image](https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_thumb.png &quot;image&quot;)](https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image.png)</code></pre></li><li>广告牌设计101法则——为扫描而设计，不为阅读设计  <pre><code>承接上一条“扫描，满意即可，勉强应付”，应当这么做网站设计：  </code></pre>1) 建立清楚的视觉层次，比如重要部分必须突出，相似的东西要放在一起，样式也要类似；<br>2) 遵循习惯用法；<br>3) 把页面划分为明显定义的区域，能快速传达“某部分是做什么”，就允许了直观快速的选择；<br>4) 明显标识可以点击的地方；<br>5) 降低视觉噪声，下图直观说明了何为视觉噪声（“之前”“之后”的对比）：<a href="https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_3.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_thumb_3.png" alt="image" title="image"></a>。</li><li>动物、植物、无机物——为什么用户喜欢无须思考的选择  <pre><code>像“动物、植物、无机物”这样的一个明显区分、意义明确的选择列表，就是无须思考的。</code></pre></li><li>省略不必要的文字——不要在Web上写作的艺术   <pre><code>1) 无任何有用信息的欢迎词必须被消灭；2) 冗长的指示说明必须被消灭；</code></pre></li></ul></li><li>必须正确处理的几个方面<ul><li>街头指示牌和面包屑——设计导航   <pre><code>如果在网站上找不到方向，人们就不会使用你的网站：  </code></pre>1) 持久导航应该包括的5个一直都需要的元素，如图。<a href="https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_thumb_4.png" alt="image" title="image"></a>除了主页和表单，其它页面都必须使用持久性导航  ；<br>2) 必须提供搜索功能去，须简洁明快， 除了“搜索”二字其它都不要；<br>3) 用户在底层页面花的时间通常和顶层相同，从而——拥有显示网站所有潜在级别的导航的样例页面非常重要；<br>4) 每个页面都需要一个出现在合适位置、引人注目、和点击链接一致的页面名称；<br>5) 要有“你在这里”指示器或者面包屑（层级菜单），其中层级菜单最好——在最顶端、用“&gt;”进行层级分隔、小字体、使用文字“你在这里”、最后一个元素加粗、不当做是页面的名称<br>6) 标签的好处：不言而喻、很难忽视、暗示了一个物理空间；<br>7) 标签最好要：看起来像、颜色编码、初始选中；<br>8) 后备厢测试——检验导航的效果：这是什么（站点ID）？我在哪儿（网页名称）？主要栏目（栏目清单）？有何选择（本页导航）？我在导航系统的什么位置（“你在这里”指示器）？怎么搜索（搜索框）？</li><li>首先要承认，主页不由你控制——设计主页  <pre><code> 主页要完成的任务：站点的标识和使命、站点层次、搜索、导读、内容更新、友情链接、快捷方式、注册、让我看到自己正在寻找的东西、……还有我没有寻找的、告诉我从哪里开始、建立可信度和信任感。   设计主页的不利环境：每个人都想占一席之地、想要参与的人太多、一个尺寸要是和所有人，然而即便如此，不能忘记的事情是：传达整体印象。   什么是传达整体印象？当我进入一个网站时，它应该回答我头脑里的四个问题：这是什么网站？网站上有什么？我能在这里做什么？为什么我应该在这里而不是在别的地方？   如何传达？两个重要位置：口号、欢迎广告。几条指导原则：该用多大空间就用多大空间、但也不要浪费空间、不要把使命陈述当做欢迎广告、进行测试（拿给公司外的人看）。   好的口号——清楚、长度适中、表述出网站的特点和显而易见的好处、有个性、生动、有时很调皮；坏的口号——含混、太笼统。  回答从哪里开始——最好的办法：让每个起点看起来像起点（比如搜索就像搜索、栏目列表像栏目列表）。   以下还有一些零散的方面需要注意：   1) 如果不能使用持久性导航，导航的区别可以多大——同样的文字、同样的顺序和同样的分组、同样的视觉（字体、颜色、大小写等）。   2) 下拉菜单可以节约空间，但——易被忽略。   3) 任何共享资源，都会因为过度使用而被破坏，解决方案例如——从其它热门非主页来推介，或者轮流使用页面的同一块空间   4) 快速判断主页做得怎么样，快速回答——这个网站是做什么的？该从哪里开始？</code></pre></li></ul></li><li>确定你没有做错的几件事<ul><li>农场主和牧牛人应该是朋友——为什么Web设计团队在 讨论可用性是在浪费时间，如何避免这种情况  <pre><code>唯一的解决方法：测试。</code></pre></li><li>一天10美分的可用性测试——让测试简单，这样你能进行充分的测试   <pre><code> 有两种测试：焦点小组测试（一组人围坐，对展示给他们的观点和想法做出反应）和可用性测试（一次一个用户展示一些内容，并要求用户说出：这是什么、试着用它完成一些典型的任务）。 前者是快速得到用户感觉和意见的一种不错的方法；后者适合了解网站运行情况以及怎么改进网站。   关于测试：一定要测试、测试一个用户比不测试好一倍、早点测试一位用户好过最后测试50位用户、多测试早测试比严格招募测试用户更重要、测试只是给出有价值的参考、测试是迭代的过程、没有什么比现场用户的反应更重要。  [![image](https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_thumb_5.png &quot;image&quot;)](https://www.bokeyy.com/wp-content/uploads/2011/4/Dont-make-me-think_12F08/image_5.png)  怎么测试？（如上图）3个用户（最多4个）、多轮测试；测试对象是谁并不重要，利用你能找到的任何人（满足最低要求），然后曲线上升。   书中热情解释了为什么只需要招募满足最低要求的人来测试，这些也是我初识银禾的系统时，很有感触的地方：1) 即便找到一位专家，他也会勉强应付，只不过在较高的层次上； 2)设计出的网站只有目标群体能使用，这并不是好主意（关于这点是我）；</code></pre></li></ul></li><li>大的方面和外界影响<ul><li>可用性是基本礼貌——为什么你的网站应该让人尊敬</li><li>可访问性、级联样式表和你——当你觉得已经完成的时候，一只猫掉了下来，上面捆着涂了奶油的面包</li><li>救命！老板想让我……——当好人遇到不好的设计决策</li></ul></li></ul>]]></content>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 网页 </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 心得 </tag>
            
            <tag> 视觉 </tag>
            
            <tag> 设计 </tag>
            
            <tag> web设计 </tag>
            
            <tag> Don&#39;t Make Me Think </tag>
            
            <tag> UIE </tag>
            
            <tag> 可用性 </tag>
            
            <tag> 点石成金 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[总结]JavaScript的类入门</title>
      <link href="/post/javascript-class-getting-started.html"/>
      <url>/post/javascript-class-getting-started.html</url>
      <content type="html"><![CDATA[<p>写完这篇日志以后，本人依然不会写类，也不了解 JavaScript 的类到底是怎么回事。 今天偶然阅读到了<a href="http://www.ruanyifeng.com/" target="_blank" rel="noopener">阮一峰的网络日志</a>，了解多了。请看官阅读以下四文（建议按顺序阅读），并忽略本文其它内容：</p><ol><li>Javascript继承机制的设计思想  <a href="http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html </a></li><li>Javascript 面向对象编程（一）：封装 <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html</a></li><li>Javascript面向对象编程（二）：构造函数的继承 <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html</a></li><li>Javascript面向对象编程（三）：非构造函数的继承 <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance_continued.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance_continued.html</a></li></ol><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>> 2011-06-23 的分割线 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 引用文章地址：<br><a href="http://www.5dhouse.net/blog/read.php?5" title="http://www.5dhouse.net/blog/read.php?5" target="_blank" rel="noopener">http://www.5dhouse.net/blog/read.php?5</a><br><a href="http://www.mb5u.com/biancheng/AJAX/ajax_40994.html" title="http://www.mb5u.com/biancheng/AJAX/ajax_40994.html" target="_blank" rel="noopener">http://www.mb5u.com/biancheng/AJAX/ajax_40994.html</a> 此文总结学到的类的正常写法，和另外两种无须另外创建实例的类的写法。 javascript 是没有类的，只有一个个的方法和变量。但是是可以使用prototype的方式进行构造类的概念。 prototype是一个JavaScript对象，可以为prototype对象添加、修改、删除方法和属性。从而为一个类添加成员定义。 第二篇引用文章认为，类可以在function定义的函数体中添加成员，又可以用prototype定义类的成员，因此编程的代码显得混乱。因此，其给出的正常写法是使用prototype对象来替代方法和成员的定义方式，而function的定义就是类的构造函数，符合传统意义类的实现：类名和构造函数名是相同的。 正常写法：</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><p>//定义一个类class1</p><p>function class1(){</p><p>　//构造函数</p><p>}</p><p>//通过指定prototype对象来实现类的成员定义</p><p>class1.prototype={</p><p>　someProperty:”sample”, someMethod:function(){</p><p>　　//方法代码</p><p>　},</p><p>　…//其他属性和方法.</p><p>}</p><p>实例化类时：</p><p>var obj1=new class1();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 写法一：<br>    形如：var abc=new(function(){})();<br>    注：后来学到，这种写法写出的是“匿名类”，只得到一个名为 myClass 的类实例。</p><p>  var myClass = new(function(){</p><p>  var msg = “aa”; //类内部的属性，只能在类内部使用</p><p>  this.publicMethod = function() //公共方法</p><p>  {</p><pre><code>alert(&quot;publish&quot;);alert(msg);</code></pre><p>  };</p><p>  var privateMethod = function(){ //私有方法，外部不能调用，只能内部函数调</p><pre><code>alert(&quot;private&quot;);alert(msg);</code></pre><p>  };</p><p>  this.aa = function(){ //公共方法</p><pre><code>privateMethod();  //调用私有方法</code></pre><p>  };</p><pre><code>});</code></pre><p>myClass.publicMethod();</p><p>myClass.aa();</p><p>alert(myClass.msg);  // undefined</p><p>//myClass.privateMethod(); //外部调用私有方法，报错！</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 说明：<br>     1 对于写法一，类中的方法有公共和私有之分，公共方法可以在类的外部调用；私有方法只能在类内部调用。使用this关键字限定了作用域的变量或方法是公共的，即在外部可以访问，否则是私有的。<br>     2 私有方法：</p><pre><code>privateMethod = function(){ //私有方法，外部不能调用，只能内部函数调   alert(&quot;private&quot;);        alert(msg);   };</code></pre><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; w idth: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }        或者如下写法：  </p><p>var privateMethod = function(){ //私有方法，外部不能调用，只能内部函数调</p><pre><code>  alert(&quot;private&quot;);     alert(msg);};</code></pre><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }      3 类中的属性也分为公共和私有两种，同方法的限定是一样的道理，在上面代码中的msg是私有的只能在类的内部使用，如果写成：this.msg=’aa’;则就是公共变量了，外部可以访问了。 写法二：<br>    形如：var abc=function(){};  abc.subfunction=function(){};</p><p>var yourClass = function(){}; // var yourClass = {} </p><p>  alert(“your aa”); </p><p>   yourClass.msg = “your msg !!”;  //yourClass的属性msg </p><p>   alert(yourClass.msg);</p><p>   yourClass.show = function(){alert(“your bb”);}</p><p>   yourClass.show();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 说明：<br>1 对于方法二：类中的方法和属性都是公共的，外部都可以访问。<br>2 声明类  var yourClass = function(){}; 之后便可以定义其拥有的属性和函数（前面不加 “var” 关键字） yourClass.show = function(){alert(“your bb”);}</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> JavaScript </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> 类 </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>今天的成果——有效多选下拉框</title>
      <link href="/post/e4-bb-8a-e5-a4-a9-e7-9a-84-e6-88-90-e6-9e-9c-e2-80-94-e2-80-94-e6-9c-89-e6-95-88-e5-a4-9a-e9-80-89-e4-b8-8b-e6-8b-89-e6-a1-86.html"/>
      <url>/post/e4-bb-8a-e5-a4-a9-e7-9a-84-e6-88-90-e6-9e-9c-e2-80-94-e2-80-94-e6-9c-89-e6-95-88-e5-a4-9a-e9-80-89-e4-b8-8b-e6-8b-89-e6-a1-86.html</url>
      <content type="html"><![CDATA[<p>这个是用于自动生成多选下拉框的。贴代码，还有很多bug，有空改。 总结：拆解函数应该先写成类再拆~~</p><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//系统下拉多选选人功能（使用了部分单选列表的函数）</p><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//初始化人员多选选择列表，将选人下拉框绑定到对应的Object上</p><p>//传入值：</p><p>//o             :对应的Object</p><p>//projectId     :项目ID</p><p>//type          :对应角色类型</p><p>function showAMultipleSelectingTaskPeopleList(o, projectId, type, callback) {</p><pre><code>if (!isTaskPeopleListExist(projectId)) {    initTaskPeopleList();    getAMultipleSelectingTaskPeopleList(o, projectId, type, callback);}showAllTaskPeopleList(o);$(&quot;#selectUserForProf&quot;).click(function() {    hideAllTaskPeopleList();    SelectUsers.init({        rType: &quot;cb&quot;,        prt: &quot;selUser&quot;,        multiSel: false,        onOpen: function(o) {            SelTree();        },        callback: function(rs) {            var ids = &quot;&quot;;            for (var key in rs) {                selectProfWithPersonForMultiSelectList(o, rs\[key\], key);            }        }    });});</code></pre><p>}</p><p>function appendAPersonToTaskPeopleList(o, userId, name, profId, profName) {</p><pre><code>var appendContent = &quot;&quot;;appendContent = appendContent + &apos;&lt;li&gt;&lt;a class=&quot;aui-list-item-link&quot; href=&quot;javascript:;&quot; name=&quot;&apos; \+ name + &apos;&quot; id=&quot;&apos; \+ userId                                                        \+ &apos;&quot; sysProfId=&quot;&apos; \+ profId + &apos;&quot;&gt;&apos;                                                        \+ &apos;&lt;input type=checkbox checked=&quot;checked&quot; /&gt;&apos;                                                        \+ name + &apos;（&apos; \+ profName + &apos;）&lt;/a&gt;&lt;/li&gt;&apos;;$(&quot;ul.aui-list-section li:first-child&quot;).before(appendContent);showAllTaskPeopleList(o);</code></pre><p>}</p><p>function selectProfWithPersonForMultiSelectList(o, name, id) {</p><pre><code>var options = &quot;&quot;;$.get(&quot;/Foundation/Home/GetProfJson&quot;, function(data) {    for (var x = 0; x &lt; data.length; x++) {        options += &apos;&lt;option value=&quot;&apos; \+ data\[x\].id + &apos;&quot;&gt;&apos; \+ data\[x\].name + &apos;&lt;/option&gt;&apos;;    }    box(&quot;&lt;select id=SelectProfWithPersons&gt;&quot; \+ options + &quot;&lt;/select&gt;&quot;, { title: &quot;请为该人员选择一个专业&quot;, contentType: &apos;html&apos;, cls: &apos;shadow-container3&apos;,        submit_cb: function() {            appendAPersonToTaskPeopleList(o, id, name, $(&quot;#SelectProfWithPersons&quot;).val(), $(&quot;#SelectProfWithPersons&quot;).find(&quot;option\[selected\]&quot;).text());        }    });}, &quot;json&quot;);</code></pre><p>}</p><p>function confirmMultiplePeopleSelection(o, callback) {</p><pre><code>var selectedTaskPeople = &quot;&quot;;var rd = {};hideAllTaskPeopleList();$(o).parent().parent().find(&quot;input\[checked\]&quot;).each(function() {    var parentALable = $(this).parent();    selectedTaskPeople = selectedTaskPeople + parentALable.attr(&quot;id&quot;) \+ &quot;-&quot; \+ parentALable.attr(&quot;sysProfId&quot;) \+ &quot;,&quot;;    rd\[parentALable.attr(&quot;id&quot;)\] = parentALable.attr(&quot;name&quot;);});selectedTaskPeople = selectedTaskPeople.substring(0, selectedTaskPeople.length - 1);postPeopleDataSelected(o, selectedTaskPeople, rd, callback);</code></pre><p>}</p><p>function postPeopleDataSelected(o, ids, rd, callback) {</p><pre><code>if (ids == &quot;&quot;) return false;callback(ids, rd);</code></pre><p>}</p><p>function appendAnOKButtonToTaskPeopleList(projectId, callback) {</p><pre><code>$(&quot;ul.aui-list-section&quot;).parent().parent().append(&apos;&lt;div style=&quot;background-color:#eff5fb; padding:5px 0;&quot;&gt;&lt;input id=&quot;confirmMultiplePeopleSelectionbtn&quot; type=&quot;button&quot; value=&quot;确定&quot; /&gt;&lt;/div&gt;&apos;);$(&quot;#confirmMultiplePeopleSelectionbtn&quot;).unbind(&quot;click&quot;).bind(&quot;click&quot;, function() {    confirmMultiplePeopleSelection(this, callback);});</code></pre><p>}</p><p>function switchAllCheckBoxState(o) {</p><pre><code>var unChecked = $(o).find(&quot;input:not(:checked)&quot;);var checked = $(o).find(&quot;input\[checked\]&quot;);unChecked.attr(&quot;che</code></pre><p>cked”, “checked”);</p><pre><code>checked.removeAttr(&quot;checked&quot;);</code></pre><p>}</p><p>function getAMultipleSelectingTaskPeopleList(o, projectId, type, callback) {</p><pre><code>var urls = {    getTaskPeople: &apos;/Projects/Assignment/PlanRelatedPersonnel?r=&apos; \+ Math.random(), //取当前项目相关人员    searchTaskPeople: &apos;/HumanResources/Users/SearchUsers?r=&apos; \+ Math.random() //根据关键字查询系统用户}$.getJSON(urls.getTaskPeople, { projId: projectId, type: type }, function(data) {    if (data.Success) {        var taskPeopleList = &quot;&quot;;        $(&quot;ul.aui-list-section&quot;).html(&quot;&quot;);        $(&quot;ul.aui-list-section&quot;).attr(&quot;projId&quot;, projectId);        $(data.Items).each(function() {            taskPeopleList = taskPeopleList + &apos;&lt;li&gt;&lt;a class=&quot;aui-list-item-link&quot; href=&quot;javascript:;&quot; name=&quot;&apos; \+ this.name + &apos;&quot; id=&quot;&apos; \+ this.id                                                        \+ &apos;&quot; sysProfId=&quot;&apos; \+ this.sysProfId + &apos;&quot;&gt;&apos;                                                        \+ &apos;&lt;input type=checkbox /&gt;&apos;                                                        \+ this.name + &apos;（&apos; \+ this.sysProfName + &apos;）&lt;/a&gt;&lt;/li&gt;&apos;;        });        $(&quot;ul.aui-list-section&quot;).append(taskPeopleList);        $(&quot;ul.aui-list-section&quot;).find(&quot;a&quot;).each(function() {            $(this).click(function() {                switchAllCheckBoxState(this);                //点击checkBox本身反而不会被选中，估计是checkBox的事件和本方法直接抵消了            });        });        appendAnOKButtonToTaskPeopleList(projectId, callback);    } else {        $(&quot;ul.aui-list-section&quot;).append(&apos;&lt;li&gt;&apos; \+ data.Message + &apos;&lt;/li&gt;&apos;);    }});</code></pre><p>}</p><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//系统下拉多选选人功能</p><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
            <tag> AJAX </tag>
            
            <tag> JSON </tag>
            
            <tag> 下拉框 </tag>
            
            <tag> 自动完成 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JQuery 实现 input 自动完成</title>
      <link href="/post/jquery-e5-ae-9e-e7-8e-b0-input-e8-87-aa-e5-8a-a8-e5-ae-8c-e6-88-90.html"/>
      <url>/post/jquery-e5-ae-9e-e7-8e-b0-input-e8-87-aa-e5-8a-a8-e5-ae-8c-e6-88-90.html</url>
      <content type="html"><![CDATA[<p><strong>这里说的自动完成包含两方面的功能：</strong><br>1、当input输入框成为焦点的时候，显示一个列表列出所有可能的选择；<br>2、当input每输入一些字符，自动搜索出所有以那些字符开头的可能输入，并列表显示。 <strong>原理:  </strong>给输入框的input标签中增加 onfocus、onkeyup 和 onblur 事件，分别邦定三个不同的函数，分别具有显示所有可选列表、根据输入框的值搜索的结果列表和隐藏列表的功能。 <strong>解析:</strong><br>选择 onfocus 而不是 onclick ，因为不是只有通过后者才能得到输入框的焦点。<br>选择 onkeyup 而不是 onchange 的原因是，后者只有当输入框内容更改并失去焦点的时候才触发。<br>然而，每次 onkeyup 时都读取列表不好，因为中文输入一个字要按好多个键。所以每次 onkeyup 都应判断输入框的内容是否已经改变（IE 可用 IE Only 的一个事件来替代 onkeyup ）。<br>所以，用一个长 ID 的 div 来存储输入框更改之前的 value 值。这个 div 完全可以用全局变量代替。<br>最后，因为 AJAX 读取 JSON 有延迟，所以在第一个<ul> 和 <li> 之间加入提示文字，读取到 </li><li> 的内容后会自不显示（IE8）。 本代码不包含列表项目的点击效果，较为基础，只是一个练习而已，如下。</li></ul></p><head><br><br><script type="text/javascript" src="jquery-latest.min.js"></script><br><br><script type="text/javascript"><br><br>    function showPeopleList(o) {<br><br>        if ($(“.ajs-layer:last”).css(“display”) == “none”) {<br><br>            $(“.ajs-layer:first”).css(“display”, “inline”);<br><br>            $(“.ajs-layer:first”).css(“position”, “absolute”);<br><br>            $(“.ajs-layer:first”).css(“left”, $(o).offset().left);<br><br>            $(“.ajs-layer:first”).css(“top”, $(o).offset().top + $(o).height());<br><br>        }<br><br>    }<br><br>    function searchPeopleList(o) {<br><br>        $(“.ajs-layer:first”).css(“display”, “none”);<br><br>        $(“.ajs-layer:last”).css(“display”, “block”);<br><br>        $(“.ajs-layer:last”).css(“position”, “absolute”);<br><br>        $(“.ajs-layer:last”).css(“left”, $(o).offset().left);<br><br>        $(“.ajs-layer:last”).css(“top”, $(o).offset().top + $(o).height());<br><br>    }<br><br>    function hideAllPeopleList() {<br><br>        $(“.ajs-layer”).css(“display”, “none”);<br><br>    }<br><br></script><br><br></head><body><br><br><div class="shadow-container2"><br><br>                           <div class="title"><br><br>                             <div class="name">系统选人</div><br><br>                                <div class="oper"><a href="#"></a></div><br><br>                           </div><br><br>  <div class="contain"><br><br>    <table width="100%"><br><br>      <tr><br><br>        <td align="right">计划负责人</td><br><br>        <td><input name="textfield" type="text" class="inputBorderCursor required" onfocus="showPeopleList(this);" onkeyup="searchPeopleList(this);" onblur="hideAllPeopleList();" style="width:250px"></td><br><br>      </tr><br><br>    </table><br><br>  </div><br><br>  <div class="bottom"><br><br>        <div class="btn"><br><br>          <input type="button" value="保存并关闭"><br><br>        </div><br><br>  </div><br><br></div><br><br><div class="ajs-layer" style="width: 200px; display:none;"><br><br>                        <div class="aui-list" style="width: auto; display: block; white-space: nowrap; height:100px; overflow:auto; overflow-x:hidden;"><br><br>                           <ul class="aui-list-section"><br><br>                             <li><a class="aui-list-item-link" href="#">项目人员A（专业）</a></li><br><br>                             <li><a class="aui-list-item-link" href="#">项目人员A（专业）</a></li><br><br>                             <li><a class="aui-list-item-link" href="#">项目人员A（专业）</a></li><br><br>                             <li><a class="aui-list-item-link" href="#">项目人员A（专业）</a></li><br><br>                           </ul><br><br>                        </div><br><br>                        <div style="background-color:#eff5fb; text-align:center; padding:5px 0;"><a href="#" class="blue">从系统中选择人员</a></div><br><br>  </div><br><br><div class="ajs-layer" style="width: 200px; display:none;"><br><br><div class="aui-list" style="width: auto; display: block; white-space: nowrap; height:100px; overflow:auto; overflow-x:hidden;"><br><br>                           <ul class="aui-list-section"><br><br>                             <li><a class="aui-list-item-link" href="#">小<font color="#FF0000">李</font></a></li><br><br>                             <li><a class="aui-list-item-link" href="#"><font color="#FF0000">李</font>四</a></li><br><br>                             <li><a class="aui-list-item-link" href="#">小<font color="#FF0000">李</font></a></li><br><br>                             <li><a class="aui-list-item-link" href="#"><font color="#FF0000">李</font>四</a></li><br><br>                           </ul><br><br>                        </div><br><br>                        <div style="background-color:#eff5fb; text-align:center; padding:5px 0;"><a href="#" class="blue">从系统中选择人员</a></div><br><br>  </div><br><br></body><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
            <tag> JSON </tag>
            
            <tag> 自动完成 </tag>
            
            <tag> 下拉列表 </tag>
            
            <tag> 练习 </tag>
            
            <tag> 输入框自动搜索 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Classical Inheritance in JavaScript》读书笔记——详解JavaScript类继承</title>
      <link href="/post/e3-80-8aclassical-inheritance-in-javascript-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-e2-80-94-e2-80-94-e8-af-a6-e8-a7-a3javascript-e7-b1-bb-e7-bb-a7-e6-89-bf.html"/>
      <url>/post/e3-80-8aclassical-inheritance-in-javascript-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-e2-80-94-e2-80-94-e8-af-a6-e8-a7-a3javascript-e7-b1-bb-e7-bb-a7-e6-89-bf.html</url>
      <content type="html"><![CDATA[<p><em>《Classical Inheritance in JavaScript》文章地址：</em><a href="http://javascript.crockford.com/inheritance.html" title="http://javascript.crockford.com/inheritance.html" target="_blank" rel="noopener"><em>http://javascript.crockford.com/inheritance.html</em></a> <em>，作者：</em><a href="mailto:douglas@crockford.com" target="_blank" rel="noopener"><em>Douglas Crockford</em></a> 本文首先比较了 Java 和 JavaScript （如下表），作者认为：有别于Java的经典，JavaScript 是比较 “雏形”(Prototypal)的继承，这种继承容易让 C++/Java的程序员感到迷惑。然而，正如此文所示，JavaScript的“雏形”的继承要有表现力得多。</p><p><strong>Java</strong></p><p><strong>JavaScript</strong></p><p>Strongly-typed</p><p>Loosely-typed</p><p>Static</p><p>Dynamic</p><p>Classical</p><p>Prototypal</p><p>Classes</p><p>Functions</p><p>Constructors</p><p>Functions</p><p>Methods</p><p>Functions</p><p>作者写了几个名为 <a href="http://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener">sugar</a> 的方法，使得 JavaScirpt 支持各种类继承。首先看使用 <a href="http://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener">sugar</a> 方法进行的类继承示例：</p><ul><li><h2 id="经典继承"><a href="#经典继承" class="headerlink" title="经典继承"></a>经典继承</h2></li></ul><p>function Parenizor(value) {</p><pre><code>this.setValue(value);</code></pre><p>}</p><p>Parenizor.method(‘setValue’, function (value) {</p><pre><code>this.value = value;return this;</code></pre><p>});</p><p>Parenizor.method(‘getValue’, function () {</p><pre><code>return this.value;</code></pre><p>});</p><p>Parenizor.method(‘toString’, function () {</p><pre><code>return &apos;(&apos; \+ this.getValue() + &apos;)&apos;;</code></pre><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; } 从以上的代码可以看出类似面向对象模式。另外我注意到，value不用再声明一次，直接作为类成员引用。<br>以下代码输出的结果是：“(0)”。</p><p>myParenizor = new Parenizor(0);</p><p>myString = myParenizor.toString();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><p>这时我们继承 Parenizor 这个类：</p><p>function ZParenizor(value) {</p><pre><code>this.setValue(value);</code></pre><p>}</p><p>ZParenizor.inherits(Parenizor);</p><p>ZParenizor.method(‘toString’, function () {</p><pre><code>if (this.getValue()) {    return this.uber(&apos;toString&apos;);}return &quot;-0-&quot;;</code></pre><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }以上代码最后一行似乎应该是：</p><pre><code>return &apos;-&apos; \+ this.getValue() + &apos;-&apos;;</code></pre><p>这时我们输出 ZParenizor 类的 toString：</p><p>myZParenizor = new ZParenizor(0);</p><p>myString = myZParenizor.toString();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }其运行结果显然是：“-0-”。 尽管JavaScript不支持类，但是我们可以把它当做支持类的语言来编程。</p><ul><li><h2 id="多态继承"><a href="#多态继承" class="headerlink" title="多态继承"></a>多态继承</h2></li></ul><p>使用 <a href="http://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener">sugar</a> 的 swiss 方法，只需一行代码：</p><p>ZParenizor.swiss(NumberValue, ‘setValue’, ‘setRange’);</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><ul><li><h2 id="寄生-继承"><a href="#寄生-继承" class="headerlink" title="寄生 继承"></a>寄生 继承</h2></li></ul><p>这个继承方法和设计模式里面的使用的 Interface 有点像，看代码即可，注意这里的uber相当于Java的super：</p><p>function ZParenizor2(value) {</p><pre><code>var that = new Parenizor(value);that.toString = function () {    if (this.getValue()) {        return this.uber(&apos;toString&apos;);    }    return &quot;-0-&quot;; //这里是不是也写错了，见上};return that;</code></pre><p>}</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><ul><li><h2 id="面向对象增强"><a href="#面向对象增强" class="headerlink" title="面向对象增强"></a>面向对象增强</h2></li></ul><p>这儿说的是 JavaScript 中的类不像 Java 中的类，只要有微小的区别就必须新建一个 class 。JavaScript 的类是可以直接用代码增强的：</p><p>myParenizor = new Parenizor(0);</p><p>myParenizor.toString = function () {</p><pre><code>if (this.getValue()) {    return this.uber(&apos;toString&apos;);}return &quot;-0-&quot;;   //这边真的没写错吗？？？</code></pre><p>};</p><p>myString = myParenizor.toString();</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p><ul><li><h2 id="Sugar"><a href="#Sugar" class="headerlink" title="Sugar"></a>Sugar</h2></li></ul><p>这里给出 <a href="http://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener">sugar</a> 的代码，使得上面的所有示例得以工作，如下。</p><p>Function.prototype.method = function (name, func) {</p><pre><code>this.prototype\[name\] = func;return this;</code></pre><p>};</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }以上是一个名为 method 的 method。</p><p>Function.method(‘inherits’, function (parent) {</p><pre><code>var d = {}, p = (this.prototype = new parent());this.method(&apos;uber&apos;, function uber(name) {    if (!(name in d)) {        d\[name\] = 0;    }            var f, r, t = d\[name\], v = parent.prototype;    if (t) {        while (t) {            v = v.constructor.prototype;            t -= 1;        }        f = v\[name\];    } else {        f = p\[name\];        if (f == this\[name\]) {            f = v\[name\];        }    }    d\[name\] += 1;    r = f.apply(this, Array.prototype.slice.apply(arguments, \[1\]));    d\[name\] -= 1;    return r;});return this;</code></pre><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }以上是一个名为 inherits 的方法，还记得开篇示例中使用的 “inherits”么？</p><p>Function.method(‘swiss’, function (parent) {</p><pre><code>for (var i = 1; i &lt; arguments.length; i += 1) {    var name = arguments\[i\];    this.prototype\[name\] = parent.prototype\[name\];}return this;</code></pre><p>});</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }以上是用以支持“多态继承”的 swiss 方法。</p><ul><li><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2></li></ul><p>JavaScript 虽然不支持面向对象，但我们可以当做它支持并面向对象地编程。JavaScript的类是比较“软”的，灵活性很强，为类添加新成员甚至不需要新建一个类。因此使用 JavaScript 继承需要转变自己关于继承的思考方法。作者推荐以“浅”层次的继承而不是“深”层继承（即少继承几次？）。 <a href="mailto:douglas@crockford.com" target="_blank" rel="noopener"><em>Douglas Crockford</em></a>自述：我至今已经编写 JavaScript 长达8年之久了，而我从来没有发现自己需要使用一个 <em>uber</em> 函数。super 的思想在经典的模式里面是如此重要，而在“雏形的”和“面向函数”的模式里显得完全不必要。我现在觉得我当初努力想让 JavaScript 支持经典模型的做法是错的。</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> inheritance </tag>
            
            <tag> JavaScript类继承 </tag>
            
            <tag> 类继承 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《CSS Mastery》读书笔记（二）：GETTING YOUR STYLE TO HIT THE TARGET</title>
      <link href="/post/e3-80-8acss-mastery-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-88-e4-ba-8c-ef-bc-89-ef-bc-9agetting-your-style-to-hit-the-target.html"/>
      <url>/post/e3-80-8acss-mastery-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-88-e4-ba-8c-ef-bc-89-ef-bc-9agetting-your-style-to-hit-the-target.html</url>
      <content type="html"><![CDATA[<p>这章讲的是CSS筛选器，很多人这样描述JQuery的筛选器：就和CSS筛选器一般的强大。</p><ul><li><h1 id="Common-selectors"><a href="#Common-selectors" class="headerlink" title="Common selectors"></a>Common selectors</h1></li></ul><p><strong>最简单的</strong>（地球人都知道）   p { color: black; }       #intro { color: black; }        .posted { color: black; }<br><strong>子筛选器</strong>                             blockquote p { color: black; }<br>（如id为intro的                   #intro p { color: black; }<br>所有p标签）                        .posted p { color: black; }<br><strong>不仅基于文档结构的筛选器</strong>   a:hover { color: black; } /<em> 类似还有focus、link、visited <em>/<br>（也可以重叠使用）             a:visited:hover { color: red; } /</em> 所有访问过的链接鼠标放上去的颜色 _/<br><strong>全局筛选器</strong>                          </em>  { margin: 0;  }   /_ 匹配所有满足条件的元素 */  </p><ul><li><h1 id="Advanced-selectors"><a href="#Advanced-selectors" class="headerlink" title="Advanced selectors"></a>Advanced selectors</h1></li></ul><p>CSS2.1和CSS3支持的高级筛选器，IE6等老浏览器不支持。<br><strong>孩子筛选器</strong>                        #nav &gt; li { background:url(folder.png); } /* 匹配包含在 #nav 内的最外层 li  <em>/<br>-IE6 等老浏览器解决方案  #nav li { background:url(folder.png); } /</em> 先匹配所有孩子 _/  </p><pre><code>#nav li * { background-image: none; } /_ 匹配所有孩子的孩子，去掉属性 _/  </code></pre><p><strong>紧接某元素的第一个元素</strong>    h2 + p { font-size: 36 px; } /_ 所有跟在h2后面的第一段话 <em>/<br><strong>属性选择器</strong> acronym[title] { color: red; } /</em> 包含title属性的acronym <em>/<br>（由于IE6不支持本属性，   acronym[title]:hover { color: red; }<br>可以利用来在不同浏览器     a[rel =”nofollow”] { color: red; } /</em> rel = “nofollow”的 a <em>/<br>展示不同的内容，例如        a[rel~= ”coworker”] { color: red; } /</em> 只要rel中有coworker的都匹配 */  </p><p>#id 和 [ id = “id”]）       </p><ul><li><h1 id="Specificity-and-cascade"><a href="#Specificity-and-cascade" class="headerlink" title="Specificity and cascade"></a>Specificity and cascade</h1></li></ul><p>这部分讨论当一个元素被多个CSS样式匹配时，最终起作用的是哪个，及其应对方法。本内容在书第35页开始。<br>值得一提的是 CSS 的 Inheritant（继承），即：<br>                              body { font-size: 12 px; } 可以替代 p,td,tr,table,div { font- size: 12px; }</p><ul><li>Planning and maintaining your style sheets</li></ul><p>这部分是关于维护和使用CSS样式表的。<br>首先，书中不推荐将样式表直接粘贴在文件中，会造成维护和修改的繁琐（要同时改动太多地方）。<br>然后，结构化最好的方法如下：  </p><script type="”text/css”"><!---@import url(/css/layout.css);@import url(/css/color.css);---></script><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }然而，由于浏览器有同时读取文件个数的限制（一般为个位数），import的css文件越多，越有明显减慢加载速度的趋势。<br>所以，兼顾速度和文件结构的最好方法为：</p><link href="/css/style.css" rel="stylesheet" type="text/css"><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /<em>white-space: pre;</em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }然后在CSS文档中使用这样的注释进行分组：</p><p>/* @group color _/_</p><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /white-space: pre;<em>/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</em>本书第42页还提供了关于怎么划分CSS文档结构比较好的示例。例如（这究竟是注释还是会生效的CSS？）：</p><p>/ Color Variables</p><p>@colordef #434343; darkgrey</p><p>@colordef #369; darkblue</p><p> _/_</p><p>以下是比较好的注释方法：</p><p>/ @todo 要做的事情 _/_</p><p>/ @workaround 代码用来做什么 _/_</p><p>/ @bugfix 此段</p>]]></content>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 读书笔记 </tag>
            
            <tag> CSS Mastery </tag>
            
            <tag> CSS Selector </tag>
            
            <tag> CSS 筛选器 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《Clean Code》读书笔记（一）：Meaningful Names</title>
      <link href="/post/clean-code-1.html"/>
      <url>/post/clean-code-1.html</url>
      <content type="html"><![CDATA[<p>《Clean Code》的中译本就是《代码整洁之道》，三天假期看了很多书，今天一起总结了备用。本篇是此书第二章的总结，关于命名法的。 这本书需要仔细研究代码，自己体会。本文只能总结归纳本章的每个点，却不能代替本书的仔细研读。 书中认为，代码写的时间越长，后期维护和修改就越麻烦。越改越乱，越乱生产效率越低下，最后将无可挽回。所以在一开始写代码的时候多花一些时间保持代码的“整洁”（Clean）、一看就懂是相当划算而且有必要的。因为项目越到后期，越绝大部分的时间都将花在阅读代码上面。花在阅读代码上面的时间将决定整个项目的改进速度，从而决定其最终生命力。 写代码和建筑类似，往往赢在细节。作者用自身和朋友们的几十年从业经验，娓娓道来，告诉我们什么叫做“Clean Code”。 命名的重要性就不说了，大家都知道，直接关系到代码的可读性和寿命。以下分点归纳本章内容。</p><ul><li><h2 id="Use-Intention-Revealing-Names"><a href="#Use-Intention-Revealing-Names" class="headerlink" title="Use Intention-Revealing Names"></a>Use Intention-Revealing Names</h2></li></ul><p>意思就是，与其用 theList 之类的名字，应该换成 flaggedCells 这样有意义的名字。</p><ul><li><h2 id="Avoid-Disinformation"><a href="#Avoid-Disinformation" class="headerlink" title="Avoid Disinformation"></a>Avoid Disinformation</h2></li></ul><ol><li>在上一条的前提下，有意义的名字不要误导人。比如 accountList 这个名字，如果它指的是一个 String 而不是 List ，那么就不要在名字里出现 List 这个词。</li><li>名字的区别要大一点。比如 XYZMyTodayBrunchBread 和 XYZMyTodayBreakfastBread 区别就太小了……</li><li>相似的东西，拼写相似，便于IDE的自动完成（好像是？这条没懂）；</li><li>小写的 l 和 o 用来单独做名字容易引起误会（你懂得，1和0）；</li></ol><ul><li><h2 id="Make-Meaningful-Distinctions"><a href="#Make-Meaningful-Distinctions" class="headerlink" title="Make Meaningful Distinctions"></a>Make Meaningful Distinctions</h2></li></ul><p>命名时，如果表达不同的意思，要有意义的区分之。比如不要一个名为a1的List和一个a2的List，或者Money和TheMoney……（读者可以猜出它们的区别吗？不能就对了）</p><ul><li><h2 id="Use-Pronounceable-Names"><a href="#Use-Pronounceable-Names" class="headerlink" title="Use Pronounceable Names"></a>Use Pronounceable Names</h2></li></ul><p>就是最好命名可以发音的名字。比如generationTimeStamp如果叫genymdhms，和同事讨论的时候就不太方便。</p><ul><li><h2 id="Use-Searchable-Names"><a href="#Use-Searchable-Names" class="headerlink" title="Use Searchable Names"></a>Use Searchable Names</h2></li></ul><p>这条涉及到代码中的常量问题。一个名为 MAX_CLASSES_PER_STUDENT 的常量好搜索呢？还是 7 这个数字好搜索呢？ sum 这个变量好搜索呢？还是 s 这个变量好搜索呢？</p><ul><li><h2 id="Avoid-Encodings"><a href="#Avoid-Encodings" class="headerlink" title="Avoid Encodings"></a>Avoid Encodings</h2></li></ul><p>编码（确切的说是加密）过的名字，还要花时间来破译，也不好发音。 现代编程语言类型很严格，不需要再增加类型前缀；由于新IDE的便利，成员变量不用加 m_ 前缀；利用设计模式的时候，宁愿用 ShapeFactoryImp ，比 IShapeFactory 好（意思是后者的 I 没有意义，让人费解）。</p><ul><li><h2 id="Avoid-Mental-Mapping"><a href="#Avoid-Mental-Mapping" class="headerlink" title="Avoid Mental Mapping"></a>Avoid Mental Mapping</h2></li></ul><p>这涉及到循环变量，比如大家都知道 i, j, k 一般是做什么用的，但是多了一个 l 就让人花心思去猜了（这个 l 究竟是一个一般的函数变量呢？还是循环变量呢？还是什么呢？）。</p><ul><li><h2 id="Class-Names"><a href="#Class-Names" class="headerlink" title="Class Names"></a>Class Names</h2></li></ul><p>类名不该是一个动词。</p><ul><li><h2 id="Method-Names"><a href="#Method-Names" class="headerlink" title="Method Names"></a>Method Names</h2></li></ul><p>方法名必须是动宾短语（地球人都知道），重载的构造函数名最好体现其参数的类型和意义。</p><ul><li><h2 id="Don’t-Be-Cute"><a href="#Don’t-Be-Cute" class="headerlink" title="Don’t Be Cute"></a>Don’t Be Cute</h2></li></ul><p>不要引经据典、自作聪明。比如 DeleteItems 比 HolyHandGrenade 好。</p><ul><li><h2 id="Pick-One-Word-per-Concept"><a href="#Pick-One-Word-per-Concept" class="headerlink" title="Pick One Word per Concept"></a>Pick One Word per Concept</h2></li></ul><p>同一个概念最好保持一致性，使用同一个词代替。比如有人能猜到 DeviceManager 和 ProtocolController 有什么区别么？？</p><ul><li><h2 id="Don’t-Pun"><a href="#Don’t-Pun" class="headerlink" title="Don’t Pun"></a>Don’t Pun</h2></li></ul><p>与上一条对应，不同的概念不要用同一个词。</p><ul><li><h2 id="Use-Solution-Domain-Names"><a href="#Use-Solution-Domain-Names" class="headerlink" title="Use Solution Domain Names"></a>Use Solution Domain Names</h2></li></ul><p>尽量使用计算机、数学等相关领域的名词，免得同事不停地询问客户该词的含义。</p><ul><li><h2 id="Use-Problem-Domain-Names"><a href="#Use-Problem-Domain-Names" class="headerlink" title="Use Problem Domain Names"></a>Use Problem Domain Names</h2></li></ul><p>与上一条对应，当除了待解决问题相关领域内的专业名词之外，无恰当的词汇可用的时候，使用专业领域词汇。这样至少同事可以去问客户，而不是猜测一个自造词汇的含义。</p><ul><li><h2 id="Add-Meaningful-Context"><a href="#Add-Meaningful-Context" class="headerlink" title="Add Meaningful Context"></a>Add Meaningful Context</h2></li></ul><p>这部分内容分为变量和函数名两部分，在书的第28页。 变量的例子很简单，state 是状态还是州的意思呢？但如果改成  addrState ，就很明显是地址的州的意思。在必要的时候增加变量的语境，可以加强它的自明性。 而函数的例子告诉我们，好的代码不一定要一行一行的看到最后，才明白到底做了什么。例子的代码如下：</p><p>if (count == 0){<br>//代码细节…<br>//…<br>}else if (count == 1){<br>//..<br>//..<br>} else {<br>//..<br>//..<br>}</p><p>上面显然不如这样的代码更有表现力：</p><p>if (count == 0){<br>   thereAreNoLetters();<br>} else if (count == 1){<br>   thereIsOneLetter();<br>} else {<br>   thereAreManyLetters(count);<br>}</p><ul><li><h2 id="Don’t-Add-Gratuitous-Context"><a href="#Don’t-Add-Gratuitous-Context" class="headerlink" title="Don’t Add Gratuitous Context"></a>Don’t Add Gratuitous Context</h2></li></ul><p>这个是考虑到现代IDE的自动完成功能带来的便利。假设公司缩写为 GSD，若每个变量都以 GSD 开头，则每次输入 G 都有成百上千个变量名列在下面。为什么要这样为难我们自己呢？</p><ul><li><h2 id="Final-Words"><a href="#Final-Words" class="headerlink" title="Final Words"></a>Final Words</h2></li></ul><p>良好的命名是需要一定的描述水平和同事之间共通的文化背景的。不过，由于现代IDE的便利，改名是一件非常方便的事情，所以不妨和本书作者一样，将自己代码的里的名字改了又改吧！</p>]]></content>
      
      <categories>
          
          <category> Clean Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
            <tag> clean code </tag>
            
            <tag> 代码整洁之道 </tag>
            
            <tag> meaningful names </tag>
            
            <tag> 命名法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>《CSS Mastery》读书笔记（一）：SETTING THE FOUNDATIONS</title>
      <link href="/post/e3-80-8acss-mastery-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-88-e4-b8-80-ef-bc-89-ef-bc-9asetting-the-foundations.html"/>
      <url>/post/e3-80-8acss-mastery-e3-80-8b-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-88-e4-b8-80-ef-bc-89-ef-bc-9asetting-the-foundations.html</url>
      <content type="html"><![CDATA[<p>CSS Mastery 这本书是我看了了<a href="http://cnblogs.com/" target="_blank" rel="noopener">博客园</a>的《<a href="http://news.cnblogs.com/n/50709/" target="_blank" rel="noopener">欲练 CSS ，必先宫 IE</a>》以及相关文章后，经作者介绍来看本书的。读本书旨在了解一些CSS布局的方法，因为一直以来本人都是Table布局的忠实拥护者。 本文总结的是《CSS Mastery》的第一章的内容。COPY概要如下：</p><ul><li>Structuring your code</li><li>The importance of meaningful documentation</li><li>Naming conventions</li><li>When to use IDs and class names</li><li>Microformats</li><li>Different versions of HTML and CSS</li><li>Document types, DOCTYPE switching, and browser modes</li></ul><p>本部分首先介绍了一个网页格式编排的简史，旨在说明格式和内容不分开的做法是很不好的。此外，我们要的是网页代码中“有意义”的标签，而不是一团乱。 “有意义”的标签有以下好处：1、便于人理解；2、便于搜索引擎理解；3、便于浏览器等机器理解。有意义的标签有：h1, h2, ul, ol, dl, strong, em, blockquote, cite, abbr, code, acronym, label, thead 等等。 有了有意义的标签，还会用到 ID 和 Class 属性，这时需要注意的是 ID 是用来指定特定的东西，而如果能归为一类，尽量归为一类使用Class。这样，可以避免很多繁琐的麻烦，也使代码维护更加简单。 关于 ID 和 Class 的命名，看下图就了解了：<a href="https://www.bokeyy.com/wp-content/uploads/2011/4/image_2.png" target="_blank" rel="noopener"><br><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/image_thumb.png" alt="image" title="image"></a><br>此外，要注意<strong>大小写是敏感的</strong>噢。写代码的人应该对命名再熟悉不过了，不用多说。 ID 和 Class 很多时候都是放在 Div 和 Span 里面的。这是两个容易让人误解为“没有含义”的标签。其实 Div 的意思是 division ，即把文档切分为几个有意义的局部。所以要根据 Div 本身的含义来使用 Div 标签。 以上讲的都是自定义格式，其实对于地址、联系方式等全球通用的信息，有人为它们设计了专门的全球通用的CSS样式（Microformat）。比如 hCard、hCalendar、hProduct等等。已经有不少大型门户网站采用了它们的设计。 本章最后讨论的问题是 HTML 、 CSS版本的问题和文件头的问题，这似乎是面试喜欢考的题目。在书中第17页开始，有兴趣自己看吧！ 本文结束。</p>]]></content>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
            <tag> CSS Mastery </tag>
            
            <tag> CSS 入门 </tag>
            
            <tag> CSS 布局 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>用JQuery实现具有自动判断功能的无刷新添加/删除功能</title>
      <link href="/post/e7-94-a8jquery-e5-ae-9e-e7-8e-b0-e5-85-b7-e6-9c-89-e8-87-aa-e5-8a-a8-e5-88-a4-e6-96-ad-e5-8a-9f-e8-83-bd-e7-9a-84-e6-97-a0-e5-88-b7-e6-96-b0-e6-b7-bb-e5-8a-a0-e5-88-a0-e9-99-a4-e5-8a-9f-e8-83-bd.html"/>
      <url>/post/e7-94-a8jquery-e5-ae-9e-e7-8e-b0-e5-85-b7-e6-9c-89-e8-87-aa-e5-8a-a8-e5-88-a4-e6-96-ad-e5-8a-9f-e8-83-bd-e7-9a-84-e6-97-a0-e5-88-b7-e6-96-b0-e6-b7-bb-e5-8a-a0-e5-88-a0-e9-99-a4-e5-8a-9f-e8-83-bd.html</url>
      <content type="html"><![CDATA[<h2 id="第一部分-批量添加按钮"><a href="#第一部分-批量添加按钮" class="headerlink" title="第一部分 批量添加按钮"></a>第一部分 批量添加按钮</h2><p>说的是今天上午做的任务，实现图中的“批量添加”按钮。在传值给后台的同时，要根据界面是否已有该批量添加的对象，如果没有要无刷新添加上去。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/4/wps_clip_image-13479_2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/wps_clip_image-13479_thumb.png" alt="wps_clip_image-13479" title="wps_clip_image-13479"></a> 这个任务做得很悲催，花了一个上午外加一些下午的时间，前前后后改了六七次才算成功，最大的原因在于没有弄清楚JSON回传值的结构，导致对要实现的功能的理解偏差。直到调试出4-5个不同的程序出来以后，才意识到自己对参数的意义的理解有误。 所以，弄清楚JSON的结构很重要。拔高一个层次，理解清楚究竟要做什么再动手很重要。 另外遇到的问题是，当主专业和辅专业都为空的时候，需要隐藏“批量添加”按钮。这点没有考虑周全。 这个原因和前面其实是一样的，就是对项目缺乏整体的了解。试想我连导入模板会不会强制设置主专业之类的都不清楚，又怎么能够考虑所谓周全与否的问题呢？被分配任务，自然总是以假设程序其它部分都很完美为前提。 最后贴上代码，如下。</p><p>a3plan_prof.batchAddStage = function() { //批量设置专业阶段</p><pre><code>var tmp = &quot;&quot;;var o;for (i = 0; i &lt; stageItems.length; ++i) {    o = stageItems\[i\];    tmp += &apos;&lt;li&gt;&lt;input type=&quot;checkbox&quot; name=&quot;stageList&quot; value=&quot;&apos; \+ o.id + &apos;&quot; /&gt;&apos; \+ o.name + &apos;&lt;/li&gt;&apos;;}tmp = &apos;&lt;div class=&quot;bubble&quot;&gt;&lt;ul&gt;&apos; \+ (tmp ? tmp : &quot;暂无可选的阶段&quot;) \+ &apos;&lt;/ul&gt;&lt;ul style=&quot;padding:5px 0 5px 10px&quot;&gt;&lt;a href=&quot;javascript:;&quot;&gt;全选&lt;/a&gt; &lt;a href=&quot;javascript:;&quot;&gt;不选&lt;/a&gt;&lt;/ul&gt;&lt;/div&gt;&apos;;box(tmp, { boxid: &quot;batchAddStage&quot;, title: &quot;批量添加阶段&quot;, contentType: &quot;html&quot;, fixable: false,    onOpen: function(bb) {        bb.db.find(&quot;a:first&quot;).click(function() {            bb.db.find(&quot;input&quot;).attr(&quot;checked&quot;, &quot;checked&quot;);        });        bb.db.find(&quot;a:last&quot;).click(function() {            bb.db.find(&quot;input&quot;).removeAttr(&quot;checked&quot;);        });    },    submit_cb: function(bb) {        var newIds = \[\];        bb.fbox.find(&quot;input\[name=&apos;stageList&apos;\]&quot;).each(function() {            if ($(this).attr(&quot;checked&quot;)) newIds.push($(this).val());        });        $.ajax({            type: &apos;post&apos;,            url: a3plan_prof.urls.batchAddProjStage, data: { ids: newIds.join(&quot;,&quot;), projId: projId },            success: function(data) {                if (data.Success) {                    $.tmsg(&quot;m_stage&quot;, &quot;操作成功！&quot;, { pos: &apos;t-t&apos; });                    var projProfId, objStage;                    var init = 0;                    for (i1 = 0; i1 &lt; $(&quot;.jdlist&quot;).length; ++i1) {                        projProfId = $(&quot;.jdlist&quot;)\[i1\].id.substr(2);                        objStage = $(&quot;#jd&quot; \+ projProfId), existIds = \[\];                        objStage.find(&quot;li&quot;).each(function() {                            var sysStageId = $(this).attr(&quot;sysstageid&quot;);                            var isChongfu = false;                            for (j = 0; j &lt; newIds.length; ++j) {                                if (sysStageId == newIds\[j\]) {                                    isChongfu = true;                                    break;                                }                            }                            if (isChongfu) { existIds.push(sysStageId); }                        });                        var i = 0, rs = data.Items; tmp = &quot;&quot;;                        for (i = init; i &lt; init + newIds.length - existIds.length; ++i) {                            tmp += &apos;&lt;li sysstageid=&quot;&apos; \+ rs\[i\].sysStageId + &apos;&quot; projstageid=&quot;&apos; \+ rs\[i\].projPhareId + &apos;&quot;&gt;&apos; \+ rs\[i\].name + &apos;&lt;img src=&quot;/Content/Images/zh-cn/task/btn-del.png&quot; onclick=&quot;a3plan_prof.delStage(this);&quot; /&gt;&lt;/li&gt;&apos;;                        }                        objStage.append(tmp);                        init = i;                    }                } else {                    $.tmsg(&quot;m_stage&quot;, data.msg, { pos: &apos;t-t&apos; });                    alert(data.Success);                }            }        });    }});</code></pre><p>}</p><h2 id="第二部分-批量选中实时更新复选框"><a href="#第二部分-批量选中实时更新复选框" class="headerlink" title="第二部分 批量选中实时更新复选框"></a>第二部分 批量选中实时更新复选框</h2><p>这一部分遇到的主要问题是JQuery筛选器的不熟悉。相关界面如图，做的就是“全部角色”下面的复选框。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/4/wps_clip_image-13613_2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/wps_clip_image-13613_thumb.png" alt="wps_clip_image-13613" title="wps_clip_image-13613"></a></p><p>这里归纳一下几种JQuery筛选器的用法：</p><p>var p = $(obj).parent().parent();</p><p>var ckbox = p.find(“input”), isck = false;</p><p> isck = $(obj).attr(“checked”) ? true : false;</p><p>//以下也算一种</p><p> var roleIds = [], i = 0;</p><p>$(p).parent().children(“tr:first”).children(“td[roleId]“).each(function() {</p><pre><code>roleIds\[i\] = $(this).attr(&quot;roleId&quot;);i = i + 1;</code></pre><p> });</p><p>解决途径，多看JQuery 1.4的API，力求熟悉用活，下面是全代码。</p><p>a3plan_user.batchSetPeoPleRole = function(obj, projProfId, userId) { //批量设置人员角色</p><pre><code>if (!projProfId || !userId) {    $.tmsg(&quot;m_stage&quot;, &quot;发生未知错误，请联系管理员！&quot;, { pos: &apos;t-t&apos; });} else {    $(&quot;input\[name=&apos;ckrole&apos;\]&quot;).attr(&quot;disabled&quot;, &quot;disabled&quot;);    var p = $(obj).parent().parent();    var ckbox = p.find(&quot;input&quot;), isck = false;    isck = $(obj).attr(&quot;checked&quot;) ? true : false;    ckbox.each(function() {        if (isck) {            $(this).attr(&quot;checked&quot;, &quot;checked&quot;);        }        else {            $(this).removeAttr(&quot;checked&quot;);        }    });    var roleIds = \[\], i = 0;    $(p).parent().children(&quot;tr:first&quot;).children(&quot;td\[roleId\]&quot;).each(function() {        roleIds\[i\] = $(this).attr(&quot;roleId&quot;);        i = i + 1;    });    $.ajax({        type: &apos;POST&apos;, url: &apos;/Projects/Assignment/BatchSetPeoPleRole&apos;,        data: { roleIds: roleIds.join(&quot;,&quot;), projProfId: projProfId, projId: projId, userId: userId, check: isck ? 1 : 0 },        success: function(data) {            if (data.Success) {                $.tmsg(&quot;m_stage&quot;, &quot;操作成功！&quot;, { pos: &apos;t-t&apos; });            } else {                $.tmsg(&quot;m_stage&quot;, data.msgError, { pos: &apos;t-t&apos; });            }        }    });    $(&quot;input\[name=&apos;ckrole&apos;\]&quot;).removeAttr(&quot;disabled&quot;);}</code></pre><p>}</p><p>总结：今天不似昨天一样一整天基本没事，收获较大，不错 ：-）。</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 心得 </tag>
            
            <tag> JQuery </tag>
            
            <tag> AJAX </tag>
            
            <tag> 无刷新 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>十招让你设计不恶心的PPT</title>
      <link href="/post/e5-8d-81-e6-8b-9b-e8-ae-a9-e4-bd-a0-e8-ae-be-e8-ae-a1-e4-b8-8d-e6-81-b6-e5-bf-83-e7-9a-84ppt.html"/>
      <url>/post/e5-8d-81-e6-8b-9b-e8-ae-a9-e4-bd-a0-e8-ae-be-e8-ae-a1-e4-b8-8d-e6-81-b6-e5-bf-83-e7-9a-84ppt.html</url>
      <content type="html"><![CDATA[<p>本文转载自“优米网”：<a href="http://www.umiwi.com/article/4955" title="http://www.umiwi.com/article/4955" target="_blank" rel="noopener">http://www.umiwi.com/article/4955</a></p><p>PPT制造出来的糟糕设计比历史上任何其他数字工具都要多，在本文我们将用10个超级技巧来解决糟糕的演示设计肆虐横行的问题，让你可以设计出更好看、更专业的演示。此间你会看到Note &amp; Point上的一些出色的幻灯片设计，还有一些就是你们自己的作品。让我们开始吧！</p><p><strong>不是设计师？</strong></p><p>这个网站的大部分内容主要针对专业设计师和开发人员，或者是起码对涉足这一领域感兴趣的人。 不过本文是写给做过PPT的人的。 无论你是学生、领导，还是自助团体，或者是薪水达6位数的企业高管，不管你喜欢与否，从你打开Powerpoint或Keynote的那一刻起，你就成为了一名设计师。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111309_76007.jpg" alt=""></p><p>你已经选择了一个可视化的沟通工具，因此你应当花点时间了解可视化沟通的一二件事。其主要原因之一，尤其对于那些身处商业世界的人来说，是你的同事会下意识地根据你PPT的视觉吸引力来对你本人做出判断。</p><p>如何培养出色的演示设计技巧？如果你还没得到建议的话，学学下面的十项技巧看看。等着瞧，如果你的同事注意到你的幻灯片开始变好，他们很可能会开始请你帮帮他们改进一下自己的片子！</p><p><strong>1 不要用内置样式</strong></p><p>为了说明这一点，我打开Powerpoint，随手抓起一个实际的缺省样式然后随便在上面写点文字。这个流程跟无数PPT设计师的工作流程几乎完全一致，其结果就是我读书和工作时看过无数遍的一个典型的幻灯片。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111605_33901.jpg" alt=""></p><p>（图中文字：最伟大的幻灯片 是不是很震撼！？）</p><p>这就是一个设计秘密，这个片子太恶心了； 跟你在Powerpoint里面发现的许多缺省样式一样的恶心。诚然，近些年来他们的货色已经有了明显的改善，而Keynote（苹果的演示工具）还有一些不错的模板，但是，你不该把这些视为核心手段，只能在时间紧迫万不得已时才用它们。</p><p>此处的关键点是定制发出的声音更有力。你的同事了解也使用那些Powerpoint的模板，如果你不在幻灯片的美感上下点功夫，你的同事马上就能觉察出来。</p><p>我知道，让非设计人员抛开模板似乎有些激进，但是你可以的！只要你开始动手前把本文的其他技巧也读完。否则的话其结果可能会比微软的设计师做出来的东西还要糟糕。</p><p><strong>2 使用有质量的照片</strong></p><p>照片是独自就能令你的演示出彩的最佳手段之一。它同时也是孤身就能把你的演示搞砸的最佳手段之一。“白色背景下的商业人士”看起来不错，但有点夸张了，显得有点呆板老套。</p><p>还有，在白色背景下光溜溜地放一张照片并不意味着它就是好照片。不要为了放照片而把难看和不合适的照片放上去。记住，没有照片好过糟糕照片。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111604_61302.jpg" alt=""></p><p>（图中文字：这位女士真把我吓到了）</p><p>作为例子，我们把上面的片子和下面的片子比较一下。看出不同了吗？下面片子的图片很独特、很诱人，不落俗套。不要掉进使用蹩脚呆板的艺术这种模式的泥潭，你可以抓住既免费又具有高品质的照片来做出更强有力的、更直观的声明。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111604_42573.jpg" alt=""></p><p><strong>找免费图片</strong></p><p>你说的这些神奇照片在哪里？对于入门者来说，可以看看Stock XCHNG，这是一个免费的主题摄影网站, 内容成千上万，质量良莠不齐。还有，你知不知道你可以进行Flickr 搜索来使用得到知识共享许可的内容？这些照片都是免费的，许多都只要求你列出其归属权，在幻灯片的最后加一张片子把照片来源的链接附上去即可。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111609_60031.jpg" alt=""></p><p>（图中文字：不错吧？）</p><p>上图就是一个例子，来自于Lauren Tucker，是Flickr上的一个得到知识共享许可的素材。</p><p><strong>3 单色系带来震撼</strong></p><p>你不必总是要靠花哨的照片或者疯狂的自定义背景来让PPT显得专业。用一个强大的单色系调色板就能做出精彩的演示。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111609_64157.jpg" alt=""></p><p>上面的片子就是一个极佳的例子，使用朴实无华的设计，毫无费力就创造出一个看起来棒极了的东西。无论你是否设计师你都可以做出来，对吧？</p><p>这里的关键在于必须非常谨慎地选择你的颜色。颜色太亮太搞笑的话会影响观众的眼睛。同时在辅助色彩要注意大量运用对比。在色彩理论上个速成班对你大有裨益。</p><p>如果你需要帮助建立调色板，看看以下三个免费工具。</p><p>Kuler</p><p>Kuler是在线色彩工具的典范。有数千个出色的预置色彩模板可供选择，你也可以利用这款既先进又好用的工具来生成自己的模板。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111609_21860.jpg" alt=""></p><p>Piknik</p><p>Piknik是地球上最基本的色彩工具之一，绝对是我的至爱之一。只需轻轻移动鼠标去改变颜色，滚动一下改变亮度，然后点击复制数值到粘贴板上，大功告成矣。<br><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111605_59390.jpg" alt=""></p><p>做网站的时候，我每天都用它来为颜色选用找感觉，包括它看起来会如何、如果覆盖整个屏幕效果会怎样、做幻灯片用哪个颜色好等等。</p><p>0to255</p><p>0to255也是我的至爱之一，是寻找颜色变化的一款非常震撼的工具。这让它在设计网站的边界和悬浮（hover）效果时表现出色，但你同样可以用它来为PPT的排版或其他要素寻找重点色。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111603_84168.jpg" alt=""></p><p><strong>4 为清晰明朗排版</strong></p><p>非设计人员老是强调要为演示文稿或合适的理由寻找合适的字体。成也萧何败萧何，合适的字体可以成就你的演示，也可能毁掉你的片子。在设计世界里，排版是一种重要的艺术形式，它真正可以为你想表达的东西搭建好舞台。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111603_42111.jpg" alt=""></p><p>记住，字体能够及时传达一种态度、一个观点，或任何其他因素。不要浏览字体列表去寻找“某个很酷的东西”，相反，你应该思考一下自己想要传达的信息是什么。</p><p>作为排版术如何仅凭其自身设计来进行沟通的例子，看看下面的字体。老式的serif字体往往给人以正规和专业的感觉，而sans-serif字体则既整洁又有现代感。</p><p><img src="http://www.umiwi.com/public/article_image/2011/04/20110401111605_42750.jpg" alt=""></p><p>人们在PPT中运用字体时，所犯下的最大错误 就是认为上面列出的前三个字体很乏味。这让他们跳到底下的那种字体去，因为觉得它更为独特、更加有趣。</p><p>如果你不是专业设计师，记住，前三个字体绝非无聊的，它们很安全。它们是样式很好看的字体，均经过专业的设计，能让你看起来不错，对，这正是它</p>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PPT </tag>
            
            <tag> 视觉 </tag>
            
            <tag> 设计 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>读书笔记：The Gestalt Principles</title>
      <link href="/post/e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-9athe-gestalt-principles.html"/>
      <url>/post/e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0-ef-bc-9athe-gestalt-principles.html</url>
      <content type="html"><![CDATA[<p>”<a href="http://t.sina.com.cn/1614282004" target="_blank" rel="noopener">蔡学镛<img src="http://img.t.sinajs.cn/t3/style/images/common/transparent.gif" alt="" title="新浪认证"></a>：做 GUI 设计的人必须了解 Gestalt 原则，这里有一篇简单的说明：<a href="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/gestaltprinc.htm" title="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/gestaltprinc.htm#continuation" target="_blank" rel="noopener">http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/gestaltprinc.htm</a>“ 前端开发的时候，讨论用户体验时也会需要考虑视觉效果。Gestalt是一个关于视觉感知的心理学名词，意为”统一整体“，包含五个部分的内容。 1】相似性（<strong>Similarity</strong>） <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/similarity/images/similarity01.gif" alt=""> 左图老鹰脖子下面的三角形和上面的三角形就有相似性。读者看到会下意识认为它们是”一组的“。         <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/similarity/images/anomaly01.gif" alt=""> 利用相似性可以视觉上突出重要部位，比如左图最右边的小人。     2】连续性（<strong>Continuation</strong>） <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/continuation/continuation_a.gif" alt="">   连续性就是迫使读者的眼睛向一个方向移动，比如读者的视线会随着弯曲的线条移动到枫叶上。         3】闭合（<strong>Closure</strong>） <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/closure/closure_a.gif" alt="">   <a href="http://graphicdesign.spokanefalls.edu/closure/meng.htm" target="_blank" rel="noopener"><img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/closure/images/mosaic_t.gif" alt=""></a>       闭合就是当形状足够有意义时，如左图和上图，读者会自己”闭合“没有闭合的图形。   4】位置接近（<strong>Proximity</strong>） <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/proximity/proxa.gif" alt=""><img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/proximity/proxb.gif" alt="">   对比左边二图，读者将位置相近的归为“一组”。 5】主体和背景（<strong>Figure and Ground</strong>） <strong>Figure</strong> 读者会明确区分主体和背景，如左图。主体和背景的区分非常明显。 <img src="http://graphicdesign.spokanefalls.edu/tutorials/process/gestaltprinciples/figure_ground/images/fig_grnd02.gif" alt="">然而有时候，背景和主体的关系不太寻常，可以使图形变得有趣（如左图）。</p>]]></content>
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
            <tag> 视觉 </tag>
            
            <tag> UI </tag>
            
            <tag> 用户体验 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>两个HighSlide类并存的解决方案</title>
      <link href="/post/e4-b8-a4-e4-b8-aahighslide-e7-b1-bb-e5-b9-b6-e5-ad-98-e7-9a-84-e8-a7-a3-e5-86-b3-e6-96-b9-e6-a1-88.html"/>
      <url>/post/e4-b8-a4-e4-b8-aahighslide-e7-b1-bb-e5-b9-b6-e5-ad-98-e7-9a-84-e8-a7-a3-e5-86-b3-e6-96-b9-e6-a1-88.html</url>
      <content type="html"><![CDATA[<p>（续此文《<a href="https://www.bokeyy.com/web-programming/30.html" target="_blank" rel="noopener">使用JSON和JQuery生成动态的父框架HighSlide展示</a>》）        这里的“两个并存”的目的是，当项目中已经存在一个HighSlide类并且调用hs.expand(this, paras)时paras中不含有 slideshowGroup 参数时，要不影响它们按原法调用，同时能够创建新的样式的HighSlide展示。        没有找到更好的办法，本人就是复制一份highslide-full.js，重命名为highslide-full-new.js，包含到<head>和</head>内。        然后将highslide-full-new.js的</p><ol><li>“if(!hs){ var hs=…”中的”hs“改成” hsNew“；</li><li>替换文件中所有的”hs.“和”hs[“分别为”hsNew.“和”hsNew[“；</li><li><p>将含有许多”<div>“标签的那两段代码中的hsNew.lang替换成hs.lang（不知为何）；</div></p><p>  然后在<head>与</head>  中间另一个HighSlide类的配置代码的后面，加入新的配置代码（这里用的是 修改版的 Horizontal thumbstrip at the bottom, white rounded 样式），如下：</p><p><div class="csharpcode">     <pre>hsNew.graphicsDir = <span class="str">‘/Scripts/Reference/highslide/graphics/‘</span>;</pre><br>    <pre class="alt">hsNew.align = <span class="str">‘center’</span>;</pre><br>    <pre>hsNew.transitions = [<span class="str">‘expand’</span>, <span class="str">‘crossfade’</span>];</pre><br>    <pre class="alt">hsNew.fadeInOut = <span class="kwrd">true</span>;</pre><br>    <pre>hsNew.dimmingOpacity = 0.8;</pre><br>    <pre class="alt">hsNew.outlineType = <span class="str">‘rounded-white’</span>;</pre><br>    <pre><span class="rem">//hsNew.captionEval = ‘this.thumb.alt’;</span></pre><br>    <pre class="alt">hsNew.marginBottom = 105; <span class="rem">// make room for the thumbstrip and the controls</span></pre><br>    <pre>hsNew.numberPosition = <span class="str">‘caption’</span>;</pre><br>    <pre class="alt">&#160;</pre><br>    <pre><span class="rem">// Add the slideshow providing the controlbar and the thumbstrip</span></pre><br>    <pre class="alt">hsNew.addSlideshow({</pre><br>    <pre>    <span class="rem">//slideshowGroup: ‘group1’,</span></pre><br>    <pre class="alt">    interval: 5000,</pre><br>    <pre>    repeat: <span class="kwrd">false</span>,</pre><br>    <pre class="alt">    useControls: <span class="kwrd">true</span>,</pre><br>    <pre>    overlayOptions: {</pre><br>    <pre class="alt">className: <span class="str">‘text-controls’</span>,</pre><br>    <pre>position: <span class="str">‘bottom center’</span>,</pre><br>    <pre class="alt">relativeTo: <span class="str">‘viewport’</span>,</pre><br>    <pre>offsetY: -60</pre><br>    <pre class="alt">    },</pre><br>    <pre>    thumbstrip: {</pre><br>    <pre class="alt">position: <span class="str">‘bottom center’</span>,</pre><br>    <pre>mode: <span class="str">‘horizontal’</span>,</pre><br>    <pre class="alt">relativeTo: <span class="str">‘viewport’</span></pre><br>    <pre>    }</pre><br>    <pre class="alt">});</pre>  </div>  <style type="text/css"><br />.csharpcode, .csharpcode pre<br />{<br /> font-size: small;<br /> color: black;<br /> font-family: consolas, “Courier New”, courier, monospace;<br /> background-color: #ffffff;<br />    /<em>white-space: pre;</em>/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt <br />{<br /> background-color: #f4f4f4;<br />    width: 100%;<br />  margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }</style><br></p><p>&#160;&#160;&#160; 最后在iframe里面加入此文《<a href="https://www.bokeyy.com/web-programming/30.html" target="_blank" rel="noopener">使用JSON和JQuery生成动态的父框架HighSlide展示</a>》内的代码，即可。</p></li></ol>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HighSlide </tag>
            
            <tag> 并存 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>使用JSON和JQuery生成动态的父框架HighSlide展示</title>
      <link href="/post/e4-bd-bf-e7-94-a8json-e5-92-8cjquery-e7-94-9f-e6-88-90-e5-8a-a8-e6-80-81-e7-9a-84-e7-88-b6-e6-a1-86-e6-9e-b6highslide-e5-b1-95-e7-a4-ba.html"/>
      <url>/post/e4-bd-bf-e7-94-a8json-e5-92-8cjquery-e7-94-9f-e6-88-90-e5-8a-a8-e6-80-81-e7-9a-84-e7-88-b6-e6-a1-86-e6-9e-b6highslide-e5-b1-95-e7-a4-ba.html</url>
      <content type="html"><![CDATA[<pre><code>目标是实现一个函数，在不影响其它的已有HighSlide用原来的方式调用的情况下，能够共存另外一种Style的相册，其中，所找到的官方案例链接：[http://www.roadrash.no/hs-support/2galleries-horizontal-strip+floating-caption.html](http://www.roadrash.no/hs-support/2galleries-horizontal-strip+floating-caption.html &quot;http://www.roadrash.no/hs-support/2galleries-horizontal-strip+floating-caption.html&quot;)。但是官方的案例，虽然可以实现两个不同Stlye的Gallery并存，但是必须两种调用都指定 slideshowGroup 参数才能实现——显然无法要求已经存在的HighSlide调用都更改过来。因此此种途径失败。</code></pre><p> 然后是iframe内的代码，能在父框架添加层并展示highSlide相册。当hsNew.全部替换为hs.的时候，是同原来的类样式相同，反之可使用自定义新样式（参考《<a href="https://www.bokeyy.com/web-programming/31.html" target="_blank" rel="noopener">两个HighSlide类并存的解决方案</a>》）。代码如下：</p><script type="text/javascript">function HsGallery(id) {    $('#HsGallery', parent.document).remove();//注意要remove掉HsGallery，否则似乎有时加载会很慢    $(top.document.body).append('<div id="HsGallery"  class="highslide-gallery" style="display:none;"></div>');    $.getJSON('JSON地址' \+ id, function(data) {        var i = 1;        if (data\[0\]) {            $('#HsGallery', parent.document).html('');            if (data\[0\].isExist) {                $('#HsGallery', parent.document).append('<a id="thumb' \+ id + '" href="' \+ data\[0\].imgPath                        \+ '" class="highslide" onclick="return hsNew.expand(this)"><img src="'                        \+ data\[0\].imgPath + '" alt="' \+ data\[0\].fileName.split("_")\[0\] + '" /></a>');            } else {                $('#HsGallery', parent.document).append('<a id="thumb' \+ id + '" class="highslide" onclick="return hsNew.expand(this'                +')"><img alt="' \+ data\[0\].fileName.split("_")\[0\] + '" /></a>');                getImg($("img:last", parent.document)\[0\], "m", data\[0\].ext);                $("a:last", parent.document)\[0\].href = $("img:last", parent.document)\[0\].src.replace("_m", "_l");            }            $('#HsGallery', parent.document).append('<div class="highslide-caption"><div style="text-align:left;">' \+ data\[0\].fileName.split("_")\[0\]                    \+ '</div><div style="text-align:left;"><a href="javascript:;" onclick="DownLoadById(' \+ data\[0\].docId + ', '                    \+ data\[0\].lastVer + ');" style="color:gray; font-weight:bolder;">下载</a>&nbsp;<a href="成果地址'                    \+ id + '" style="color:gray; font-weight:bolder;">进入查看成果</a></div></div>');        } else {            Alert("此成果没有预览..");        }        while (data\[i\]) {            if (data\[i\].isExist) {                $('#HsGallery', parent.document).append('<a href="' \+ data\[i\].imgPath                        \+ '" class="highslide" onclick="return hsNew.expand(this’                        ')"><img src="' \+ data\[i\].imgPath + '" alt="' \+ data\[i\].fileName.split("_")\[0\] + '" /></a>');            } else {                $('#HsGallery', parent.document).append('<a class="highslide" onclick="return hsNew.expand(this'                \+ ')"><img alt="' \+ data\[i\].fileName.split("_")\[0\] + '" /></a>');                getImg($("img:last", parent.document)\[0\], "m", data\[i\].ext);                $("a:last", parent.document)\[0\].href = $("img:last", parent.document)\[0\].src.replace("_m", "_l");            }            $('#HsGallery', parent.document).append('<div class="highslide-caption"><div style="text-align:left;">' \+ data\[i\].fileName.split("_")\[0\]                    \+ '</div><div style="text-align:left;"><a href="javascript:;" onclick="DownLoadById(' \+ data\[i\].docId + ', '                    \+ data\[i\].lastVer + ');" style="color:gray; font-weight:bolder;">下载</a>&nbsp;<a href="成果地址'                    \+ id + '" style="color:gray; font-weight:bolder;">进入查看成果</a></div></div>');            i = i + 1;        }        if (data\[0\]) {            top.hsNew.expand($("#thumb" \+ id, parent.document)\[0\]);        }    });}</script><p><br><br><br>.csharpcode, .csharpcode pre<br>{<br> font-size: small;<br> color: black;<br> font-family: consolas, “Courier New”, courier, monospace;<br> background-color: #ffffff;<br> /<em>white-space: pre;</em>/<br>}<br>.csharpcode pre { margin: 0em; }<br>.csharpcode .rem { color: #008000; }<br>.csharpcode .kwrd { color: #0000ff; }<br>.csharpcode .str { color: #006080; }<br>.csharpcode .op { color: #0000c0; }<br>.csharpcode .preproc { color: #cc6633; }<br>.csharpcode .asp { background-color: #ffff00; }<br>.csharpcode .html { color: #800000; }<br>.csharpcode .attr { color: #ff0000; }<br>.csharpcode .alt <br>{<br> background-color: #f4f4f4;<br> width: 100%;<br> margin: 0em;<br>}<br>.csharpcode .lnum { color: #606060; }<br><br><br><br><br><br><br><br><br>.csharpcode, .csharpcode pre<br>{<br> font-size: small;<br> color: black;<br> font-family: consolas, “Courier New”, courier, monospace;<br> background-color: #ffffff;<br> /<em>white-space: pre;</em>/<br>}<br>.csharpcode pre { margin: 0em; }<br>.csharpcode .rem { color: #008000; }<br>.csharpcode .kwrd { color: #0000ff; }<br>.csharpcode .str { color: #006080; }<br>.csharpcode .op { color: #0000c0; }<br>.csharpcode .preproc { color: #cc6633; }<br>.csharpcode .asp { background-color: #ffff00; }<br>.csharpcode .html { color: #800000; }<br>.csharpcode .attr { color: #ff0000; }<br>.csharpcode .alt <br>{<br> background-color: #f4f4f4;<br> width: 100%;<br> margin: 0em;<br>}<br>.csharpcode .lnum { color: #606060; }  </p><pre><code>最后，推荐HighSlide的官方傻瓜相册代码生成工具（[HighSlide Editor](http://highslide.com/editor/)）地址 [http://highslide.com/editor/](http://highslide.com/editor/ &quot;http://highslide.com/editor/&quot;) ，只要懂点英文就能轻松做出自己想要的效果，强烈推荐！</code></pre>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
            <tag> JQuery </tag>
            
            <tag> HighSlide </tag>
            
            <tag> JSON </tag>
            
            <tag> 两种风格并存 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>使用HighSlide制作分组相册</title>
      <link href="/post/e4-bd-bf-e7-94-a8highslide-e5-88-b6-e4-bd-9c-e5-88-86-e7-bb-84-e7-9b-b8-e5-86-8c.html"/>
      <url>/post/e4-bd-bf-e7-94-a8highslide-e5-88-b6-e4-bd-9c-e5-88-86-e7-bb-84-e7-9b-b8-e5-86-8c.html</url>
      <content type="html"><![CDATA[<p>刚刚研究了下HighSlide，并将其examples目录下的 gallery-horizontal-strip.html 根据 mini-galleries.html 改造成了分组相册。方法是将 gallery-horizontal-strip.html 中的onclick属性改成和 mini-galleries.html 一样即可。感叹下，真是个好用的漂亮的自由定制的Javascript网络相册代码库啊 <img src="https://www.bokeyy.com/wp-content/uploads/2011/3/wlEmoticon-openmouthedsmile_2.png" alt="大笑">。代码如下，文件放在HighSlide根目录下即可。 因为Z-Blog的原因，某些行的代码可能显示不全，但是拖动鼠标选定所有行是可以复制到完整的代码的。</p><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</a></p><html xmlns="http://www.w3.org/1999/xhtml"><br><br><br><br><head><br><br><br><br>    <title>HighSlide</title><br><br><br><br></head><br><br><br><br><script type="text/javascript" src="highslide/highslide-full.js"></script><br><br><br><br><link rel="stylesheet" type="text/css" href="highslide/highslide.css"><br><br><br><br><script type="text/javascript"><br><br><br><br>    hs.graphicsDir = ‘highslide/graphics/‘;<br><br><br><br>    hs.align = ‘center’;<br><br><br><br>    hs.transitions = [‘expand’, ‘crossfade’];<br><br><br><br>    hs.fadeInOut = true;<br><br><br><br>    hs.dimmingOpacity = 0.8;<br><br><br><br>    hs.outlineType = ‘rounded-white’;<br><br><br><br>    hs.captionEval = ‘this.thumb.alt’;<br><br><br><br>    hs.marginBottom = 105; // make room for the thumbstrip and the controls<br><br><br><br>    hs.numberPosition = ‘caption’;<br><br><br><br><br><br>    // Add the slideshow providing the controlbar and the thumbstrip<br><br><br><br>    hs.addSlideshow({<br><br><br><br>        //slideshowGroup: ‘group1’,<br><br><br><br>        interval: 5000,<br><br><br><br>        repeat: false,<br><br><br><br>        useControls: true,<br><br><br><br>        overlayOptions: {<br><br><br><br>            className: ‘text-controls’,<br><br><br><br>            position: ‘bottom center’,<br><br><br><br>            relativeTo: ‘viewport’,<br><br><br><br>            offsetY: -60<br><br><br><br>        },<br><br><br><br>        thumbstrip: {<br><br><br><br>            position: ‘bottom center’,<br><br><br><br>            mode: ‘horizontal’,<br><br><br><br>            relativeTo: ‘viewport’<br><br><br><br>        }<br><br><br><br>    });<br><br><br><br></script><br><br><br><br><body><br><br><br><br><h2>分组幻灯片测试</h2><br><br><br><br><div class="highslide-gallery" style="width: 600px; margin: auto"><br><br><br><br><!-- 4) This is how you mark up the thumbnail images with an anchor tag around it. The anchor's href attribute defines the URL of the full-size image. Given the captionEval option is set to 'this.img.alt', the caption is grabbed from the alt attribute of the thumbnail image.--><br><br><br><br>    <a class="highslide" href="images/thumbstrip01.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip01.thumb.png" alt="Mountain valley"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip02.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip02.thumb.png" alt="Windy landscape"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip03.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip03.thumb.png" alt="Sunset in the mountain"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip04.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip04.thumb.png" alt="Resting skier"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip05.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip05.thumb.png" alt="Contemplating dog"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip06.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip06.thumb.png" alt="Cabins"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip07.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip07.thumb.png" alt="Dark skies in sunny landscape"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip08.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip08.thumb.png" alt="Blue sky"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip09.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip09.thumb.png" alt="Ptarmigan"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip10.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip10.thumb.png" alt="Ptarmigans"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip11.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip11.thumb.png" alt="Two cabins"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip12.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip12.thumb.png" alt="Patterns in the snow"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip13.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip13.thumb.png" alt="Cabins"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip14.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip14.thumb.png" alt="Old stone cabins"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip15.jpg" onclick="return hs.expand(this, { slideshowGroup: 1 } )"><br><br><br><br>        <img src="images/thumbstrip15.thumb.png" alt="A litte open water"></a><br><br><br><br><br><br></div><br><br><br><br><div class="highslide-gallery" style="width: 600px; margin: auto"><br><br><br><br><!-- 4) This is how you mark up the thumbnail images with an anchor tag around it. The anchor's href attribute defines the URL of the full-size image. Given the captionEval option is set to 'this.img.alt', the caption is grabbed from the alt attribute of the thumbnail image.--><br><br><br><br>    <a class="highslide" href="images/thumbstrip16.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip16.thumb.png" alt="Dipper"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip17.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip17.thumb.png" alt="Dipper"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip18.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip18.thumb.png" alt="Mountains"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip19.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip19.thumb.png" alt="Birch trees"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip20.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip20.thumb.png" alt="Highland woods"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip21.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip21.thumb.png" alt="Frozen lake"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip22.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip22.thumb.png" alt="Spring in the mountains"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip23.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip23.thumb.png" alt="Spring in the mountains"></a><br><br><br><br><br><br>    <a class="highslide" href="images/thumbstrip24.jpg" onclick="return hs.expand(this, { slideshowGroup: 2 } )"><br><br><br><br>        <img src="images/thumbstrip24.thumb.png" alt="Fjord landscape"></a><br><br><br><br><br><br><br><br></div><br><br><br><br><br><br></body><br><br><br><br></html><p><br><br><br>.csharpcode, .csharpcode pre<br>{<br> font-size: small;<br> color: black;<br> font-family: consolas, “Courier New”, courier, monospace;<br> background-color: #ffffff;<br> /<em>white-space: pre;</em>/<br>}<br>.csharpcode pre { margin: 0em; }<br>.csharpcode .rem { color: #008000; }<br>.csharpcode .kwrd { color: #0000ff; }<br>.csharpcode .str { color: #006080; }<br>.csharpcode .op { color: #0000c0; }<br>.csharpcode .preproc { color: #cc6633; }<br>.csharpcode .asp { background-color: #ffff00; }<br>.csharpcode .html { color: #800000; }<br>.csharpcode .attr { color: #ff0000; }<br>.csharpcode .alt <br>{<br> background-color: #f4f4f4;<br> width: 100%;<br> margin: 0em;<br>}<br>.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HighSlide </tag>
            
            <tag> JS库 </tag>
            
            <tag> 分组相册 </tag>
            
            <tag> 网络相册 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JQuery 的表单验证、Ajax 提交和显示（无刷新）</title>
      <link href="/post/jquery-norefresh-form.html"/>
      <url>/post/jquery-norefresh-form.html</url>
      <content type="html"><![CDATA[<p>上班第一天，练习了个无刷新的 JQuery，改了改某项目的代码。奉上练习代码（包含 JQuery 的表格操作），如下。需要自行下载”jquery-latest.min.js”并放在网页同目录下，亦可更改src=”jquery-latest.min.js”为官方jquery-latest.min.js的地址。</p><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;" target="_blank" rel="noopener">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</a></p><html xmlns="http://www.w3.org/1999/xhtml"><br><br><head><br><br>    <title>Form</title><br><br>    <script src="jquery-latest.min.js"></script><br><br>    <script language="javascript"><br><br>        $(document).ready(function() {<br><br>            $(“#submit”).click(function() {<br><br>                check();<br><br>            });<br><br>        });<br><br>        function back() {<br><br>            $(“#form_reg”).css(“display”, “inline”);<br><br>            $(“#msg_reg”).get(0).style.visibility = “hidden”;<br><br>        }<br><br>        function check() {<br><br>            var dataValidated = true;<br><br>            var data_reg = $(“#form_reg”).serializeArray();<br><br>            jQuery.each(data_reg, function(i, field) {<br><br>                if (field.value == “”) {<br><br>                    alert(field.name + “的值不能为空！”);<br><br>                    dataValidated = false;<br><br>                    return false;<br><br>                }<br><br>            });<br><br>            $(“<br><br>            if (dataValidated) {<br><br>                $.ajax({<br><br>                    type: “POST”,<br><br>                    url: “<a href="http://www.bokeyy.com/&quot;">http://www.bokeyy.com/&quot;</a>,<br><br>                    data: $(“#form_reg”).serialize(),<br><br>                    success: function(msg) {<br><br>                        alert(“提交成功”);<br><br>                    }<br><br>                });<br><br>                $(“#form_reg”).css(“display”, “none”);<br><br>                $(“#msg_reg”).get(0).style.visibility = “visible”;<br><br>                showValue(data_reg);<br><br>            }<br><br>        }<br><br>        function showValue(data) {<br><br>            $(“#panel_reg”).css(“display”, “inline”);<br><br>            $(“#panel_reg2”).append(“<tr>“);<br><br>            jQuery.each(data, function(i, field) {<br><br>                $(“#panel_reg2”).append(“<td>“ + field.value + “</td>“);<br><br>            });<br><br>            $(“#panel_reg2”).append(“</tr>“);<br><br>        }<br><br>    </script><br><br></head><br><br><body><br><br><form id="form_reg"><br><br>    注册表单<br><br><br>    <label>姓名<input type="text" name="name" onkeyup="value=value.replace(/\[^\\u4E00-\\u9FA5\]/g,'')" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/\[^\\u4E00-\\u9FA5\]/g,''))" maxlength="4"></label><br><br><br>    <label>性别：<br><br>        <label><input type="radio" name="sex" value="男" checked>男</label><br><br>        <label><input type="radio" name="sex" value="女">女</label><br><br>    </label><br><br><br>    <label>手机：<input type="text" name="tel" id="tel"></label><br><br><br>    <label>邮箱：<input type="text" name="email" id="email"></label><br><br><br>    <label>操作<input type="button" id="submit" value="无刷新提交"></label><br><br></form><br><br><div id="msg_reg" style="visibility:hidden;">已经提交成功 <a href="#" onclick="back();">继续添加</a></div><br><br><table id="panel_reg" style="display:none;"><br><br>    <thead><br><br>        <tr><br><br>            <th>姓名</th><br><br>            <th>性别</th><br><br>            <th>手机</th><br><br>            <th>邮箱</th><br><br>        </tr><br><br>    </thead><br><br>    <tbody id="panel_reg2"><br><br>    </tbody><br><br></table><br><br></body><br><br></html><p>.csharpcode, .csharpcode pre{ font-size: small; color: black; font-family: consolas, “Courier New”, courier, monospace; background-color: #ffffff; /*white-space: pre;*/}.csharpcode pre { margin: 0em; }.csharpcode .rem { color: #008000; }.csharpcode .kwrd { color: #0000ff; }.csharpcode .str { color: #006080; }.csharpcode .op { color: #0000c0; }.csharpcode .preproc { color: #cc6633; }.csharpcode .asp { background-color: #ffff00; }.csharpcode .html { color: #800000; }.csharpcode .attr { color: #ff0000; }.csharpcode .alt { background-color: #f4f4f4; width: 100%; margin: 0em;}.csharpcode .lnum { color: #606060; }</p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
            <tag> AJAX </tag>
            
            <tag> 无刷新 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>求职网页程序员的历程(四)</title>
      <link href="/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-e5-9b-9b.html"/>
      <url>/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-e5-9b-9b.html</url>
      <content type="html"><![CDATA[<p>决定从下周一起，每天早起跑步去海韵食堂吃早饭，然后开心的工作。银禾数码技术有限公司说，要让生物系的那个前端开发工程师带我，让我有真正的项目经验。<a href="https://www.bokeyy.com/wp-content/uploads/2011/3/NA7XG9M7K8SDMMOM~8%5DOUAA_2.gif" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/NA7XG9M7K8SDMMOM~8%5DOUAA_thumb.gif" alt="NA7XG9M7K8SDMMOM~8]OUAA" title="NA7XG9M7K8SDMMOM~8]OUAA"></a>这不就是幸福。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 程序员 </tag>
            
            <tag> 找工作 </tag>
            
            <tag> 求职 </tag>
            
            <tag> 锻炼 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>50元人民币每年的YYMWZ.COM顶级域名注册</title>
      <link href="/post/50-e5-85-83-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84yymwz-com-e9-a1-b6-e7-ba-a7-e5-9f-9f-e5-90-8d-e6-b3-a8-e5-86-8c.html"/>
      <url>/post/50-e5-85-83-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84yymwz-com-e9-a1-b6-e7-ba-a7-e5-9f-9f-e5-90-8d-e6-b3-a8-e5-86-8c.html</url>
      <content type="html"><![CDATA[<p>国内购买顶级域名往往要60-70元每年。其实只要懂英文，或是能搜索到网上的在 <a href="http://www.godaddy.com/" target="_blank" rel="noopener">Godaddy.com</a> （美国最大的域名、主机服务商之一）购买域名的中文教程，就可以使用优惠码去 <a href="http://www.godaddy.com/" target="_blank" rel="noopener">Godaddy.com</a> 自助购买。</p><p>由于<a href="http://www.yuansite.info/" target="_blank" rel="noopener">袁袁网站</a>的顶级域名<a href="http://www.yuansite.info/" target="_blank" rel="noopener">yuansite.info</a>不够好记，需要注册新的国际顶级域名。今天我们最终选择了<a href="http://www.yuansite.info/" target="_blank" rel="noopener">YYMWZ.COM</a>（“袁袁们网站”的拼音字头）。</p><p>确定下购买的域名以后，首先Google <a href="http://www.godaddy.com/" target="_blank" rel="noopener">Godaddy.com</a> 的优惠码或者优惠的购买链接。我找的是这个链接：<a href="http://affiliate.godaddy.com/redirect/42C46209816F33A89DC4772308E36D5E" title="GoDaddy域名$7.49 超级优惠码链接" target="_blank" rel="noopener">GoDaddy域名$7.49 超级优惠码链接</a>（来自此博文：<a href="http://blog.sina.com.cn/s/blog_6024e0730100l7sx.html" title="http://blog.sina.com.cn/s/blog_6024e0730100l7sx.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_6024e0730100l7sx.html</a>）。进入以后，懂英文就比较好操作。如果不懂也没关系，这里有详细的中文图解教程：<a href="http://www.mghost.cn/thread-410-1-5.html" title="http://www.mghost.cn/thread-410-1-5.html" target="_blank" rel="noopener">http://www.mghost.cn/thread-410-1-5.html</a>。按照教程一步一步来就好啦！</p><p>推荐使用双币信用卡进行支付，简单快捷，无须网银。只要记得点击”Auto Renewal”的链接（如果找不到，请留言询问，乐意解答）关闭掉自动续费即可。还支持PayPal和支付宝。如果使用支付宝支付，汇率会按当天的汇率计算。</p><p>这样下来，购买一个顶级.COM域名需要7.49美元，加上0.18美元的附加费一共$7.67。按今天的汇率 $1:￥6.5568，折合人民币50.2907元。是不是便宜了很多呢？除此之外，<a href="http://www.godaddy.com/" target="_blank" rel="noopener">Godaddy.com</a>会不定期推出优惠的活动，在上面同时购买多个域名或其它服务还可享受组合优惠噢！</p><p>配合这次域名更改，“袁袁网站”、“袁袁们的网站”、“袁袁们网站”都将正名为“<a href="http://www.yuansite.info/" target="_blank" rel="noopener">袁袁们网站</a>”，可以同时通过 <a href="http://www.yuansite.info/" target="_blank" rel="noopener">http://www.yuansite.info/</a> 和 <a href="http://www.YYMWZ.com/" target="_blank" rel="noopener">http://www.YYMWZ.com/</a> 访问，欢迎常来！</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GoDaddy </tag>
            
            <tag> 优惠码 </tag>
            
            <tag> 域名 </tag>
            
            <tag> 域名注册 </tag>
            
            <tag> 低价位 </tag>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[收藏]Web程序员小抄大全</title>
      <link href="/post/e6-94-b6-e8-97-8fweb-e7-a8-8b-e5-ba-8f-e5-91-98-e5-b0-8f-e6-8a-84-e5-a4-a7-e5-85-a8.html"/>
      <url>/post/e6-94-b6-e8-97-8fweb-e7-a8-8b-e5-ba-8f-e5-91-98-e5-b0-8f-e6-8a-84-e5-a4-a7-e5-85-a8.html</url>
      <content type="html"><![CDATA[<p>本文链接来自<a href="http://coolshell.cn/" target="_blank" rel="noopener">酷壳-CoolShell.cn</a></p><h4 id="Web开发人员速查卡-http-coolshell-cn-articles-3684-html"><a href="#Web开发人员速查卡-http-coolshell-cn-articles-3684-html" class="headerlink" title="Web开发人员速查卡         http://coolshell.cn/articles/3684.html"></a>Web开发人员速查卡         <a href="http://coolshell.cn/articles/3684.html" target="_blank" rel="noopener">http://coolshell.cn/articles/3684.html</a></h4><h4 id="25个jQuery的编程小抄-http-coolshell-cn-articles-2964-html"><a href="#25个jQuery的编程小抄-http-coolshell-cn-articles-2964-html" class="headerlink" title="25个jQuery的编程小抄     http://coolshell.cn/articles/2964.html"></a>25个jQuery的编程小抄     <a href="http://coolshell.cn/articles/2964.html" target="_blank" rel="noopener">http://coolshell.cn/articles/2964.html</a></h4>]]></content>
      
      <categories>
          
          <category> 转载和翻译 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 速查 </tag>
            
            <tag> 小抄 </tag>
            
            <tag> 转载 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>求职网页程序员的历程（三）</title>
      <link href="/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-b8-89-ef-bc-89.html"/>
      <url>/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-b8-89-ef-bc-89.html</url>
      <content type="html"><![CDATA[<p>明天上午9:30面试地点在厦门市思明区软件园一期华讯楼1F-D的银禾数码。看了职位要求，感觉还是好汗颜~~JQuery和正则表达式真是求职必备阿！</p><p>这么说也许并不太对，也许应该是，要做前端开发往往要求精通CSS、XHTML、JQuery、正则表达式；后台则往往要求精通各种组件、Function &amp; Sub、正则表达式和SQL Sever的一些比较高级的东西。相比而言，我都有基础，但都太基础了些。</p><p>如果在自学一段时间再出去投递简历，会好一些吧？那样会很饿吧……或者干脆努力做自由职业者好了，看我这个天天不好好做网页的样子……</p><p>不论如何，吃个饭，看看书，早点洗脸睡觉，顺便可以做个面膜。准备明天的面试。</p><p>职位要求：<br>1、精通各种Web前端技术，包括Javascript/XHTML/XML/CSS等<br>2、深刻理解Web标准，对可用性、可访问性等相关知识有实际的了解和实践经验；<br>3、有基于Ajax的丰富应用开发经验，至少精通一种Ajax框架，精通JQuery优先；<br>4、精通ASP语言开发，并有大型项目经验，精通ASP.net也可；<br>5、个性乐观开朗，逻辑性强，善于和各种背景的人合作；<br>6、以上工作要求两年以上的工作经验，本科以上学历<br>工作职责：<br>1、实现公司Web项目前端交互HTML\Javascrip及动态效果编写<br>2、参与网站前台程序的编制，语言方向ASP/ASP.net（C#）<br>3、具有较强的团队合作精神和沟通能力，能适应工作压力<br>要求严格，一旦录用，公司提供良好薪酬待遇。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网页 </tag>
            
            <tag> 程序员 </tag>
            
            <tag> 找工作 </tag>
            
            <tag> 求职 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>求职网页程序员的历程（二）</title>
      <link href="/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-ba-8c-ef-bc-89.html"/>
      <url>/post/e6-b1-82-e8-81-8c-e7-bd-91-e9-a1-b5-e7-a8-8b-e5-ba-8f-e5-91-98-e7-9a-84-e5-8e-86-e7-a8-8b-ef-bc-88-e4-ba-8c-ef-bc-89.html</url>
      <content type="html"><![CDATA[<p><a href="http://jennal.cn/" title="郑玏的主页" target="_blank" rel="noopener">Jennal</a>将我的简历发给了厦门游家网络4399的人事，今天面试。这是面过的比较大的一家公司，占用了一整栋楼，每层都能看见几十个工位。前台MM和人事都很和善的，我被盘问了一些关于学习工作经历的问题以后，就被要求做一个C++的笔试。 笔试的内容无非是些指针、虚拟内存、排序算法等。尚未做完，对方看了看我的试卷，让进入下一轮。这时来了个MM问我求职意向里面“PHP/ASP程序员”更倾向于哪个。我毫不犹豫说ASP，于是被要求做她手头的卷子。 我一看有挺多不会，提出来。对方说，没关系，会多少写多少。写完后来见我的主管——居然不是<a href="http://jennal.cn/" title="郑玏的主页" target="_blank" rel="noopener">Jennal</a>……</p><p>第二轮笔试的问题，举例：JQuery的最新版本是？（从没想过要用这东西）；WebEditor的最新版本是？（需要用这东西的时候我想起了Wordpress和Z-Blog）；手机号码的正则表达式是？（考研考出来，这里居然又考出来……一向Ctrl+C别人的）；Function和Sub的区别是？（经常写居然还答错了）；CSS display:none;和visibility:hidden;的区别？（猜到了一个占位一个不占，没写上去）；CSS display:inline;和float:left;的区别是？（什么？？原来这两个有联系？？）；HTML <b>和<strong>的区别是？（我一直以为是共通的）；Varchar和char的区别是？（恩，完全不在关心范围内，答案好像是：</strong></b></p><p>char        8000字符的定长字符数据 nvarchar 4000字符的可变字符数据 nchar      4000字符的定长字符数据 varchar   8000字符的可变字符数据</p><p>）；VB调用参数的数值前面加ByVal的作用是？（？？？……Google了下答案是：如果想改变这个变量在内存中的值，就byref否则就byval）</p><p>后来我被通知晚上或者明天QQ给结果，就这么结束了这个面试过程。</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 程序员 </tag>
            
            <tag> 找工作 </tag>
            
            <tag> 求职 </tag>
            
            <tag> 笔试 </tag>
            
            <tag> 简历 </tag>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>厦门拍写真经验分享</title>
      <link href="/post/e5-8e-a6-e9-97-a8-e6-8b-8d-e5-86-99-e7-9c-9f-e7-bb-8f-e9-aa-8c-e5-88-86-e4-ba-ab.html"/>
      <url>/post/e5-8e-a6-e9-97-a8-e6-8b-8d-e5-86-99-e7-9c-9f-e7-bb-8f-e9-aa-8c-e5-88-86-e4-ba-ab.html</url>
      <content type="html"><![CDATA[<p>第一部分 生活照 <a href="https://www.bokeyy.com/wp-content/uploads/2011/3/img_0191_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/img_0191_thumb.jpg" alt="图像0191" title="图像0191"></a> 2011年3月初回厦门的手机自拍。 突然拍写真的原因就是，想参选古剑奇谭电视剧的演员，演芙蕖小师妹。不过等到第一次写真拍回来了以后，才觉得这个想法是多么不的现实…… 之后就完全是为了拍自己满意的照片而照了。其实还有其它原因，列举如下： 1、第一次写真自己只出了不到一百块，有人买单，第二次只108块； 2、照相回来把照片亮出来会被夸； 3、灰常坚信之前拍的照片都不够好，拍完橙色摄影后则想拍新风格。 总结一下经验，以供参考。 第二部分 LAMAN Style 写真 简评：直到我把相片到处传看、得到评论的时候才意识到这次拍的不是那么物有所值。 这期间还发生了一件窘事，就是我拿着艺术照不知道如何是好，就用它报名了所谓“第五届大中华全国平面模特大赛”。结果直到交300块钱当了他们的“厦门思明区形象代言人”并且义务把这些照片挂在他们网站上以后，才觉得自己傻了……恩，虚荣嘛，就是这样的。 价格：共约￥230.00，其中： 订金：￥45.00 隐性消费：￥80.00（安瓶、假睫毛、粉扑） 购买底片：约￥100.00 照片：（全套照片：<a href="http://www.yymwz.com/photos/%E5%8E%A6%E5%A4%A7%E5%A5%B3%E7%94%9F" target="_blank" rel="noopener">yymwz.com上的查看照片链接</a>） <a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07965.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07965_thumb.jpg" alt="DSC07965" title="DSC07965"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07937.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07937_thumb.jpg" alt="SONY DSC                     " title="SONY DSC                     "></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07968.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07968_thumb.jpg" alt="DSC07968" title="DSC07968"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07970.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC07970_thumb.jpg" alt="DSC07970" title="DSC07970"></a> 第三部分：浪漫芭莎“公主日记”写真（<a href="http://www.tg00.com/team.php?id=280" target="_blank" rel="noopener">团购</a>） 简评：我去拍的时候很困，然后摄影师因为团购太多人心情不佳，然后我们选片也马马虎虎，就这样了。 私以为这是典型的团购失败的商家代表。 消费：共￥108.00，其中： 订金：￥48.00（就是团购价） 隐性消费：￥60.00（安瓶、粉扑） 购买底片：￥0.00 照片：（全套照片：<a href="http://www.yymwz.com/photos/%e5%85%b0%e8%8a%b1%e8%bd%bf%e4%b8%bb" target="_blank" rel="noopener">yymwz.com上的查看照片链接</a>） <img src="https://www.bokeyy.com/wp-content/uploads/2011/3/16_37_thumb.jpg" alt=""><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/3-7_copy_thumb.jpg" alt=""> 第四部分：橙色摄影“浪漫冬季”写真（<a href="http://www.tg00.com/team.php?id=422" target="_blank" rel="noopener">团购</a>） 简评：本人看过其它MM的片子，发现风格都差不多，就是生活化、自然，连拍摄点都差不多。 另外橙色摄影没什么衣服，确切的说是除了一两件以外没有别的衣服。不过这一切都不妨碍大家评论拍的真是比前两家好太多了～～ 这位摄影师认为，照片的用处是记录生活的自然瞬间，而不是傻傻的摆姿势。 消费：共￥179.00，其中： 订金：￥67.00（就是团购价） 隐性消费：￥0.00（无，这家商家终于是不欺客的了） 购买底片：￥112.00（团购价16元一张底片） 照片：（部分照片：<a href="http://www.yymwz.com/romantic-winter" target="_blank" rel="noopener">yymwz.com上的查看照片链接</a>） <a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0115_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0115_thumb.jpg" alt="DSC_0115" title="DSC_0115"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0135_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0135_thumb.jpg" alt="DSC_0135" title="DSC_0135"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0098_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0098_thumb.jpg" alt="DSC_0098" title="DSC_0098"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0096_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0096_thumb.jpg" alt="DSC_0096" title="DSC_0096"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0080_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/DSC_0080_thumb.jpg" alt="DSC_0080" title="DSC_0080"></a> 第五部分：爵配摄影“我的绝配”写真（<a href="http://www.tg00.com/team.php?id=317" target="_blank" rel="noopener">团购</a>） 简评：拍过的ＭＭ说这家的才是比较“艺术照”的艺术照；我妈的说法就是：小妖精似的。 消费：共￥258.00，其中 订金：￥58.00（就是团购价） 隐性消费：￥0.00（就是没有隐性消费才得到了很多人的好评） 购买底片：￥200.00（团购价20元一张底片） 照片：（全套照片：<a href="http://www.yymwz.com/web-programming/%e8%a2%81%e8%a2%81%e4%bb%ac%e7%9a%84%e7%bd%91%e7%ab%99%e5%bd%a2%e8%b1%a1%e4%bb%a3%e8%a8%80%e4%ba%ba%e4%b8%8e%e7%a8%8b%e5%ba%8f%e5%91%98" target="_blank" rel="noopener">yymwz.com上的查看照片链接</a>） <a href="https://www.bokeyy.com/wp-content/uploads/2011/3/http_imgload3_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/http_imgload3_thumb.jpg" alt="http_imgload3" title="http_imgload3"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/IMG_9129_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/IMG_9129_thumb.jpg" alt="IMG_9129钱包照2张 (4)" title="IMG_9129钱包照2张 (4)"></a> 第六部分：时尚起义摄影工作室写真 简评：让我明白了什么叫一分钱一分货 消费：共￥399.00，其中 订金：￥100.00 尾款：￥299.00 车费：免费（因为我无景点要求，他们帮忙选的附近景点，免费专车送达） 隐性消费：无 购买底片：共 34 张底片，包含在 ￥399.00 里面，无需另外交钱 照片：（部分照片：<a href="https://plus.google.com/photos/103735075205245292239/albums/5629497941693390817" target="_blank" rel="noopener">google plus上的查看照片链接</a>） <a href="https://www.bokeyy.com/wp-content/uploads/2011/8/http_imgload2_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/8/http_imgload2_thumb.jpg" alt="http_imgload2" title="http_imgload2"></a>  <a href="https://www.bokeyy.com/wp-content/uploads/2011/8/IMG_5458_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/8/IMG_5458_thumb.jpg" alt="IMG_5458" title="IMG_5458"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/8/IMG_5308_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/8/IMG_5308_thumb.jpg" alt="IMG_5308" title="IMG_5308"></a> <a href="https://www.bokeyy.com/wp-content/uploads/2011/8/http_imgload11_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/8/http_imgload11_thumb.jpg" alt="http_imgload11" title="http_imgload11"></a> 第七部分：总结 其中： <a href="http://afang.org/" target="_blank" rel="noopener">alin</a> 就是表示，他的价值观不同，不爱看写真； 其它人要么夸不错，要么沉默； 我妈首先问：哪来这么多钱？我答工资以后她说：还挺会享受生活的 <img src="https://www.bokeyy.com/wp-content/uploads/2011/3/wlEmoticon-smile_2.png" alt="微笑">~听到她这么说我很开心~~</p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 琐事 </tag>
            
            <tag> 分享 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 写真 </tag>
            
            <tag> 厦门 </tag>
            
            <tag> 可靠商家 </tag>
            
            <tag> 团购 </tag>
            
            <tag> 摄影 </tag>
            
            <tag> 艺术照 </tag>
            
            <tag> 速查 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>零散的过去时与进行时</title>
      <link href="/post/e9-9b-b6-e6-95-a3-e7-9a-84-e8-bf-87-e5-8e-bb-e6-97-b6-e4-b8-8e-e8-bf-9b-e8-a1-8c-e6-97-b6.html"/>
      <url>/post/e9-9b-b6-e6-95-a3-e7-9a-84-e8-bf-87-e5-8e-bb-e6-97-b6-e4-b8-8e-e8-bf-9b-e8-a1-8c-e6-97-b6.html</url>
      <content type="html"><![CDATA[<p>如同面试快乐学习的老师一样的，面谈爱情连连看也是谈的懵懵懂懂，反正这两者有个共同点，就是都是我自己是什么样子就说什么样，基本不考虑对方要求。</p><p>快乐学习的一面挂了，爱情连连看的结果未知。不过，只要想象一个没有工作的重点本科毕业生上电视寻找爱情的画面，就能感到这件事情的可笑吧！考研之前家人说了，等你上研了稳定了就给介绍对象。如今没有考上，尚在无业，等得心里发堵。不过也快了，我晓得，他们会尽快让我稳定下来的。</p><p>我在微博上抱怨厦门人事局的拒绝我的专业报考要求“生物科技类”专业的职位的事情，得到了肥龙等人的关于我去考事业单位的质疑。在他们眼里，这些都好垃圾阿。的确，我究竟想要个什么样的职业呢？其实一直自以为企业才适合我，等到被老妈灌输了半天，关于事业单位比较稳定，关于公务员不容易被开除之类的以后，我也迷茫了。</p><p>其实我只是个不晓得央企、私企、外企等等究竟算是如何如何一回事、有何区别的孩子，大学期间臆想自己的职业，无非是灵活机动、凭能力的那种。甚至最好有些挑战性，最好很不稳定。可是等到2011年的3月，妈妈告诉我家乡人纷纷传言我二十五六岁还没有男朋友的时候，当我一遍遍的面对他们关于我怎么没有工作的质疑的时候（其实我真是辞职太迟了，话说这些人都不懂得考研的人基本都辞职么？），当我一遍遍的乱投简历的时候，我只想着我要安定下来，有一份稳定的收入，才有时间做自己爱做的事情，才可以看书、学习而不必担心口粮问题。</p><p>甚至，我150分的生物化学只有54分的成绩出来时，虽然在意料之中，却不得不面对老妈的叹息和眼泪，不得不面对她一遍遍念叨如果……我已经是研二了之类。等到这时，我甚至不晓得如何才是自己喜欢的生活，只要大部分人看着对头，看着好看就好。而毕业以后心态和年龄改变，也早已事实上弄乱了我原本如果有的设想。</p><p>还是一如既往的羡慕找早已找到爱情的人，然后一遍遍对比着身边的男生，一遍遍强化那种”只要我觉得不错的单身男，往往比我小“的想法。心里面时时自危着，想着是不是大家都恋爱太早，早已经不剩下几个了。每每觉得缺少关心的时候，就会发现自己尚不稳定，想寻觅爱情也是无的放矢。我才二十三周岁，但是在某些讲话不太好听的人嘴里，就是非要说成我25岁，我又能如何？甚至常常害怕，害怕那句网络谣言“你嫁或者不嫁，那些人人就在那里，不会变多，只会变少”……</p><p>舅舅还是如进入大学之前一样叫我珍惜时间、珍惜时间、女生的时间是很宝贵的，如此之类。也许在长辈的眼里，我担心的这些都不算什么了吧！反正我总能安定下来，然后就可以把我嫁了，就各方面都顺遂了。</p><p>如果曾经在武平县红东村的那个客家小院里安静看书的孩子，有否设想，如果遇到这些问题会应该怎么办；那个自知肢体力量不如很多人的孩子，有否设想，有一天自己会莫名丢下了梦想，又迟疑的拾起来；那个孩子一遍遍的看着四方风土人情，一遍遍憧憬的时候，可否想象原来让周围的人安心的方法，竟然还是一直一直留在离家不远的地方；当那个孩子失去所有自信的时候，有否想到只是在鼓励下按步就班，结局还是会坐在高等学府的课堂上；而当那个孩子在母亲的陪同下懵懂的离乡，有否想过大学里面的生活，原来是这样。</p><p>回想一下，生活就这么零散着。小时候总因为诗朗诵、做主持、写作文而有很多同学认识，可是谁晓得就会喜欢上理工科呢？只为喜欢逻辑确定性，如愿进入大学念工科的时候，又怎么会想到，其实这些什么确定性、什么逻辑性，真正到了现实，还不都是经验形式的、无法说明的？谁又晓得其实这些学科的逻辑性，并不是像中学的一般从头到尾都明明白白的呢？谁又晓得，这些所谓的理科，一半是完全经验的，另一半即使完全可以推导，也完全不是高中理科一样意义明确呢？谁又晓得，高等数学也根本在靠经验解大部分实际世界遇到的方程的呢？谁又晓得，其实还是要记忆公式、还是要死记硬背，天天翻书就看见毫无温情的反应器，总也缺乏老师悉心指导下的，阅读饱含人文关怀和动人智慧的文艺作品的乐趣呢？谁又晓得，有一天我和学妹聊天时，会一同认为这些所谓“逻辑”根本不是当初想要的了呢（其实比起文科，我还是庆幸学了理工科，只不过那些反应器之类实在是太冷冰冰的东西，而老师也并没有教我们如何能有一个睿智而雄辩的思维）？就像三国杀一样，人们往往在五谷丰登里面选择“无中生有”而不是“桃”，仅仅因为无中生有代表着希望。未知的希望，总是如此美好，哪怕打乱了本来可控的未来。哪怕大家其实都很清楚很可能只能换来两张闪，却依然被“希望”两个字蒙蔽着。</p><p>希望是好的，是否选择希望也是可以权衡的。</p>]]></content>
      
      <categories>
          
          <category> 陈年旧事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 回顾 </tag>
            
            <tag> 展望 </tag>
            
            <tag> 理想 </tag>
            
            <tag> 规划 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>爱情连连看厦门选拔日记</title>
      <link href="/post/e7-88-b1-e6-83-85-e8-bf-9e-e8-bf-9e-e7-9c-8b-e5-8e-a6-e9-97-a8-e9-80-89-e6-8b-94-e6-97-a5-e8-ae-b0.html"/>
      <url>/post/e7-88-b1-e6-83-85-e8-bf-9e-e8-bf-9e-e7-9c-8b-e5-8e-a6-e9-97-a8-e9-80-89-e6-8b-94-e6-97-a5-e8-ae-b0.html</url>
      <content type="html"><![CDATA[<pre><code>早在备战考研北大生物信息学中心的时候就点过“爱情连连看”的报名链接。当时珍爱网有来电话通知要将我的资料上交审核，我答应了。后来却一直没等到导演的电话。前几天又点了一次报名链接，这次很快收到了短信通知，并在前天下午收到了电话面谈通知。经过一番准备，特地看了一晚上“爱情连连看”的节目以后，洗了个头，早早休息。第二天早上10点便坐上了47路公交车。终点站就是软件园二区了。打电话确定了36号楼的方位以后，在一路上遇到的几位工作人员的分别指引下，领取了信息填写表格，走进了等待面谈的报告厅。来的人很多，总体而言男性占多数。我被排到了24号。旁边的两位像是来参加的女子，都很面善，一位给我倒水，另一位给我借笔。我低头填表，无非是些自身条件、对方条件和联系方式等等。台上有一男一女两位主持在不断的鼓舞台下的报名者上去展示自我、娱乐大众。我有些困，靠在椅子上面养神，只听见来参加的男男女女大多至少86年以前出生，且很有些婚姻不幸的人。相较之下，觉得自己参加这种活动似乎很不搭调。但是想到上电视的那些女生许多都比我年级小，也就不再纠结了。那位女主持在台上大声透露，说导演想找特别有自我，特别与众不同的人。大约到快中午叫到了24号，我起身，在几位工作人员的指引下，进了一扇门。门关上了，里面坐着一男一女，谈吐中让人很有些亲切感。他们无非问些恋爱经历、想找什么样的男生、为什么参加和“爱就大声说”的宣言。问毕，他们替我做了些分析，然后告诉我，导演现在想找的是那些在台上语言活跃的、直白表达自己想法的人，而不是这样也行、那样也行的大众化的人，问我能否做到。我答也许能吧！于是我的表格被收起来，被通知等待见大导演。在门外椅子上等待的过程中认识了两个同来选拔的男生。他们的资料上都写着身高168cm。其中一个直接问我要电话，被吓着了没给。另外一个则是和善的攀谈起来，于是我们聊着，一起去吃了午饭。这途中了解到他是大专学历，在厦大读夜校。但是他的脑子倒是颇为灵活，与人相处上似乎也挺懂事。他现在在他的母校做教学秘书，告诉了我他的不少经验。互留了名片以后，我心里感叹，出了社会以后，也许对很多东西的看法、想问题的思路就该变一变吧！到我时，我推开门，里面是明亮的密闭的空间，一股淡淡的烟味飘进鼻孔。里面坐着一个也是“微胖界”的身材魁梧的男子，这便是大导演了吧！也是首先叫我介绍感情经历，然后问为什么没有工作，最后也是提到了那一点，便是上电视要言语活跃、立场明显。我道，要是立场明确，言语激烈，就立刻成了全国网络无聊分子枪打出头鸟的口水对象，若立场不明，则无法引起观众注意吧！他坦然回答，既然要上电视，又怎么能不引起注意呢？诚然，有谁爱看一群女的唯唯诺诺、小心翼翼的找出各种无聊的理由拒绝男嘉宾呢？电视征婚也可以作为一个各类女孩子内心择偶标准的展示平台吧！而这才是很多观众喜欢看的，不是么？导演只问我，有何明确的找对象的要求，我一一回答了。之后便无事，我独自离开了软件园。</code></pre>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结 </tag>
            
            <tag> 琐事 </tag>
            
            <tag> 分享 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 面试 </tag>
            
            <tag> 爱情连连看 </tag>
            
            <tag> 相亲 </tag>
            
            <tag> 选拔 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>七色花</title>
      <link href="/post/e4-b8-83-e8-89-b2-e8-8a-b1.html"/>
      <url>/post/e4-b8-83-e8-89-b2-e8-8a-b1.html</url>
      <content type="html"><![CDATA[<p>小时候读到的，映象很深的一个小故事：“母亲节两个小孩要采一束七色花送妈妈。他们一同往山上走，一个小孩见到美的花管它什么颜色都采下来，另一个小孩很固执认为这不是我要的七色花就没采。后者空手而归，前者却捧着一把五颜六色的花回来。然后他发现：那就是一束七色花。”</p><p>2007年我的博客上评论：认真采下每一束你遇到并可采的好花，之后它就是你梦想的七色花。意思是不论是专业知识还是兴趣爱好，不论专业喜欢与否，干脆不纠结、不决定，遇上了就认真对待，生命也会开出七色花。</p><p>如今已经是2011年了，我就仿佛那个去山上采花的小孩。明明世界上并不存在七色花，然而故事里面的小孩就是想采。明明不可能采到七色花，但是一束乱七八糟颜色的花可以硬被当成是七色花。明明朝三暮四不能得到积累，还是随心而为。就好比去台湾之前非要去参加次全国大学生数学建模竞赛一样，参加的理由还莫名其妙，只是因为一位朋友曾经无心的说要一起去。虽然得奖了，但是我的简历上又一个莫名其妙的方向出现了。直到今天，我还需解释为什么大四上学期没有考研，只因为一个突发的念头就决定去了台湾。</p><p>会一些编程的东西，但是不知道怎么的就是无法将简历修饰到让人信服。想想毕业至今的求职经历，喜欢看我的简历的最后都是招聘业务员的吧！我也不知道自己是否采到了七色花。有人说，企业需要的Generlist比Speciallist要多，那我可以不可以算那个通才？？</p><p>然而前不久，为了心存已久的志向，结合自己的专业特长和兴趣爱好，我报名了PKU的CBI中心的研究生考试。用青春赌明天，几个月的努力的结果是总分第五、计算机基础第二，生物工程的满分150的专业课生物化学只考了55分，又是失败了。</p><p>再次回想所谓的七色花的故事，我无法知道把故事画在《儿童画报》上的人是为何而讲述这个故事。我的理解和他的目的必然有偏差。或许，他只是要看故事的小朋友们学会善待眼前，珍惜眼前，自然能得到幸福吧！而我的做法，有大体方向并且不做限定或许是对，但是遇事不仔细考虑周到就不妥了吧！付出努力固然应该，但是结果到眼前不去珍惜也是不好吧！好像也说不出哪里是错的，也许有一天，我能继续讲这个七色花的故事。</p>]]></content>
      
      <categories>
          
          <category> 陈年旧事 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>求职网页程序员的历程（一）</title>
      <link href="/post/job1.html"/>
      <url>/post/job1.html</url>
      <content type="html"><![CDATA[<p>本文使用Windows Live Writer编写。</p><p>在Jennal的指导下，又改了一次简历。</p><p>Jennal苦口婆心的说要加上作品索引，然而我一列表发现：两个自己从头做的被删除了、两个博客是套用现成Wordpress和Z-Blog的、厦大搜索很强大但使用的是Google的自定义搜索索引所有的网站、功能修改的那个还在修改中、唯一现存的那个需要用户名和密码才能看……顿时内牛满面阿……</p><p>以上还不够，虽然求职意向上面还有PHP程序员这个词，但我的经历里面完全没有体现出任何和PHP有关的东西（我本来就只会ASP的嘛），而Jennal说他们那边只招收PHP的~~~</p><p>最后上简历，从求职意向开始，如下。</p><p><strong>求职意向</strong></p><blockquote><p>ASP程序员 /  PHP程序员</p></blockquote><p><strong>自我评价</strong></p><blockquote><p>擅长ASP、JavaScript的网站开发，具备算法、C\C++ 的基本基础。大多数语言易上手。</p></blockquote><blockquote><p>2011年参加北大生物信息学专业考研，计算机基础得分114，排名第二。</p></blockquote><p><strong>外语水平</strong></p><blockquote><p>CET6 538</p></blockquote><p><strong>学习工作经历</strong></p><blockquote><p>工作经历</p></blockquote><blockquote><p>2010.7 - 2010.11 厦门合利信仪器仪表有限公司                        销售工程师</p></blockquote><blockquote><p>2008.7 - 2008.8  福建南南亚热带花卉研究所                               英语翻译（实习）</p></blockquote><blockquote><p>学习经历</p></blockquote><blockquote><p>2006.9 - 2010.7  厦门大学化学化工学院化学工程与生物工程系  生物工程学生（学士学位）</p></blockquote><blockquote><p>2009.9 - 2010.2  台湾东海大学工学院化材系                            生物工程交换生</p></blockquote><blockquote><p>2009.8                中国科学院过程工程研究所暑期班                  学员</p></blockquote><p><strong>作品索引</strong></p><blockquote><p>厦门大学生物医学工程研究中心仪器药品平台   <a href="http://rcbme2.xmu.edu.cn/" target="_blank" rel="noopener">http://rcbme2.xmu.edu.cn/</a></p></blockquote><blockquote><p>挂靠580网（发布功能修改）                          <a href="http://www.guakao580.com/" target="_blank" rel="noopener">http://www.guakao580.com/</a></p></blockquote><blockquote><p>第四届全国几何设计与计算学术会议官方网站   <a href="http://math.xmu.edu.cn/gdc2009/" target="_blank" rel="noopener">http://math.xmu.edu.cn/gdc2009/</a>（已删除）</p></blockquote><blockquote><p>厦门大学第十三届共青团代表大会官方网站      <a href="http://tw.xmu.edu.cn/twnew/tdh/" target="_blank" rel="noopener">http://tw.xmu.edu.cn/twnew/tdh/</a>（已删除）</p></blockquote><blockquote><p>厦大搜索                                                       <a href="http://tw.xmu.edu.cn/xmusearch/" target="_blank" rel="noopener">http://tw.xmu.edu.cn/xmusearch/</a></p></blockquote><blockquote><p>厦门大学团委网站（维护）                             <a href="http://tw.xmu.edu.cn/" target="_blank" rel="noopener">http://tw.xmu.edu.cn/</a></p></blockquote><blockquote><p>袁袁们的网站（Wordpress）                         <a href="http://www.yuanSite.info/" target="_blank" rel="noopener">http://www.yuanSite.info/</a></p></blockquote><blockquote><p>袁源的个人博客（Z-Blog）                            <a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a></p></blockquote><p><strong>学校荣誉</strong></p><blockquote><p>厦门大学2010年度单项奖学金：创新型奖学金（团队奖）  2010.6</p></blockquote><blockquote><p>厦门大学优秀新闻工作者（担任校青年宣传中心网络部长） 2009.12</p></blockquote><blockquote><p>国家大学生数学建模竞赛省一等奖（团队奖）  2009.9</p></blockquote><blockquote><p>厦门大学“挑战杯”上海世博会专项竞赛三等奖           2009.6</p></blockquote><blockquote><p>厦门大学ACM校优秀选手奖（前15名） 2008.6</p></blockquote><blockquote><p>厦门大学漳州校区“优秀学生会干部”  2008.6</p></blockquote>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 程序员 </tag>
            
            <tag> 找工作 </tag>
            
            <tag> 求职 </tag>
            
            <tag> 简历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>恭喜您找对了，就是这里！</title>
      <link href="/post/helloworld.html"/>
      <url>/post/helloworld.html</url>
      <content type="html"><![CDATA[<pre><code> 为了能够爱怎么改就怎么改，选择了基于熟悉的ASP编写的Z-blog来建立自己的小窝。Z-Blog的插件资源和主题资源已经非常丰富了，但后台的界面美观和功能强大还是比不上Wordpress啊！谁让Wordpress有开源的力量呢？用着用着甚至觉得，尽管不熟悉PHP，使用WordPress还会比用Z-Blog更顺手一些~而且Z-Blog随便做点全局改动，往往就要重建文件。而文章越多，重建费时越大。这是为了静态文件带来的速度么？ 希望到了真正想改代码的时候，Z-Blog能有一份亲切感。 此外，本站也启用了垃圾评论控制插件和SEO插件~~但似乎没看到搜索引擎有收录阿！ 罗马不是一夜建成的，袁源就在[www.bokeYY.com](http://www.bokeYY.com)安家了~希望朋友们多来看。小窝暂时这一年也没有什么风格之类的变化了，有空再把友情链接、广告什么的都放上来吧！ 其实，以前写的文章也似乎都是些琐事，只对自己有用。很多日记只是当时的心情记录，迁移过来不值得，贸然放弃又少了一份回忆。我要每次都用Windows Live发文，把一部分文章自动投递到[www.yuanSite.info](http://www.yuanSite.info)。 袁源这么个名字的人实在太多，叫歪歪的人更是多上加多，英文名叫Vivian的就更无法统计了，所以搜索引擎很难找此博客，请牢记本站域名：[bokeYY.com](http://www.bokeYY.com) 。</code></pre>]]></content>
      
      <categories>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
            <tag> 网页 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 试用心得 </tag>
            
            <tag> 建站手记 </tag>
            
            <tag> Z-blog </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相册列表</title>
      <link href="/post/photos.html"/>
      <url>/post/photos.html</url>
      <content type="html"><![CDATA[<h2 id="相册列表"><a href="#相册列表" class="headerlink" title=" 相册列表"></a> 相册列表</h2><p>所有写真集地址，链接文字是提供拍摄服务的工作室名称。</p><ul><li><a href="https://plus.google.com/photos/103735075205245292239/albums/5629497941693390817" target="_blank" rel="noopener">厦门时尚起义摄影工作室</a>（照片在 google+） </li><li><a href="http://www.yymwz.com/web-programming/%e8%a2%81%e8%a2%81%e4%bb%ac%e7%9a%84%e7%bd%91%e7%ab%99%e5%bd%a2%e8%b1%a1%e4%bb%a3%e8%a8%80%e4%ba%ba%e4%b8%8e%e7%a8%8b%e5%ba%8f%e5%91%98" target="_blank" rel="noopener">厦门爵配摄影工作室“我的绝配”</a> </li><li><a href="http://www.yymwz.com/romantic-winter" target="_blank" rel="noopener">厦门橙色摄影工作室“浪漫冬季”</a></li><li><a href="http://www.yymwz.com/index-recomend/%e5%85%b0%e8%8a%b1%e8%bd%bf%e4%b8%bb" target="_blank" rel="noopener">厦门浪漫芭莎婚纱摄影“公主日记”</a></li><li><a href="http://www.yymwz.com/index-recomend/%e5%8e%a6%e5%a4%a7%e5%a5%b3%e7%94%9f" target="_blank" rel="noopener">厦门Laman摄影工作室可爱风</a></li></ul>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 写真 </tag>
            
            <tag> 分组相册 </tag>
            
            <tag> 网络相册 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[笔记] 给搜索引擎提交网站信息</title>
      <link href="/post/e7-bb-99-e6-90-9c-e7-b4-a2-e5-bc-95-e6-93-8e-e6-8f-90-e4-ba-a4-e7-bd-91-e7-ab-99-e4-bf-a1-e6-81-af.html"/>
      <url>/post/e7-bb-99-e6-90-9c-e7-b4-a2-e5-bc-95-e6-93-8e-e6-8f-90-e4-ba-a4-e7-bd-91-e7-ab-99-e4-bf-a1-e6-81-af.html</url>
      <content type="html"><![CDATA[<p>参考资料：<a href="http://apps.hi.baidu.com/share/detail/106964" target="_blank" rel="noopener">http://apps.hi.baidu.com/share/detail/106964</a><br>为了让<a href="http://www.yymwz.com/" target="_blank" rel="noopener">袁袁们网站</a>能被更多的搜索引擎收录，本文记录了菜鸟初步SEO遇到的琐事和总结。 参考资料中经本人试用，发现可用并成功登陆的URL如下：  </p><p>百度搜索引擎免费登录地址：<a href="http://www.baidu.com/search/url_submit.html" target="_blank" rel="noopener">http://www.baidu.com/search/url_submit.html</a>  </p><p>google搜索引擎免费登录地址：<a href="http://www.google.com/addurl/?hl=zh-CN&amp;continue=/addurl" target="_blank" rel="noopener">http://www.google.com/addurl/?hl=zh-CN&amp;continue=/addurl</a>  </p><p>中国雅虎搜索引擎登录入口：<a href="http://search.help.cn.yahoo.com/h4_4.html" target="_blank" rel="noopener">http://search.help.cn.yahoo.com/h4_4.html</a>  </p><p>英文Yahoo！网站登陆提交地址：<a href="http://search.yahoo.com/info/submit.html" target="_blank" rel="noopener">http://search.yahoo.com/info/submit.html</a>  </p><p>MSN Live Search搜索引擎登陆：<a href="http://search.msn.com/docs/submit.aspx?FORM=WSUT" target="_blank" rel="noopener">http://search.msn.com/docs/submit.aspx?FORM=WSUT</a>  </p><p>DMOZ中文网站登陆地址：<a href="http://www.dmoz.org/World/Chinese_Simplified/" target="_blank" rel="noopener">http://www.dmoz.org/World/Chinese_Simplified/</a>  </p><p>DMOZ英文网站登陆地址：<a href="http://www.dmoz.org/add.html" target="_blank" rel="noopener">http://www.dmoz.org/add.html</a>  </p><p>Sogou网站免费登录入口说明: <a href="http://www.sogou.com/docs/help/webmasters.htm#01" target="_blank" rel="noopener">http://www.sogou.com/docs/help/webmasters.htm#01</a>  </p><p>中搜网站免费登陆地址: <a href="http://ads.zhongsou.com/register/page.jsp" target="_blank" rel="noopener">http://ads.zhongsou.com/register/page.jsp</a>  </p><p>网易有道搜索网站免费登陆地址：<a href="http://tellbot.youdao.com/report" target="_blank" rel="noopener">http://tellbot.youdao.com/report</a>  </p><p>TOM搜索网站登陆地址：<a href="http://search.tom.com/tools/weblog/log.php" target="_blank" rel="noopener">http://search.tom.com/tools/weblog/log.php</a><br>注意：登陆Google搜索引擎提交sitemap时，Wordpress siteMap插件需要在站点根目录下手动创建名为 sitemap.xml 的空文件，才会开始自动生成siteMap。</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 建站手记 </tag>
            
            <tag> 登陆搜索引擎 </tag>
            
            <tag> 菜鸟SEO </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>1美元域名bokeYY.com注册历程</title>
      <link href="/post/1-e7-be-8e-e5-85-83-e5-9f-9f-e5-90-8dbokeyy-com-e6-b3-a8-e5-86-8c-e5-8e-86-e7-a8-8b.html"/>
      <url>/post/1-e7-be-8e-e5-85-83-e5-9f-9f-e5-90-8dbokeyy-com-e6-b3-a8-e5-86-8c-e5-8e-86-e7-a8-8b.html</url>
      <content type="html"><![CDATA[<p>[本文原载地址：<a href="http://www.yuansite.info/web-programming/bokeyy-com-register" title="http://www.yuansite.info/web-programming/bokeyy-com-register" target="_blank" rel="noopener">http://www.yuansite.info/web-programming/bokeyy-com-register</a>]</p><p>2011年2月份，网络上流传着GoDaddy的新的1美元域名的优惠码PRESIDENT。Godaddy.com的首页上也挂出”special offer”的提示。</p><p><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/0e0df61f7ac5e830f724e40f_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/0e0df61f7ac5e830f724e40f_thumb.jpg" alt="0e0df61f7ac5e830f724e40f" title="0e0df61f7ac5e830f724e40f"></a></p><p>我的号之前只买过2.17美元的<a href="http://www.yuanSite.info" target="_blank" rel="noopener">www.yuanSite.info</a>，本以为我也能享受优惠。谁知使用了该优惠码以后，购物车总额变成12美元多，附加了三个月的捆绑Website Tonight服务，而我想买的域名 <a href="http://www.bokeYY.com" target="_blank" rel="noopener">www.bokeYY.com</a> 也只优惠到$1.99。加上$0.18的附加费，依然和<a href="http://www.yuanSite.info" target="_blank" rel="noopener">www.yuanSite.info</a> 一样要$2.17，还得强制为他的捆绑服务付费。</p><p>删除掉犯傻买的12美元多的服务并申请退款后，我在Godaddy群上找到了星辰君，他建议我重新注册一个号。</p><p>果然重新注册后，用原来的信用卡付款就成功了，也就是<a href="http://www.bokeYY.com" target="_blank" rel="noopener">www.bokeYY.com</a>。我猜~能享受到这个优惠的新用户必须“很新很新”的，新到刚刚注册吧……我之前从没有买过1美元域名，也不晓得以这种方式购买算不算违规了。<br>bokeYY.com送的礼品比我的2.17美元买到的yuanSite.info多：<br>1、可以试用 Website Tonight （一个五页的网站自助建设服务）一个月，记得要手动关闭自动续费（如果忘记了，被扣钱可以申请退款）~而yuanSite.info只有Instant Page；<br>2、可以有两个<a href="mailto:“@bokeyy.com" target="_blank" rel="noopener">“@bokeyy.com</a>”的企业邮箱送：其中一个1G，自定义一个账号，和我的yuanSite.info一样；另外一个100M，自定义100个帐号，每个帐户的空间可调整（做企业邮局不错阿）；<br>3、和yuanSite.info一样有一个可外链的不限图片大小的10G带宽的1G容量相册；<br>4、和yuanSite.info一样可以自动生成一个“网站建设中”或者“此域名出售”的网页。</p><p>最后再记录下今天凌晨注册1美元域名失败的血泪史。为了试验是不是购买以后，删除捆绑的Website Tonight的两个月的服务，就可以享受$2.17美元一年的yuanboke.com这件事情，白白折腾掉了12美元多。已申请退款，此路不通。怕退款失败，不敢只申请退款一个服务，都退掉了。</p><p>这里的1美元一年是第一年的价格，第二年续费的时候用优惠码是$6多一些。一次性续费年份越长，越便宜。（info域名是反过来，一次性续费时间越长，越贵）</p><p>那段时间淘宝上有卖23.8元/年的GoDaddy国际顶级域名（包括.com等）代购，其实质就是帮您购买这种1美元域名。</p><p>欢迎访问：<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a></p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GoDaddy </tag>
            
            <tag> 优惠码 </tag>
            
            <tag> 域名 </tag>
            
            <tag> 域名注册 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 琐事 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>不到30人民币每年的入门级全能主页空间</title>
      <link href="/post/e4-b8-8d-e5-88-b030-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84-e5-85-a5-e9-97-a8-e7-ba-a7-e5-85-a8-e8-83-bd-e4-b8-bb-e9-a1-b5-e7-a9-ba-e9-97-b4.html"/>
      <url>/post/e4-b8-8d-e5-88-b030-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84-e5-85-a5-e9-97-a8-e7-ba-a7-e5-85-a8-e8-83-bd-e4-b8-bb-e9-a1-b5-e7-a9-ba-e9-97-b4.html</url>
      <content type="html"><![CDATA[<p>本文说的是本站 2011年2月-2011年7月使用的空间，即“博客歪歪”（<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a>） ，因为该空间过了评价期就极其不稳定而最终被提前放弃。 若您依然有兴趣了解该空间，请看如下正文： ===================正文开始的分割线================= 2011年2月22日是比较浪费时间的一天。用一天的时间上网搜寻是否有一个免费的、空间不用太大的、支持ＰＨＰ或者ＡＳＰ的动态空间，用来展示我自己做的页面。这一整天的努力只换来一个教训，那就是：天下没有免费的午餐。 申请了主机屋、noFeeHost、Zymic等许多网络上推荐较多的空间。它们要么表面免费实则意图骗钱（还不晓得个人信息会不会被拿去卖）；要么国内不能访问；要么申请还没通过就发现网络上早已恶评如潮‍。而免费空间在国内的稀有似乎是一条铁律：GoDaddy.com就在不久前取消了买域名赠送１０Ｇ免费动态空间的福利（找了好久没找到，后来才知取消了）。尝试Google那些低价的（１００ＲＭＢ以下/年）、动态的、容量不大的空间，可能是搜索方法的问题，并无所获‍。还有流言说每年四月份是虚拟主机的促销旺季，也还要一个多月。 然而，最后还是找到了，是<a href="http://trade.taobao.com/trade/detail/tradeSnap.htm?tradeID=64799196018372" target="_blank" rel="noopener">http://trade.taobao.com/trade/detail/tradeSnap.htm?tradeID=64799196018372</a>。在淘宝用销量递减排序的方法发现的：28人民币每年，海外免备案，不限流量，100M大小，限制CPU为3%，是否限IIS连接数未知，全能支持ASP、ASP.NET、PHP、MYSQL等，中文自助面板（地址<a href="http://www.zscnet.com/" title="http://www.zscnet.com/" target="_blank" rel="noopener">http://www.zscnet.com/</a>），只能建立一个站点，该站可绑定五个域名。只能说对于<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a>来说是完全够用的。 <a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a>采用的是Z-Blog，而本空间曾经是Wordpress站 <a href="http://www.yuansite.info/" target="_blank" rel="noopener">http://www.yuansite.info/</a> 的专用空间。使用Wordpress在本空间建站时，不知何故（本人Wordpress小白），虽无什么图片，空间占用率却急剧升高；每日只有最多50人访问，却屡屡被告知无法打开，Google Analytic报告中网站跳出率更是高达55%。 跳出率和yuansite.info本身的内容的吸引程度或许有关。后来，<a href="http://www.yuansite.info/" target="_blank" rel="noopener">yuansite.info</a>的空间迁到了国内的<a href="http://www.xmgeek.com/" target="_blank" rel="noopener">xmgeek.com</a>以后，平均跳出率降低了，保持在35%左右，<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a>也就此安家落户 。不晓得是否Z-blog更为适应本空间，或是“<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">博客歪歪</a>”不如<a href="http://www.yuansite.info/" target="_blank" rel="noopener">yuansite.info</a>一般有这么大地域范围的访客（博客歪歪的访客集中在某个城市，建站至2011-3-27总共只有三十多个绝对独立的访客），还是图片较少,还是没有插件所以运行飞快（现在下载时间测定依然是<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">bokeyy.com</a>远短于<a href="http://www.yuansite.info/" target="_blank" rel="noopener">yuansite.info</a>），还是别的原因，<a href="https://www.bokeyy.com/" target="_blank" rel="noopener">https://www.bokeyy.com/</a> 的平均跳出率只有6%，网站空间占用率也是居低不上，一直在20%以下。 码字这么多，全望给图便宜的小站长们参考。其实还有一法：注册网赚联盟<a href="http://www.cj.com" target="_blank" rel="noopener">www.cj.com</a>，获取<a href="http://www.micfo.com" target="_blank" rel="noopener">www.micfo.com</a> 的网站主机广告代码。然后自己点自己的链接，花约70美元购买一年半的无限空间服务。三个月后不退款，按照网赚联盟的协议，micfo.com便会支付每次购买100美元的酬金。理论上说是可以赚钱的，但是首先，本人没有试验过；然后，micfo.com的网赚之所以这么好申请，可能和它的主机服务质量在国外的名声不好有关。Google“micfo.com web hosting”，看看排在前面的几个网页，颇有些用户们评价它的主机服务是 nightmare，就可以知道情况了。该如何决定，读者们请自己作主吧！ 最后，本人也发现了国内似乎还是有极个别的免费主页空间提供商，但是已经没兴趣再享用“免费的午餐”了。</p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>和“免费的午餐”对应的一句话是“便宜没好货”。这两句话再次同时被验证了。由于上述淘宝28元一年的全能空间仅前几个月还好，后来就各种脚本无法运行，甚至静态html页有时也挂掉了。今年2月过期不续。<a href="https://www.bokeyy.com/" title="访问本站首页“博客歪歪”" target="_blank" rel="noopener">博客歪歪</a>早在去年迁移成了 wordpress 并换成了 justhost 主机。 2012-04-17 15:57</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 低价位 </tag>
            
            <tag> 分享 </tag>
            
            <tag> 虚拟主机 </tag>
            
            <tag> 主页空间 </tag>
            
            <tag> 低价空间 </tag>
            
            <tag> 免费的午餐 </tag>
            
            <tag> 免费空间 </tag>
            
            <tag> 试用心得 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>不到15人民币每年的info顶级域名</title>
      <link href="/post/e4-b8-8d-e5-88-b015-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84info-e9-a1-b6-e7-ba-a7-e5-9f-9f-e5-90-8d.html"/>
      <url>/post/e4-b8-8d-e5-88-b015-e4-ba-ba-e6-b0-91-e5-b8-81-e6-af-8f-e5-b9-b4-e7-9a-84info-e9-a1-b6-e7-ba-a7-e5-9f-9f-e5-90-8d.html</url>
      <content type="html"><![CDATA[<p>.info是.infomation的缩写，英文是信息的意思。可以用来做信息相关的网站，也可以做个人主页。另外，它还有一个特性是便宜。在<a href="http://www.godaddy.com/" target="_blank" rel="noopener">Godaddy.com</a>上此域名第一年只要$1.99，加上$0.18的附加费共$2.17，折合人民币不到15元。如果续费，最便宜的方法是每年续费一次。窃以为这样的好处是加大了域名的流动：倘若域名持有人拿着域名没什么用，突然就忘记了续费，这就加大的抢注的几率。 很多人会评论某些域名好或者不好，也有很多人会评论.info由于Godaddy.com的优惠成了垃圾站集结地，备受搜索引擎的歧视。这个就见仁见智了吧！ 申请流程可以查看网络上流传的图解教程<a href="http://www.mghost.cn/thread-410-1-5.html" title="http://www.mghost.cn/thread-410-1-5.html" target="_blank" rel="noopener">http://www.mghost.cn/thread-410-1-5.html</a>，和.com之类并无什么区别。域名注册成功之后，赠送免费的Instant Page（就是用于展示的一页网页）、一个可外链的不限图片大小的10G带宽的1G容量相册、一个@您注册的域名.info后缀的1G邮箱和免费自动生成一个“网站建设中”或者“此域名出售”的网页的服务。 我注册的域名是 <a href="http://www.yuansite.info/" target="_blank" rel="noopener">http://www.yuansite.info/</a> ，域名来自“袁袁们网站”的比较土的翻译“Yuans’Site”，欢迎访问。 <a href="https://www.bokeyy.com/wp-content/uploads/2011/3/%E6%9C%AA%E5%91%BD%E5%90%8D_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/%E6%9C%AA%E5%91%BD%E5%90%8D_thumb.jpg" alt="未命名" title="未命名"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/LOGO-with-Chinese_2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/LOGO-with-Chinese_thumb.png" alt="LOGO-with-Chinese" title="LOGO-with-Chinese"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/LOGO-with-Chinese_4.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/LOGO-with-Chinese_thumb_1.png" alt="LOGO-with-Chinese" title="LOGO-with-Chinese"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/yuanSiteLOGO_2.png" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/yuanSiteLOGO_thumb.png" alt="yuanSiteLOGO" title="yuanSiteLOGO"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/3/logo_2.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/3/logo_thumb.jpg" alt="logo" title="logo"></a> 最后奉上<a href="http://www.yuansite.info/" target="_blank" rel="noopener">yuansite.info</a>的“进化”过程中涌现的各种LOGO。其中的几个被封为过“内衣LOGO”，是不是有点像呢？这些LOGO都没法再使用了。  </p><h4 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h4><p>由于很难使不怎么会上网的老人孩子和广大无聊青年快速记住 .info 后缀的域名，<a href="http://www.yuansite.info/" target="_blank" rel="noopener">http://www.yuansite.info/</a> 域名于今年2月到期不续。 2012-04-17 15:53</p>]]></content>
      
      <categories>
          
          <category> 主机域名 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GoDaddy </tag>
            
            <tag> 域名 </tag>
            
            <tag> 域名注册 </tag>
            
            <tag> 总结 </tag>
            
            <tag> 感评 </tag>
            
            <tag> 建站手记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>走上社会半年</title>
      <link href="/post/warm-winter.html"/>
      <url>/post/warm-winter.html</url>
      <content type="html"><![CDATA[<p>  <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0144.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0144-150x150.jpg" alt="问好" title="问好"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0148.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0148-150x150.jpg" alt="迷离" title="迷离"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0098.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0098-e1321282684416-145x150.jpg" alt="娇羞" title="娇羞"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0099.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0099-150x150.jpg" alt="听风" title="听风"></a> <img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0145-150x150.jpg" alt="素色笑容" title="素色笑容">      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0135.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0135-e1321282513276-148x150.jpg" alt="双手" title="双手"></a>      <a href="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0115.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/11/DSC_0115-e1321282330554-139x150.jpg" alt="红玫瑰" title="红玫瑰"></a></p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 写真 </tag>
            
            <tag> 相片 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>考研生活：黎明前的黑暗</title>
      <link href="/post/e8-80-83-e7-a0-94-e7-94-9f-e6-b4-bb-ef-bc-9a-e9-bb-8e-e6-98-8e-e5-89-8d-e7-9a-84-e9-bb-91-e6-9a-97.html"/>
      <url>/post/e8-80-83-e7-a0-94-e7-94-9f-e6-b4-bb-ef-bc-9a-e9-bb-8e-e6-98-8e-e5-89-8d-e7-9a-84-e9-bb-91-e6-9a-97.html</url>
      <content type="html"><![CDATA[<p><a href="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0117.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0117_thumb.jpg" alt="图像0117" title="图像0117"></a></p><pre><code>使用中的书桌，是不是有点点乱呢？上面那个红色小兔子和那包洗衣粉是圣诞得到的礼物。茶杯是补充水分用的，纸巾是面对各种用途。然后就是考研资料、笔、本子、台灯、计算器。书架上面那排书，能看出来书名吧？![微笑](https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/wlEmoticon-smile.png)</code></pre><p><a href="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0116.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0116_thumb.jpg" alt="图像0116" title="图像0116"></a></p><p>睡懒觉了以后，脸色变好了很多。披着那件￥175.00的小皮坎肩，不用穿太多衣服。我从今天开始要努力调整作息，争取要睡午觉到一点或者一点半起床。然后晚上早睡，第二天七点半起床。全面去适应考研的考场时间噢。<img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/wlEmoticon-smile.png" alt="微笑"></p><p>就这样吧，今天宿舍的网络依然悲剧。好想找一个人帮我打听到一个考过CBI研究生的人的经验啊。网络限制，没办法了。看到本帖子的朋友们好运！！</p><p><a href="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0113.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0113_thumb.jpg" alt="图像0113" title="图像0113"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0114.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0114_thumb.jpg" alt="图像0114" title="图像0114"></a><a href="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0115.jpg" target="_blank" rel="noopener"><img src="https://www.bokeyy.com/wp-content/uploads/2011/4/6082cb74ae8c_1351C/0115_thumb.jpg" alt="图像0115" title="图像0115"></a></p>]]></content>
      
      <categories>
          
          <category> 琐事日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研生活 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>HTML+CSS如何让表格与窗口同高</title>
      <link href="/post/htmlcss-e5-a6-82-e4-bd-95-e8-ae-a9-e8-a1-a8-e6-a0-bc-e4-b8-8e-e7-aa-97-e5-8f-a3-e5-90-8c-e9-ab-98.html"/>
      <url>/post/htmlcss-e5-a6-82-e4-bd-95-e8-ae-a9-e8-a1-a8-e6-a0-bc-e4-b8-8e-e7-aa-97-e5-8f-a3-e5-90-8c-e9-ab-98.html</url>
      <content type="html"><![CDATA[<p>[本文原载在我的百度空间：<a href="http://hi.baidu.com/angirlv/blog/item/2a96a7cc3f15b50000e92843.html" title="http://hi.baidu.com/angirlv/blog/item/2a96a7cc3f15b50000e92843.html" target="_blank" rel="noopener">http://hi.baidu.com/angirlv/blog/item/2a96a7cc3f15b50000e92843.html</a>] 据说如今还用Table布局的确比较土，不过鉴于我不晓得怎么用Fireworks CS4导出层的切片。于是还是要考虑到这个问题。 方法一：  </p><p><table height="100%%"><br>或者<table style="height:100%;"><br>height和width不同。width可以用这个方法来轻松与屏幕同宽。而对于height，这个方法只对某些浏览器，比如Firefox适用，IE7和Chrome都不行。方法二支持更多浏览器。 方法二：  </table></table></p><p><table style="height:100%;">的同时，在<html>的标签内加入style属性，变成<html style="height:100%; width: 100%;">。同时对<body>标签也一样，变成<body style="height:98%; width: 98%;"><br>以上方法在IE和Firefox中测试通过。 方法来自国外某论坛2005年的某帖子。本人原样使用，通过。</body></body></html></html></table></p>]]></content>
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>ASP页面编码问题导致网页显示空白</title>
      <link href="/post/asp-e9-a1-b5-e9-9d-a2-e7-bc-96-e7-a0-81-e9-97-ae-e9-a2-98-e5-af-bc-e8-87-b4-e7-bd-91-e9-a1-b5-e6-98-be-e7-a4-ba-e7-a9-ba-e7-99-bd.html"/>
      <url>/post/asp-e9-a1-b5-e9-9d-a2-e7-bc-96-e7-a0-81-e9-97-ae-e9-a2-98-e5-af-bc-e8-87-b4-e7-bd-91-e9-a1-b5-e6-98-be-e7-a4-ba-e7-a9-ba-e7-99-bd.html</url>
      <content type="html"><![CDATA[<p>[本文原载在我的百度空间：<a href="http://hi.baidu.com/angirlv/blog/item/08788344147f5443510ffe86.html" title="http://hi.baidu.com/angirlv/blog/item/08788344147f5443510ffe86.html" target="_blank" rel="noopener">http://hi.baidu.com/angirlv/blog/item/08788344147f5443510ffe86.html</a>]</p><p>在本机的AWS.exe运行正常，在学校的服务器上会出现凡是有包含文件的页面都显示为空白页面。</p><p>于是尝试在服务器端建立了一个文件，并包含在那些显示成空白的页面中，又是可以运行的。原因是所有文件为了输出中文正常都改成了GB2312编码，只有被包含的文件，仍然是UTF-8。</p><p>改正过来以后，将其它显示空白的文件进行检查，发现这些文件全都是UTF-8的编码，更正过来，一切即正常。</p>]]></content>
      
      <categories>
          
          <category> 网站开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
            <tag> ASP </tag>
            
            <tag> 编码错误 </tag>
            
            <tag> 网页 </tag>
            
            <tag> 网页空白 </tag>
            
            <tag> 页面空白 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[台中印象]初到两周：衣、食</title>
      <link href="/post/e5-8f-b0-e4-b8-ad-e5-8d-b0-e8-b1-a1-e5-88-9d-e5-88-b0-e4-b8-a4-e5-91-a8-ef-bc-9a-e8-a1-a3-e3-80-81-e9-a3-9f.html"/>
      <url>/post/e5-8f-b0-e4-b8-ad-e5-8d-b0-e8-b1-a1-e5-88-9d-e5-88-b0-e4-b8-a4-e5-91-a8-ef-bc-9a-e8-a1-a3-e3-80-81-e9-a3-9f.html</url>
      <content type="html"><![CDATA[<p>衣<br>=</p><p>台中人穿衣服比厦门似乎更潮一些,但是整体也差不多。我们如果不说话，并不会被认出是大陆人。</p><p>相对大陆而言，服装店里更潮的衣服比较多，所以仔细挑的话还是很便宜的。Me就挑到一套，加起来450NT（新台币），折合不到一百块人民币的白色露肩平领长款衣服 + 灰色褶边小短裙。</p><p>可惜在回来之前，白色衣服在去晾晒的时候丢了。</p><p>食<br>=</p><p>可能因为是福建人，口味相近，感觉台中的好吃的真是太多了。</p><p>列举一下我们打听到的较为闻名的：</p><ol><li>逢甲夜市：懒人虾、糖葫芦、巨无霸臭豆腐、大肠包小肠；</li><li>一中街：大鸡排、热狗等；</li><li>东海别墅（东别）：芋圆仙草冻、鸡脚冻等；</li></ol><p>懒人虾就是烤虾，因为不用剥壳所以是懒人吃的虾；糖葫芦是把水果冰冻了再裹上糖；巨无霸臭豆腐似乎是上过好几次电视的，号称里面比豆花嫩，外面则很脆，一般是放一点点辣来吃；大肠包小肠，顾名思义，外面是糯米肠，里面是香肠，中间夹了小菜，是一个排队可以排到街对面的小吃；大鸡排真的很大，两个女生消灭一份差不多，50新台币一个，当时可能是饿了，觉得比我吃过的所有鸡排都好吃。</p><p>走在那三个地方的街头，能感觉小吃多仿佛是这个地方的一种氛围，不仅小吃的店面一家连着一家，路中间有时还有摆摊的，比如一中街上老太太们的鸟蛋串什么的，单单这种蛋串就是种类极多。单单是东别，能记得的小吃的种类可能就有上百种吧！然而虽是“小吃”，却都是吃最多两样就能饱的。此外，不知是不是故意想让大家看得见吃不了，这些小吃都是不让切开卖的。我们一群人，一开始还在争相品尝，后来就只能摸着肚子看了，何况口袋里面的钱也不多。</p><p>说到分量大，不得不提的是，几乎所有饮料都是很大的大杯，也就都是能把一个口渴的人喝到基本喝不下的那种分量。虽然没矿泉水，奶茶却是随处可见最便宜的饮料。每家饮料店除了奶茶，种类何止几十种。Buddy说，因为竞争激烈，不同店家的饮料多半各有特色。看来如果带够了钱，一天一杯换着喝，要喝好久好久吧！</p><p>据说东别是烧仙草（这里叫仙草冻）的发源地，45台币可以买扁扁的一陶瓷盆。单看盆的直径还是有些吓人的，吃起来味道不错，可以吃到过瘾吧！东别还有一种闻名的豆子芋园仙草冻。</p><p>有时候想，是不是台中有更浓郁的饮食文化或者氛围，所以东海大学的食科系虽然主修生化及微生物等，却也研究美食。东海大学每年有一个食科周，那一天会有很多人排队购买食科系自主研制的超人气烤鸡。据说即便如此，还是有很多想吃的人没有吃到。可惜的是，这个食科周不在本人在台中的时间范围内。</p><p>想吃水果的话，我们从来没见过挑着扁担的小贩，只能找到切好或者洗好的，配上竹签，塑料盒装，而且常常可以选择要不要撒上酸梅粉之类的调味粉。在漳州校区，莲雾只是一个名字好听的难吃东西而已。在台中的话，我们第一次吃到了果如其名，酸甜适口的莲雾。另外，学校超市会有价格非常高的一个个的进口水果卖。</p><p>最后是价格，外面的小吃和食堂价位类似，,总体40~70新台币左右一顿。食堂一般60新台币以上的就会比较丰盛（4.7新台币 = 1人民币）。至于饮料，食堂有免费的味道类似烧仙草的饮料和橙汁、杏仁茶等等，外面最便宜的饮料是西瓜汁，10NT，其它的都是几十NT不等。由于味道不错，分量也够大，这个价钱还是比较值得的。一句话概括台中的食品价格：同样品质的在大陆的价钱也差不多，只不过在台中我们没有碰到更低价的东西，有可能是因为我们都是外来客吧！</p>]]></content>
      
      <categories>
          
          <category> 陈年旧事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 台湾交流 </tag>
            
            <tag> 台湾印象 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>在windows 7内测版中使用cajviewer 7.02</title>
      <link href="/post/e5-9c-a8windows-7-e5-86-85-e6-b5-8b-e7-89-88-e4-b8-ad-e4-bd-bf-e7-94-a8cajviewer-7-02.html"/>
      <url>/post/e5-9c-a8windows-7-e5-86-85-e6-b5-8b-e7-89-88-e4-b8-ad-e4-bd-bf-e7-94-a8cajviewer-7-02.html</url>
      <content type="html"><![CDATA[<p>[本文原载在我的百度空间：<a href="http://hi.baidu.com/angirlv/blog/item/0cb1553d39fa4ce73d6d97a5.html" title="http://hi.baidu.com/angirlv/blog/item/0cb1553d39fa4ce73d6d97a5.html" target="_blank" rel="noopener">http://hi.baidu.com/angirlv/blog/item/0cb1553d39fa4ce73d6d97a5.html</a>]</p><p>搜索cajviewer 7.02 full的绿色版，解压，绿化，然后运行cajviewer.exe时，会提示找不到一个DLL文件msvcr71.dll（好像是）。</p><p>去网上下载并将这个dll放到cajviewer的运行目录下，再次运行，一切正常。</p><p>备注：测试的时候，我把所有的exe都设为了windows xp兼容模式运行，并且我下载的是一个包，在硅谷动力下载的，有两个dll文件，一起解压放进目录里了。懒得删除一个再试。</p><p>这两个文件是：msvcr71.dll msvcp71.dll</p><p>cajviewer的简单版没有试过。</p>]]></content>
      
      <categories>
          
          <category> 良工利器 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>珍珠</title>
      <link href="/post/pearl.html"/>
      <url>/post/pearl.html</url>
      <content type="html"><![CDATA[<p>QQ Show泡泡一直发不成功，就在这里发吧。 也是今天写给我们小组挂勾的四个留守孩子的小纸片上的话： 生活中有些东西是珍珠 你定不曾愿意拥有那种承载那种回忆那种苦涩 但是 众所周知 珍珠 美丽而且珍贵 扬起自信的帆，加油~</p>]]></content>
      
      <categories>
          
          <category> 陈年旧事 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>具体数学中文版前言三句话摘录</title>
      <link href="/post/e5-85-b7-e4-bd-93-e6-95-b0-e5-ad-a6-e4-b8-ad-e6-96-87-e7-89-88-e5-89-8d-e8-a8-80-e4-b8-89-e5-8f-a5-e8-af-9d-e6-91-98-e5-bd-95.html"/>
      <url>/post/e5-85-b7-e4-bd-93-e6-95-b0-e5-ad-a6-e4-b8-ad-e6-96-87-e7-89-88-e5-89-8d-e8-a8-80-e4-b8-89-e5-8f-a5-e8-af-9d-e6-91-98-e5-bd-95.html</url>
      <content type="html"><![CDATA[<p>[此文原地址：<a href="http://vivian1256.blog.163.com/blog/static/32217603200812413425814/" target="_blank" rel="noopener">http://vivian1256.blog.163.com/blog/static/32217603200812413425814/</a>]</p><ol><li>之所以叫作“具体数学”，是相对于“抽象数学”而言的。</li><li>学习论据最好的方法是，通过自己的努力推导，而不是阅读别人的推导</li><li>对于第一个发现错误者，不管是数学的错误，还是历史的错误或者印刷错误，将奖赏$2.56以示感谢。</li></ol>]]></content>
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摘录 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> 精辟好句 </tag>
            
            <tag> 具体数学 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>C语言学习笔记之——malloc动态申请内存空间要检查是否申请成功</title>
      <link href="/post/c-language-do-we-need-to-check-if-success-using-malloc-apply-for-memory-dynamicly.html"/>
      <url>/post/c-language-do-we-need-to-check-if-success-using-malloc-apply-for-memory-dynamicly.html</url>
      <content type="html"><![CDATA[<p>[百度空间：<a href="http://hi.baidu.com/angirlv/blog/item/457f930acecb9f1c95ca6bb0.html" title="http://hi.baidu.com/angirlv/blog/item/457f930acecb9f1c95ca6bb0.html" target="_blank" rel="noopener">http://hi.baidu.com/angirlv/blog/item/457f930acecb9f1c95ca6bb0.html</a>] #include &lt;stdio.h&gt;  </p><p>#include &lt;stdlib.h&gt; int main(int argc, char <em>argv[])<br>{<br>int n = 10;<br>int i = 0;<br>int j = 0;//全部变量放在一开始去统一声明，这是一个好习惯吗？为什么？ //一维动态数组，让m[i]=i<br>int</em> m = (int<em>)malloc(n</em>sizeof(int));<br>for(i=0;i&lt;n;++i)<br>m[i] = i; //二维动态数组<br>int<strong> pp = (int</strong>)malloc(n*sizeof(int*));//不知道为什么原来要两个<em><br>for(i=0;i&lt;n;++i)<br>pp[i] = (int</em>)malloc(m[i]<em>sizeof(int));//然后是又依法炮制一下咯？子数组大小为m[i]=i<br>for(i=0;i&lt;n;++i)<br>{<br>for(j=0;j&lt;m[i];++j)<br>pp[i][j]=i+j;<br>}//这里又赋值一遍啊？</em>/<br>//打印一维动态数组<br>printf(“一维动态数组：\n”);<br>for(i=0;i&lt;n;++i)<br>printf(“%d “,m[i]);<br>printf(“\n”);//看到这里，好像输出很正常啊<br>//打印二维数组<br>printf(“二维动态数组：\n”);<br>for(i=0;i&lt;n;++i)<br>{<br>for(j=0;j&lt;m[i];++j)<br>printf(“%d “,pp[i][j]);<br>printf(“\n”);<br>}<br>printf(“\n”);<br>//释放空间<br>free(m);<br>for(i=0;i&lt;n;++i)<br>free(pp[i]);<br>system(“PAUSE”);<br>return 0;<br>}<br>//看完了，好像从编译上是没什么错来着，但是<br>//记得当时学习的时候某个大牛有强调过两点<br>//一、动态申请内一定要断定内存申请是否成功，即加入<br>/<em><br>if(m==NULL) exit(0);  </em>/<br>//和<br>/<em><br>if(pp==NULL) exit(0);  </em>/<br>//二、关于它释放内在的方式，原来觉得错了，因为pp不是和m[i]有关吗？<br>//后来发现没错，内存申请完了已经不关它的事情了 //然后在这里记录一下问题：<br>/<em><br>1、为什么 声明数组的时候，m要加一个</em>，pp要加两个<em>？是数组声明都要这样吗？那数组为什么都要这样呢？<br>2、后面要用的循环里面的i和j全部都提前声明了，这样是不是有什么好处啊？  </em>/</p>]]></content>
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>C语言学习笔记之——malloc动态申请内存空间</title>
      <link href="/post/c-e8-af-ad-e8-a8-80-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-e4-b9-8b-e2-80-94-e2-80-94malloc-e5-8a-a8-e6-80-81-e7-94-b3-e8-af-b7-e5-86-85-e5-ad-98-e7-a9-ba-e9-97-b4.html"/>
      <url>/post/c-e8-af-ad-e8-a8-80-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-e4-b9-8b-e2-80-94-e2-80-94malloc-e5-8a-a8-e6-80-81-e7-94-b3-e8-af-b7-e5-86-85-e5-ad-98-e7-a9-ba-e9-97-b4.html</url>
      <content type="html"><![CDATA[<p>[本文原载在我的百度空间：<a href="http://hi.baidu.com/angirlv/blog/item/c8f468817627aedbbc3e1e18.html" title="C语言学习笔记之——malloc动态申请内存空间" target="_blank" rel="noopener">C语言学习笔记之——malloc动态申请内存空间</a>]</p><p>#include &lt;stdio.h&gt;  </p><p>#include &lt;stdlib.h&gt;<br>int main(void)<br>{<br>int n=6,j=0;<br>int<em> i = (int</em>)malloc(n*sizeof(int));<br>for(j=0;j&lt;6;j++){<br>i[j]=j;<br>printf(“%d\n”,i[j]);<br>}<br>system(“pause”);<br>return 0;<br>}</p>]]></content>
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
    </entry>
    
  
  
</search>
